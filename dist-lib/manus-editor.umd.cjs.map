{"version":3,"file":"manus-editor.umd.cjs","sources":["../client/src/components/editor/extensions/TableCellWithMenu.tsx","../client/src/components/editor/extensions/TableSorting.tsx","../client/src/components/editor/extensions/CodeBlockWithFeatures.tsx","../client/src/components/editor/LinkPopover.tsx","../client/src/components/editor/LinkHoverTooltip.tsx","../client/src/components/editor/FloatingToolbar.tsx","../client/src/components/editor/extensions/CalloutWithMenu.tsx","../client/src/components/editor/extensions/ResizableImage.ts","../client/src/components/editor/DatePillComponent.tsx","../client/src/components/editor/extensions/DatePill.ts","../client/src/components/editor/ImageURLDialog.tsx","../client/src/components/editor/SlashCommands.tsx","../node_modules/.pnpm/@radix-ui+primitive@1.1.3/node_modules/@radix-ui/primitive/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-compose-refs@1.1.2_@types+react@19.2.1_react@19.2.1/node_modules/@radix-ui/react-compose-refs/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-context@1.1.2_@types+react@19.2.1_react@19.2.1/node_modules/@radix-ui/react-context/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-use-layout-effect@1.1.1_@types+react@19.2.1_react@19.2.1/node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-use-controllable-state@1.2.2_@types+react@19.2.1_react@19.2.1/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-slot@1.2.3_@types+react@19.2.1_react@19.2.1/node_modules/@radix-ui/react-slot/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-primitive@2.1.3_@types+react-dom@19.2.1_@types+react@19.2.1__@types+rea_e3df678b4bfbefc5aee41d192f5f7c26/node_modules/@radix-ui/react-primitive/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-collection@1.1.7_@types+react-dom@19.2.1_@types+react@19.2.1__@types+re_0f8b5ed9961531f87088df3cce770d63/node_modules/@radix-ui/react-collection/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-direction@1.1.1_@types+react@19.2.1_react@19.2.1/node_modules/@radix-ui/react-direction/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-use-callback-ref@1.1.1_@types+react@19.2.1_react@19.2.1/node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-use-escape-keydown@1.1.1_@types+react@19.2.1_react@19.2.1/node_modules/@radix-ui/react-use-escape-keydown/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-dismissable-layer@1.1.11_@types+react-dom@19.2.1_@types+react@19.2.1__@_6938744f5e4e35f3d76d7cb8422ccfb4/node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-focus-guards@1.1.3_@types+react@19.2.1_react@19.2.1/node_modules/@radix-ui/react-focus-guards/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-focus-scope@1.1.7_@types+react-dom@19.2.1_@types+react@19.2.1__@types+r_2333fdb4f2c057948beb1679adba831f/node_modules/@radix-ui/react-focus-scope/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-id@1.1.1_@types+react@19.2.1_react@19.2.1/node_modules/@radix-ui/react-id/dist/index.mjs","../node_modules/.pnpm/@floating-ui+utils@0.2.10/node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../node_modules/.pnpm/@floating-ui+core@1.7.3/node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../node_modules/.pnpm/@floating-ui+utils@0.2.10/node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","../node_modules/.pnpm/@floating-ui+dom@1.7.4/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../node_modules/.pnpm/@floating-ui+react-dom@2.1.6_react-dom@19.2.1_react@19.2.1__react@19.2.1/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs","../node_modules/.pnpm/@radix-ui+react-arrow@1.1.7_@types+react-dom@19.2.1_@types+react@19.2.1__@types+react@1_b24b5dbb779f4d668717cf1f7775c03b/node_modules/@radix-ui/react-arrow/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-use-size@1.1.1_@types+react@19.2.1_react@19.2.1/node_modules/@radix-ui/react-use-size/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-popper@1.2.8_@types+react-dom@19.2.1_@types+react@19.2.1__@types+react@_5e23a2e04f687b9473cf38c895236d04/node_modules/@radix-ui/react-popper/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-portal@1.1.9_@types+react-dom@19.2.1_@types+react@19.2.1__@types+react@_5b1abae55dcad04a03fcde0542accb41/node_modules/@radix-ui/react-portal/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-presence@1.1.5_@types+react-dom@19.2.1_@types+react@19.2.1__@types+reac_fa36b7159a01b20626e7797896134587/node_modules/@radix-ui/react-presence/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-roving-focus@1.1.11_@types+react-dom@19.2.1_@types+react@19.2.1__@types_54ec0a04d05e36323060ef125b82d435/node_modules/@radix-ui/react-roving-focus/dist/index.mjs","../node_modules/.pnpm/aria-hidden@1.2.6/node_modules/aria-hidden/dist/es2015/index.js","../node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs","../node_modules/.pnpm/react-remove-scroll-bar@2.3.8_@types+react@19.2.1_react@19.2.1/node_modules/react-remove-scroll-bar/dist/es2015/constants.js","../node_modules/.pnpm/use-callback-ref@1.3.3_@types+react@19.2.1_react@19.2.1/node_modules/use-callback-ref/dist/es2015/assignRef.js","../node_modules/.pnpm/use-callback-ref@1.3.3_@types+react@19.2.1_react@19.2.1/node_modules/use-callback-ref/dist/es2015/useRef.js","../node_modules/.pnpm/use-callback-ref@1.3.3_@types+react@19.2.1_react@19.2.1/node_modules/use-callback-ref/dist/es2015/useMergeRef.js","../node_modules/.pnpm/use-sidecar@1.1.3_@types+react@19.2.1_react@19.2.1/node_modules/use-sidecar/dist/es2015/medium.js","../node_modules/.pnpm/use-sidecar@1.1.3_@types+react@19.2.1_react@19.2.1/node_modules/use-sidecar/dist/es2015/exports.js","../node_modules/.pnpm/react-remove-scroll@2.7.1_@types+react@19.2.1_react@19.2.1/node_modules/react-remove-scroll/dist/es2015/medium.js","../node_modules/.pnpm/react-remove-scroll@2.7.1_@types+react@19.2.1_react@19.2.1/node_modules/react-remove-scroll/dist/es2015/UI.js","../node_modules/.pnpm/get-nonce@1.0.1/node_modules/get-nonce/dist/es2015/index.js","../node_modules/.pnpm/react-style-singleton@2.2.3_@types+react@19.2.1_react@19.2.1/node_modules/react-style-singleton/dist/es2015/singleton.js","../node_modules/.pnpm/react-style-singleton@2.2.3_@types+react@19.2.1_react@19.2.1/node_modules/react-style-singleton/dist/es2015/hook.js","../node_modules/.pnpm/react-style-singleton@2.2.3_@types+react@19.2.1_react@19.2.1/node_modules/react-style-singleton/dist/es2015/component.js","../node_modules/.pnpm/react-remove-scroll-bar@2.3.8_@types+react@19.2.1_react@19.2.1/node_modules/react-remove-scroll-bar/dist/es2015/utils.js","../node_modules/.pnpm/react-remove-scroll-bar@2.3.8_@types+react@19.2.1_react@19.2.1/node_modules/react-remove-scroll-bar/dist/es2015/component.js","../node_modules/.pnpm/react-remove-scroll@2.7.1_@types+react@19.2.1_react@19.2.1/node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js","../node_modules/.pnpm/react-remove-scroll@2.7.1_@types+react@19.2.1_react@19.2.1/node_modules/react-remove-scroll/dist/es2015/handleScroll.js","../node_modules/.pnpm/react-remove-scroll@2.7.1_@types+react@19.2.1_react@19.2.1/node_modules/react-remove-scroll/dist/es2015/SideEffect.js","../node_modules/.pnpm/react-remove-scroll@2.7.1_@types+react@19.2.1_react@19.2.1/node_modules/react-remove-scroll/dist/es2015/sidecar.js","../node_modules/.pnpm/react-remove-scroll@2.7.1_@types+react@19.2.1_react@19.2.1/node_modules/react-remove-scroll/dist/es2015/Combination.js","../node_modules/.pnpm/@radix-ui+react-menu@2.1.16_@types+react-dom@19.2.1_@types+react@19.2.1__@types+react@1_2ba7174bc5d69bf61d11c961d9754d4b/node_modules/@radix-ui/react-menu/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-dropdown-menu@2.1.16_@types+react-dom@19.2.1_@types+react@19.2.1__@type_4ef7949fa9db2e659c84c1f5f5ee8c3d/node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs","../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs","../node_modules/.pnpm/tailwind-merge@3.3.1/node_modules/tailwind-merge/dist/bundle-mjs.mjs","../client/src/lib/utils.ts","../client/src/components/ui/dropdown-menu.tsx","../node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs","../client/src/components/ui/button.tsx","../node_modules/.pnpm/@radix-ui+react-visually-hidden@1.2.3_@types+react-dom@19.2.1_@types+react@19.2.1__@typ_446f2dde805ead628b29c933c2a72923/node_modules/@radix-ui/react-visually-hidden/dist/index.mjs","../node_modules/.pnpm/@radix-ui+react-tooltip@1.2.8_@types+react-dom@19.2.1_@types+react@19.2.1__@types+react_cf38e8bef4fd3f50a3a3839d1868f5b4/node_modules/@radix-ui/react-tooltip/dist/index.mjs","../client/src/components/ui/tooltip.tsx","../client/src/components/editor/EditorToolbar.tsx","../client/src/components/editor/FindReplace.tsx","../client/src/components/editor/SelectAllActionBar.tsx","../client/src/components/editor/hooks/useAutoSave.ts","../client/src/components/editor/hooks/useWordCount.ts","../client/src/components/editor/AutoSaveIndicator.tsx","../client/src/components/editor/RecoveryBanner.tsx","../client/src/components/editor/extensions/WikiLinkSafe.ts","../client/src/components/editor/extensions/MarkdownPasteSafe.ts","../client/src/components/editor/extensions/CollapsibleHeading.ts","../client/src/components/editor/extensions/MarkdownLinkInputRule.ts","../client/src/components/editor/extensions/CalloutInputRule.ts","../client/src/components/editor/extensions/SearchHighlight.ts","../client/src/components/editor/extensions/TabIndent.ts","../client/src/components/editor/extensions/SelectAllOccurrences.ts","../client/src/components/editor/extensions/ImageUpload.ts","../client/src/components/editor/ImageDropZone.tsx","../client/src/components/editor/ImageEditPopover.tsx","../client/src/components/editor/SyntaxHighlightedMarkdown.tsx","../client/src/components/editor/PerformanceProfiler.tsx","../client/src/components/editor/TableOfContents.tsx","../node_modules/.pnpm/turndown@7.2.2/node_modules/turndown/lib/turndown.browser.es.js","../node_modules/.pnpm/turndown-plugin-gfm@1.0.2/node_modules/turndown-plugin-gfm/lib/turndown-plugin-gfm.es.js","../node_modules/.pnpm/marked@17.0.1/node_modules/marked/lib/marked.esm.js","../client/src/components/editor/MarkdownEditor.tsx","../client/src/components/editor/extensions/Callout.ts","../client/src/components/editor/themes/index.ts","../client/src/components/editor/ThemeProvider.tsx","../client/src/components/editor/CodeBlockComponent.tsx"],"sourcesContent":["import TableCell from '@tiptap/extension-table-cell';\nimport TableHeader from '@tiptap/extension-table-header';\nimport { Plugin, PluginKey } from '@tiptap/pm/state';\nimport { Decoration, DecorationSet } from '@tiptap/pm/view';\n\nconst tableCellMenuPluginKey = new PluginKey('tableCellMenu');\nlet eventDelegationSetup = false;\n\n// Cache for decorations to avoid unnecessary rebuilds\nlet cachedMenuDecorations: DecorationSet | null = null;\n\nfunction setupEventDelegation() {\n  if (eventDelegationSetup) return;\n  eventDelegationSetup = true;\n  \n  document.addEventListener('mouseover', (e) => {\n    const target = e.target as HTMLElement;\n    const cell = target.closest('td, th');\n    if (cell && cell.closest('.ProseMirror')) {\n      const btn = cell.querySelector('.table-cell-menu-btn') as HTMLElement;\n      if (btn) btn.style.opacity = '1';\n    }\n  }, true);\n  \n  document.addEventListener('mouseout', (e) => {\n    const target = e.target as HTMLElement;\n    const relatedTarget = (e as MouseEvent).relatedTarget as HTMLElement;\n    const cell = target.closest('td, th');\n    if (cell && cell.closest('.ProseMirror')) {\n      if (relatedTarget && cell.contains(relatedTarget)) return;\n      const dropdown = document.querySelector('.table-cell-menu-dropdown');\n      if (dropdown) return;\n      const btn = cell.querySelector('.table-cell-menu-btn') as HTMLElement;\n      if (btn) btn.style.opacity = '0.15';\n    }\n  }, true);\n}\n\nfunction createTableCellMenuPlugin(editor: any) {\n  setupEventDelegation();\n  \n  return new Plugin({\n    key: tableCellMenuPluginKey,\n    state: {\n      init() {\n        return DecorationSet.empty;\n      },\n      apply(tr, oldState, _oldEditorState, newEditorState) {\n        // Only rebuild decorations if document structure changed\n        if (!tr.docChanged && cachedMenuDecorations) {\n          // Map existing decorations to new positions\n          return cachedMenuDecorations.map(tr.mapping, tr.doc);\n        }\n        \n        // Rebuild decorations\n        cachedMenuDecorations = buildMenuDecorations(newEditorState.doc, editor);\n        return cachedMenuDecorations;\n      },\n    },\n    props: {\n      decorations(state) {\n        return this.getState(state);\n      },\n    },\n  });\n}\n\nfunction buildMenuDecorations(doc: any, editor: any): DecorationSet {\n  const decorations: Decoration[] = [];\n  \n  doc.descendants((node: any, pos: number) => {\n    if (node.type.name === 'tableCell' || node.type.name === 'tableHeader') {\n      const widget = Decoration.widget(pos + 1, (view) => {\n        const wrapper = document.createElement('div');\n        wrapper.className = 'table-cell-menu-wrapper ProseMirror-widget';\n        wrapper.setAttribute('contenteditable', 'false');\n        wrapper.style.cssText = 'position:absolute;top:2px;right:2px;z-index:50;pointer-events:auto;';\n        \n        const button = document.createElement('button');\n        button.className = 'table-cell-menu-btn';\n        button.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"1.5\"/><circle cx=\"12\" cy=\"5\" r=\"1.5\"/><circle cx=\"12\" cy=\"19\" r=\"1.5\"/></svg>';\n        button.title = 'Table options';\n        button.type = 'button';\n        \n        const isDark = document.documentElement.classList.contains('dark');\n        const bgColor = isDark ? 'rgba(30,30,30,0.95)' : 'rgba(255,255,255,0.95)';\n        const borderColor = isDark ? 'rgba(60,60,60,0.5)' : 'rgba(200,200,200,0.5)';\n        const textColor = isDark ? '#999' : '#666';\n        const hoverBgColor = isDark ? '#2a2a2a' : '#f5f5f5';\n        \n        button.style.cssText = 'width:18px;height:18px;display:flex;align-items:center;justify-content:center;background:' + bgColor + ';border:1px solid ' + borderColor + ';border-radius:4px;cursor:pointer;opacity:0.15;transition:opacity 0.15s ease,background-color 0.15s ease,transform 0.1s ease;color:' + textColor + ';pointer-events:auto;padding:0;';\n        \n        button.addEventListener('mouseenter', () => {\n          button.style.opacity = '1';\n          button.style.background = hoverBgColor;\n          button.style.transform = 'scale(1.05)';\n        });\n        button.addEventListener('mouseleave', () => {\n          const dropdown = document.querySelector('.table-cell-menu-dropdown');\n          button.style.background = bgColor;\n          button.style.transform = 'scale(1)';\n        });\n        \n        button.addEventListener('click', (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          const buttonRect = button.getBoundingClientRect();\n          editor.chain().focus().setTextSelection(pos + 1).run();\n          showTableMenu(e, editor, pos, buttonRect);\n        });\n        \n        wrapper.appendChild(button);\n        return wrapper;\n      }, { side: -1, key: 'menu-' + pos });\n      \n      decorations.push(widget);\n    }\n  });\n  \n  return DecorationSet.create(doc, decorations);\n}\n\nfunction showTableMenu(event: MouseEvent, editor: any, pos: number, buttonRect: DOMRect) {\n  const existingMenu = document.querySelector('.table-cell-menu-dropdown');\n  if (existingMenu) existingMenu.remove();\n  \n  const dropdown = document.createElement('div');\n  dropdown.className = 'table-cell-menu-dropdown';\n  \n  const dropdownWidth = 170;\n  const dropdownHeight = 280;\n  \n  // Get the button's position relative to the viewport\n  // If button is outside viewport (in scrolled container), clamp to viewport\n  let btnTop = Math.max(0, Math.min(buttonRect.top, window.innerHeight));\n  let btnBottom = Math.max(0, Math.min(buttonRect.bottom, window.innerHeight));\n  let btnLeft = Math.max(0, Math.min(buttonRect.left, window.innerWidth));\n  \n  // Position dropdown below button, or above if not enough space\n  let viewportTop = btnBottom + 4;\n  let viewportLeft = btnLeft - dropdownWidth + buttonRect.width + 8;\n  \n  // Adjust horizontal position\n  if (viewportLeft + dropdownWidth > window.innerWidth - 12) viewportLeft = window.innerWidth - dropdownWidth - 12;\n  if (viewportLeft < 12) viewportLeft = 12;\n  \n  // Adjust vertical position - if dropdown would go below viewport, show above button\n  if (viewportTop + dropdownHeight > window.innerHeight - 12) {\n    viewportTop = btnTop - dropdownHeight - 4;\n  }\n  // If still outside viewport, clamp to visible area\n  if (viewportTop < 12) viewportTop = 12;\n  if (viewportTop + dropdownHeight > window.innerHeight - 12) {\n    viewportTop = window.innerHeight - dropdownHeight - 12;\n  }\n  \n  const isDark = document.documentElement.classList.contains('dark');\n  const bgColor = isDark ? '#1f1f1f' : '#ffffff';\n  const borderColor = isDark ? '#3a3a3a' : '#e5e5e5';\n  const textColor = isDark ? '#e5e5e5' : '#333333';\n  \n  dropdown.style.cssText = 'position:fixed;top:' + viewportTop + 'px;left:' + viewportLeft + 'px;z-index:99999;display:flex;flex-direction:column;gap:2px;min-width:170px;max-width:220px;width:auto;padding:6px;background:' + bgColor + ';border:1px solid ' + borderColor + ';border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,0.15),0 2px 6px rgba(0,0,0,0.1);color:' + textColor + ';font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;pointer-events:auto;';\n  \n  const menuItems = [\n    { label: 'Insert Column Left', icon: 'col-left', action: () => editor.chain().focus().setTextSelection(pos + 1).addColumnBefore().run() },\n    { label: 'Insert Column Right', icon: 'col-right', action: () => editor.chain().focus().setTextSelection(pos + 1).addColumnAfter().run() },\n    { label: 'Insert Row Above', icon: 'row-up', action: () => editor.chain().focus().setTextSelection(pos + 1).addRowBefore().run() },\n    { label: 'Insert Row Below', icon: 'row-down', action: () => editor.chain().focus().setTextSelection(pos + 1).addRowAfter().run() },\n    { label: 'divider' },\n    { label: 'Delete Column', icon: 'delete', action: () => editor.chain().focus().setTextSelection(pos + 1).deleteColumn().run(), destructive: true },\n    { label: 'Delete Row', icon: 'delete', action: () => editor.chain().focus().setTextSelection(pos + 1).deleteRow().run(), destructive: true },\n    { label: 'Delete Table', icon: 'table-delete', action: () => editor.chain().focus().setTextSelection(pos + 1).deleteTable().run(), destructive: true },\n    { label: 'divider' },\n    { label: 'Copy Table', icon: 'copy', action: () => copyTable(editor) },\n  ];\n  \n  const icons: Record<string, string> = {\n    'col-left': '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"6\" y=\"3\" width=\"12\" height=\"18\" rx=\"2\"/><line x1=\"12\" y1=\"3\" x2=\"12\" y2=\"21\"/><path d=\"M9 12H3m0 0l2-2m-2 2l2 2\"/></svg>',\n    'col-right': '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"6\" y=\"3\" width=\"12\" height=\"18\" rx=\"2\"/><line x1=\"12\" y1=\"3\" x2=\"12\" y2=\"21\"/><path d=\"M15 12h6m0 0l-2-2m2 2l-2 2\"/></svg>',\n    'row-up': '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"3\" y=\"6\" width=\"18\" height=\"12\" rx=\"2\"/><line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"/><path d=\"M12 9V3m0 0l-2 2m2-2l2 2\"/></svg>',\n    'row-down': '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"3\" y=\"6\" width=\"18\" height=\"12\" rx=\"2\"/><line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"/><path d=\"M12 15v6m0 0l-2-2m2 2l2-2\"/></svg>',\n    'delete': '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M3 6h18\"/><path d=\"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\"/><path d=\"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\"/></svg>',\n    'table-delete': '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\"/><line x1=\"3\" y1=\"9\" x2=\"21\" y2=\"9\"/><line x1=\"9\" y1=\"3\" x2=\"9\" y2=\"21\"/><line x1=\"15\" y1=\"15\" x2=\"21\" y2=\"21\"/><line x1=\"21\" y1=\"15\" x2=\"15\" y2=\"21\"/></svg>',\n    'copy': '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\"/><path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"/></svg>',\n  };\n  \n  const hoverBgColor = isDark ? '#2a2a2a' : '#f5f5f5';\n  const destructiveColor = isDark ? '#ff6b6b' : '#dc2626';\n  const iconColor = isDark ? '#999999' : '#666666';\n  const dividerColor = isDark ? '#333333' : '#e5e5e5';\n  \n  menuItems.forEach((item) => {\n    if (item.label === 'divider') {\n      const divider = document.createElement('div');\n      divider.style.cssText = 'height:1px;background:' + dividerColor + ';margin:4px 0;';\n      dropdown.appendChild(divider);\n    } else {\n      const menuButton = document.createElement('button');\n      menuButton.type = 'button';\n      const itemTextColor = item.destructive ? destructiveColor : textColor;\n      menuButton.style.cssText = 'display:flex;align-items:center;gap:10px;width:100%;padding:8px 10px;font-size:13px;font-weight:450;color:' + itemTextColor + ';background:transparent;border:none;border-radius:5px;cursor:pointer;text-align:left;transition:background 0.15s ease;pointer-events:auto;';\n      const iconHtml = icons[item.icon || ''] || '';\n      const iconSpanColor = item.destructive ? destructiveColor : iconColor;\n      menuButton.innerHTML = '<span style=\"display:flex;align-items:center;justify-content:center;width:16px;height:16px;flex-shrink:0;color:' + iconSpanColor + ';\">' + iconHtml + '</span><span style=\"flex:1;white-space:nowrap;\">' + item.label + '</span>';\n      \n      menuButton.addEventListener('mouseenter', () => {\n        menuButton.style.background = item.destructive ? (isDark ? 'rgba(255,107,107,0.15)' : 'rgba(220,38,38,0.1)') : hoverBgColor;\n      });\n      menuButton.addEventListener('mouseleave', () => {\n        menuButton.style.background = 'transparent';\n      });\n      \n      menuButton.addEventListener('click', (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (item.action) item.action();\n        dropdown.remove();\n      });\n      dropdown.appendChild(menuButton);\n    }\n  });\n  \n  document.body.appendChild(dropdown);\n  \n  const closeMenu = (e: MouseEvent) => {\n    const target = e.target as HTMLElement;\n    // Don't close if clicking inside the dropdown or on the menu button\n    if (dropdown.contains(target) || target.classList.contains('table-cell-menu-btn')) {\n      return;\n    }\n    // Don't close if clicking inside a dialog/modal overlay\n    const dialog = target.closest('[role=\"dialog\"]');\n    if (dialog && dialog.contains(dropdown)) {\n      return;\n    }\n    dropdown.remove();\n    document.removeEventListener('mousedown', closeMenu);\n    document.removeEventListener('keydown', closeOnEscape);\n  };\n  \n  const closeOnEscape = (e: KeyboardEvent) => {\n    if (e.key === 'Escape') {\n      dropdown.remove();\n      document.removeEventListener('mousedown', closeMenu);\n      document.removeEventListener('keydown', closeOnEscape);\n    }\n  };\n  \n  setTimeout(() => {\n    document.addEventListener('mousedown', closeMenu);\n    document.addEventListener('keydown', closeOnEscape);\n  }, 0);\n}\n\nfunction copyTable(editor: any) {\n  const { state } = editor;\n  const { selection } = state;\n  let tableNode = null;\n  \n  state.doc.descendants((node: any, pos: number) => {\n    if (node.type.name === 'table') {\n      if (pos <= selection.from && pos + node.nodeSize >= selection.to) {\n        tableNode = node;\n        return false;\n      }\n    }\n  });\n  \n  if (tableNode) {\n    const buildTableHTML = (node: any): string => {\n      if (node.type.name === 'table') return '<table>' + node.content.content.map(buildTableHTML).join('') + '</table>';\n      if (node.type.name === 'tableRow') return '<tr>' + node.content.content.map(buildTableHTML).join('') + '</tr>';\n      if (node.type.name === 'tableCell') {\n        const attrs = node.attrs;\n        const colspan = attrs.colspan > 1 ? ' colspan=\"' + attrs.colspan + '\"' : '';\n        const rowspan = attrs.rowspan > 1 ? ' rowspan=\"' + attrs.rowspan + '\"' : '';\n        return '<td' + colspan + rowspan + '>' + node.textContent + '</td>';\n      }\n      if (node.type.name === 'tableHeader') {\n        const attrs = node.attrs;\n        const colspan = attrs.colspan > 1 ? ' colspan=\"' + attrs.colspan + '\"' : '';\n        const rowspan = attrs.rowspan > 1 ? ' rowspan=\"' + attrs.rowspan + '\"' : '';\n        return '<th' + colspan + rowspan + '>' + node.textContent + '</th>';\n      }\n      return node.textContent || '';\n    };\n    \n    const tableHTML = buildTableHTML(tableNode);\n    \n    navigator.clipboard.writeText(tableHTML).then(() => {\n      const toast = document.createElement('div');\n      toast.className = 'tcm-toast';\n      toast.textContent = 'Table copied to clipboard';\n      toast.style.cssText = 'position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.8);color:white;padding:10px 20px;border-radius:6px;font-size:13px;z-index:99999;animation:fadeInOut 2s ease-in-out forwards;';\n      document.body.appendChild(toast);\n      setTimeout(() => toast.remove(), 2000);\n    });\n  }\n}\n\nexport const TableCellWithMenu = TableCell.extend({\n  addProseMirrorPlugins() {\n    return [\n      ...(this.parent?.() || []),\n      createTableCellMenuPlugin(this.editor),\n    ];\n  },\n});\n\n// TableHeaderWithMenu doesn't add the plugin to avoid duplicate registration\nexport const TableHeaderWithMenu = TableHeader.extend({});\n","import { Extension } from '@tiptap/core';\nimport { Plugin, PluginKey } from '@tiptap/pm/state';\nimport { Decoration, DecorationSet } from '@tiptap/pm/view';\n\nconst tableSortingPluginKey = new PluginKey('tableSorting');\n\n// Track sort state globally\ninterface SortState {\n  tablePos: number;\n  columnIndex: number;\n  direction: 'asc' | 'desc';\n}\n\nlet currentSortState: SortState | null = null;\n\n// Cache for table positions to avoid unnecessary decoration rebuilds\nlet lastDocVersion = -1;\nlet cachedDecorations: DecorationSet | null = null;\n\nfunction parseValue(text: string): { type: 'number' | 'date' | 'string'; value: number | Date | string } {\n  const num = parseFloat(text.replace(/[,$%]/g, ''));\n  if (!isNaN(num) && text.match(/^[\\d,.$%\\-+]+$/)) {\n    return { type: 'number', value: num };\n  }\n  \n  const datePatterns = [/^\\d{4}-\\d{2}-\\d{2}/, /^\\d{1,2}\\/\\d{1,2}\\/\\d{2,4}/, /^\\d{1,2}-\\d{1,2}-\\d{2,4}/];\n  for (const pattern of datePatterns) {\n    if (pattern.test(text)) {\n      const date = new Date(text);\n      if (!isNaN(date.getTime())) {\n        return { type: 'date', value: date };\n      }\n    }\n  }\n  \n  return { type: 'string', value: text.toLowerCase() };\n}\n\nfunction compareValues(a: ReturnType<typeof parseValue>, b: ReturnType<typeof parseValue>, direction: 'asc' | 'desc'): number {\n  let result = 0;\n  \n  if (a.type === 'number' && b.type === 'number') {\n    result = (a.value as number) - (b.value as number);\n  } else if (a.type === 'date' && b.type === 'date') {\n    result = (a.value as Date).getTime() - (b.value as Date).getTime();\n  } else {\n    result = String(a.value).localeCompare(String(b.value));\n  }\n  \n  return direction === 'asc' ? result : -result;\n}\n\nfunction sortTable(editor: any, tablePos: number, columnIndex: number) {\n  const { state, view } = editor;\n  \n  // Find the table node at the given position\n  let tableNode: any = null;\n  state.doc.nodesBetween(tablePos, tablePos + 1, (node: any, pos: number) => {\n    if (node.type.name === 'table' && pos === tablePos) {\n      tableNode = node;\n      return false;\n    }\n  });\n  \n  if (!tableNode) {\n    console.log('Table not found at position', tablePos);\n    return;\n  }\n  \n  // Determine new sort direction\n  const newDirection: 'asc' | 'desc' = \n    currentSortState?.tablePos === tablePos && \n    currentSortState?.columnIndex === columnIndex && \n    currentSortState?.direction === 'asc' \n      ? 'desc' \n      : 'asc';\n  \n  // Update sort state\n  currentSortState = { tablePos, columnIndex, direction: newDirection };\n  \n  // Invalidate decoration cache since sort state changed\n  cachedDecorations = null;\n  \n  // Get all rows\n  const rows: { node: any; isHeader: boolean }[] = [];\n  \n  tableNode.forEach((rowNode: any) => {\n    if (rowNode.type.name === 'tableRow') {\n      let isHeader = false;\n      rowNode.forEach((cellNode: any) => {\n        if (cellNode.type.name === 'tableHeader') {\n          isHeader = true;\n        }\n      });\n      rows.push({ node: rowNode, isHeader });\n    }\n  });\n  \n  const headerRows = rows.filter(r => r.isHeader);\n  const dataRows = rows.filter(r => !r.isHeader);\n  \n  if (dataRows.length < 2) {\n    showSortToast(columnIndex, newDirection);\n    view.dispatch(state.tr.setMeta(tableSortingPluginKey, { updated: true }));\n    return;\n  }\n  \n  // Get sort values for each data row\n  const rowsWithValues = dataRows.map(row => {\n    let cellContent = '';\n    let cellIndex = 0;\n    \n    row.node.forEach((cellNode: any) => {\n      if (cellIndex === columnIndex) {\n        cellContent = cellNode.textContent || '';\n      }\n      cellIndex++;\n    });\n    \n    return { ...row, sortValue: parseValue(cellContent) };\n  });\n  \n  // Sort the rows\n  const originalOrder = rowsWithValues.map((_, i) => i);\n  rowsWithValues.sort((a, b) => compareValues(a.sortValue, b.sortValue, newDirection));\n  const newOrder = rowsWithValues.map((r, i) => dataRows.indexOf(r));\n  \n  // Check if order changed\n  const orderChanged = originalOrder.some((idx, i) => idx !== newOrder[i]);\n  \n  if (orderChanged) {\n    // Build new table content\n    const newTableContent: any[] = [];\n    headerRows.forEach(row => newTableContent.push(row.node));\n    rowsWithValues.forEach(row => newTableContent.push(row.node));\n    \n    // Create new table node\n    const newTableNode = tableNode.type.create(tableNode.attrs, newTableContent);\n    \n    // Replace in document\n    const { tr } = state;\n    tr.replaceWith(tablePos, tablePos + tableNode.nodeSize, newTableNode);\n    tr.setMeta(tableSortingPluginKey, { updated: true });\n    view.dispatch(tr);\n  } else {\n    view.dispatch(state.tr.setMeta(tableSortingPluginKey, { updated: true }));\n  }\n  \n  showSortToast(columnIndex, newDirection);\n}\n\nfunction showSortToast(columnIndex: number, direction: 'asc' | 'desc') {\n  const existingToast = document.querySelector('.table-sort-toast');\n  if (existingToast) existingToast.remove();\n  \n  const toast = document.createElement('div');\n  toast.className = 'table-sort-toast';\n  const directionText = direction === 'asc' ? 'ascending' : 'descending';\n  const arrow = direction === 'asc' ? '↑' : '↓';\n  toast.innerHTML = '<span style=\"margin-right:6px;\">' + arrow + '</span> Sorted column ' + (columnIndex + 1) + ' ' + directionText;\n  \n  const isDark = document.documentElement.classList.contains('dark');\n  toast.style.cssText = 'position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:' + (isDark ? 'rgba(30,30,30,0.95)' : 'rgba(255,255,255,0.95)') + ';color:' + (isDark ? '#e5e5e5' : '#333') + ';padding:10px 20px;border-radius:8px;font-size:13px;font-weight:500;z-index:99999;box-shadow:0 4px 12px rgba(0,0,0,0.15);border:1px solid ' + (isDark ? '#3a3a3a' : '#e5e5e5') + ';animation:sortToastIn 0.2s ease;';\n  \n  document.body.appendChild(toast);\n  setTimeout(() => {\n    toast.style.animation = 'sortToastOut 0.2s ease forwards';\n    setTimeout(() => toast.remove(), 200);\n  }, 1500);\n}\n\nfunction createSortButton(direction: 'asc' | 'desc' | null, tablePos: number, columnIndex: number, editor: any): HTMLSpanElement {\n  // Create an inline span that sits next to the header text\n  const wrapper = document.createElement('span');\n  wrapper.className = 'table-sort-btn-inline';\n  wrapper.setAttribute('contenteditable', 'false');\n  wrapper.style.cssText = 'display:inline-flex;align-items:center;margin-left:4px;vertical-align:middle;pointer-events:auto;';\n  \n  const button = document.createElement('button');\n  button.className = 'table-sort-btn';\n  button.setAttribute('contenteditable', 'false');\n  button.type = 'button';\n  \n  const isDark = document.documentElement.classList.contains('dark');\n  const activeColor = isDark ? '#60a5fa' : '#3b82f6';\n  const inactiveColor = isDark ? '#666' : '#aaa';\n  const hoverBg = isDark ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.05)';\n  \n  button.style.cssText = 'display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;padding:0;font-size:10px;color:' + (direction ? activeColor : inactiveColor) + ';background:transparent;border:none;border-radius:3px;cursor:pointer;user-select:none;transition:all 0.15s ease;opacity:' + (direction ? '1' : '0.5') + ';pointer-events:auto;vertical-align:middle;';\n  \n  // Add hover effect\n  button.addEventListener('mouseenter', () => {\n    button.style.background = hoverBg;\n    button.style.opacity = '1';\n    button.style.color = activeColor;\n  });\n  \n  button.addEventListener('mouseleave', () => {\n    button.style.background = 'transparent';\n    button.style.opacity = direction ? '1' : '0.5';\n    button.style.color = direction ? activeColor : inactiveColor;\n  });\n  \n  // Add click handler directly to the button\n  button.addEventListener('click', (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    sortTable(editor, tablePos, columnIndex);\n  });\n  \n  if (direction === 'asc') {\n    button.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 19V5M5 12l7-7 7 7\"/></svg>';\n    button.title = 'Sorted ascending - Click to sort descending';\n  } else if (direction === 'desc') {\n    button.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 5v14M5 12l7 7 7-7\"/></svg>';\n    button.title = 'Sorted descending - Click to sort ascending';\n  } else {\n    button.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M7 15l5 5 5-5M7 9l5-5 5 5\"/></svg>';\n    button.title = 'Click to sort this column';\n  }\n  \n  wrapper.appendChild(button);\n  return wrapper;\n}\n\nfunction createTableSortingPlugin(editor: any) {\n  return new Plugin({\n    key: tableSortingPluginKey,\n    state: {\n      init() {\n        return DecorationSet.empty;\n      },\n      apply(tr, oldState, _oldEditorState, newEditorState) {\n        // Check if we need to rebuild decorations\n        const meta = tr.getMeta(tableSortingPluginKey);\n        const docChanged = tr.docChanged;\n        \n        // If document hasn't changed and no sort update, try to map existing decorations\n        if (!docChanged && !meta?.updated && cachedDecorations) {\n          return cachedDecorations.map(tr.mapping, tr.doc);\n        }\n        \n        // Rebuild decorations if document changed or sort state updated\n        cachedDecorations = buildDecorations(newEditorState.doc, editor);\n        return cachedDecorations;\n      },\n    },\n    props: {\n      decorations(state) {\n        return this.getState(state);\n      },\n    },\n  });\n}\n\nfunction buildDecorations(doc: any, editor: any): DecorationSet {\n  const decorations: Decoration[] = [];\n  \n  doc.descendants((node: any, pos: number) => {\n    if (node.type.name === 'table') {\n      const tablePos = pos;\n      \n      // Find header cells in this table\n      node.forEach((rowNode: any, rowOffset: number) => {\n        if (rowNode.type.name === 'tableRow') {\n          let currentCol = 0;\n          let cellOffset = 0;\n          \n          rowNode.forEach((cellNode: any, offset: number) => {\n            if (cellNode.type.name === 'tableHeader') {\n              // Find the end of the text content inside the header cell\n              // We want to place the sort button after the text, inside the paragraph\n              const cellPos = pos + 1 + rowOffset + 1 + cellOffset;\n              \n              // Find the paragraph inside the cell and place at the end of its content\n              let decorationPos = cellPos + 1; // Default: start of cell content\n              \n              cellNode.forEach((childNode: any, childOffset: number) => {\n                if (childNode.type.name === 'paragraph') {\n                  // Place at the end of the paragraph content (before closing tag)\n                  decorationPos = cellPos + 1 + childOffset + childNode.nodeSize - 1;\n                }\n              });\n              \n              // Check if this column is currently sorted\n              const isActive = currentSortState?.tablePos === tablePos && currentSortState?.columnIndex === currentCol;\n              const direction = isActive ? currentSortState!.direction : null;\n              \n              const colForClosure = currentCol;\n              const tablePosForClosure = tablePos;\n              \n              // Use widget decoration at the end of the paragraph content\n              const widget = Decoration.widget(decorationPos, () => {\n                return createSortButton(direction, tablePosForClosure, colForClosure, editor);\n              }, { side: 1, key: 'sort-' + tablePos + '-' + colForClosure });\n              \n              decorations.push(widget);\n            }\n            cellOffset += cellNode.nodeSize;\n            currentCol++;\n          });\n        }\n      });\n    }\n  });\n  \n  return DecorationSet.create(doc, decorations);\n}\n\nexport const TableSorting = Extension.create({\n  name: 'tableSorting',\n  \n  addProseMirrorPlugins() {\n    return [createTableSortingPlugin(this.editor)];\n  },\n});\n\nexport default TableSorting;\n","import { NodeViewContent, NodeViewWrapper, ReactNodeViewRenderer } from '@tiptap/react';\nimport CodeBlockLowlight from '@tiptap/extension-code-block-lowlight';\nimport { createLowlight } from 'lowlight';\nimport { useState, useCallback, useRef, useEffect } from 'react';\nimport { Copy, Check, ChevronDown } from 'lucide-react';\n\n// ─── Selective Language Imports ─────────────────────────────────────────────\n// Instead of importing `common` (37 languages, ~300 KB), we import only the\n// 12 most commonly used languages. This reduces the highlight.js contribution\n// from ~376 KB to ~80 KB. Consumers can register additional languages via\n// the exported `lowlight` instance: lowlight.register('ruby', ruby);\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport typescript from 'highlight.js/lib/languages/typescript';\nimport python from 'highlight.js/lib/languages/python';\nimport xml from 'highlight.js/lib/languages/xml'; // also covers HTML\nimport css from 'highlight.js/lib/languages/css';\nimport json from 'highlight.js/lib/languages/json';\nimport bash from 'highlight.js/lib/languages/bash';\nimport sql from 'highlight.js/lib/languages/sql';\nimport java from 'highlight.js/lib/languages/java';\nimport cpp from 'highlight.js/lib/languages/cpp'; // also covers C\nimport go from 'highlight.js/lib/languages/go';\nimport rust from 'highlight.js/lib/languages/rust';\nimport markdown from 'highlight.js/lib/languages/markdown';\nimport yaml from 'highlight.js/lib/languages/yaml';\nimport diff from 'highlight.js/lib/languages/diff';\n\n/*\n * DESIGN: Dark Mode Craftsman\n * Code block with syntax highlighting and copy button\n * Controls appear inside the code block on hover (top-right corner)\n * No line numbers by default for cleaner look\n * Copy button is icon-only\n * Language selector is next to copy button\n *\n * PERFORMANCE: Lazy-loaded syntax highlighting\n * - Uses IntersectionObserver to defer highlighting until visible\n * - Code blocks outside viewport render as plain text (no lowlight parse)\n * - Highlighting activates when block enters viewport with 200px margin\n * - Once highlighted, stays highlighted (no re-parsing on scroll out)\n *\n * BUNDLE: Selective language loading\n * - Only 15 most common languages are bundled (~80 KB vs ~376 KB)\n * - Consumers can register additional languages:\n *     import ruby from 'highlight.js/lib/languages/ruby';\n *     lowlight.register('ruby', ruby);\n */\n\nconst lowlight = createLowlight();\n\n// Register selected languages\nlowlight.register('javascript', javascript);\nlowlight.register('js', javascript);\nlowlight.register('jsx', javascript);\nlowlight.register('typescript', typescript);\nlowlight.register('ts', typescript);\nlowlight.register('tsx', typescript);\nlowlight.register('python', python);\nlowlight.register('py', python);\nlowlight.register('xml', xml);\nlowlight.register('html', xml);\nlowlight.register('svg', xml);\nlowlight.register('css', css);\nlowlight.register('json', json);\nlowlight.register('bash', bash);\nlowlight.register('sh', bash);\nlowlight.register('shell', bash);\nlowlight.register('zsh', bash);\nlowlight.register('sql', sql);\nlowlight.register('java', java);\nlowlight.register('cpp', cpp);\nlowlight.register('c', cpp);\nlowlight.register('go', go);\nlowlight.register('golang', go);\nlowlight.register('rust', rust);\nlowlight.register('rs', rust);\nlowlight.register('markdown', markdown);\nlowlight.register('md', markdown);\nlowlight.register('yaml', yaml);\nlowlight.register('yml', yaml);\nlowlight.register('diff', diff);\nlowlight.register('patch', diff);\n\n// Export lowlight so consumers can register additional languages\nexport { lowlight };\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction CodeBlockComponent({ node, updateAttributes, extension }: any) {\n  const [copied, setCopied] = useState(false);\n  const [isVisible, setIsVisible] = useState(false);\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  \n  // Lazy-load: Use IntersectionObserver to detect when code block enters viewport\n  useEffect(() => {\n    const el = wrapperRef.current;\n    if (!el) return;\n    \n    // If already visible, no need to observe\n    if (isVisible) return;\n    \n    const observer = new IntersectionObserver(\n      (entries) => {\n        for (const entry of entries) {\n          if (entry.isIntersecting) {\n            setIsVisible(true);\n            // Once visible, stop observing — highlighting persists\n            observer.unobserve(el);\n          }\n        }\n      },\n      {\n        // Start highlighting 200px before the block enters viewport\n        rootMargin: '200px 0px',\n        threshold: 0,\n      }\n    );\n    \n    observer.observe(el);\n    \n    return () => {\n      observer.disconnect();\n    };\n  }, [isVisible]);\n  \n  const copyToClipboard = useCallback(async () => {\n    try {\n      await navigator.clipboard.writeText(node.textContent);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      console.error('Failed to copy:', err);\n    }\n  }, [node.textContent]);\n\n  // Get the list of supported languages\n  const languages = extension.options.lowlight?.listLanguages?.() || [];\n  const currentLanguage = node.attrs.language || 'plaintext';\n  const languageLabel = currentLanguage === 'plaintext' \n    ? 'Plain Text' \n    : currentLanguage.charAt(0).toUpperCase() + currentLanguage.slice(1);\n\n  return (\n    <NodeViewWrapper className=\"code-block-wrapper\" ref={wrapperRef}>\n      {/* Controls overlay - appears on hover, positioned inside top-right */}\n      <div className=\"code-block-controls\" contentEditable={false}>\n        <div className=\"code-block-language-wrapper\">\n          <select\n            value={currentLanguage}\n            onChange={(e) => updateAttributes({ language: e.target.value })}\n            className=\"code-block-language-select\"\n          >\n            <option value=\"plaintext\">Plain Text</option>\n            {languages.map((lang: string) => (\n              <option key={lang} value={lang}>\n                {lang.charAt(0).toUpperCase() + lang.slice(1)}\n              </option>\n            ))}\n          </select>\n          <span className=\"code-block-language-label\">{languageLabel}</span>\n          <ChevronDown size={12} className=\"code-block-language-chevron\" />\n        </div>\n        <button\n          type=\"button\"\n          onClick={copyToClipboard}\n          className={`code-block-copy-btn ${copied ? 'copied' : ''}`}\n          title={copied ? 'Copied!' : 'Copy code'}\n        >\n          {copied ? <Check size={14} /> : <Copy size={14} />}\n        </button>\n      </div>\n      \n      {/* Code content - no line numbers */}\n      {/* When not yet visible, render without syntax highlighting class to skip lowlight parse */}\n      <pre className={`code-block-pre ${!isVisible ? 'code-block-deferred' : ''}`}>\n        <NodeViewContent className={isVisible ? `language-${currentLanguage}` : 'language-plaintext'} />\n      </pre>\n    </NodeViewWrapper>\n  );\n}\n\nexport const CodeBlockWithFeatures = CodeBlockLowlight.extend({\n  addNodeView() {\n    return ReactNodeViewRenderer(CodeBlockComponent);\n  },\n}).configure({\n  lowlight,\n  defaultLanguage: 'plaintext',\n  HTMLAttributes: {\n    class: 'code-block',\n  },\n});\n","import { useState, useEffect, useRef, useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Editor } from '@tiptap/react';\nimport { Link2 } from 'lucide-react';\n\n/*\n * DESIGN: Dark Mode Craftsman\n * - Glassmorphic popover with backdrop blur\n * - Cyan accent for focus states\n * - Smooth transitions\n * Uses React portal to escape overflow containers.\n */\n\ninterface LinkPopoverProps {\n  editor: Editor;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport function LinkPopover({ editor, isOpen, onClose }: LinkPopoverProps) {\n  const [url, setUrl] = useState('');\n  const [popoverPos, setPopoverPos] = useState({ top: 0, left: 0 });\n  const inputRef = useRef<HTMLInputElement>(null);\n  const popoverRef = useRef<HTMLDivElement>(null);\n\n  // Calculate position based on cursor coords\n  const updatePosition = useCallback(() => {\n    if (!editor || editor.isDestroyed) return;\n    try {\n      const { view } = editor;\n      const { from } = view.state.selection;\n      const coords = view.coordsAtPos(from);\n      \n      const popoverWidth = 320;\n      const popoverHeight = 80;\n      const padding = 8;\n      const viewportWidth = window.innerWidth;\n      const viewportHeight = window.innerHeight;\n\n      let top = coords.bottom + 8;\n      let left = coords.left;\n\n      // Flip upward if not enough space below\n      if (top + popoverHeight > viewportHeight - padding) {\n        top = coords.top - popoverHeight - 8;\n      }\n\n      // Keep within horizontal bounds\n      if (left + popoverWidth > viewportWidth - padding) {\n        left = viewportWidth - popoverWidth - padding;\n      }\n      if (left < padding) {\n        left = padding;\n      }\n\n      // Keep within vertical bounds\n      top = Math.max(padding, top);\n\n      setPopoverPos({ top, left });\n    } catch {\n      // Fallback to center of viewport\n      setPopoverPos({\n        top: window.innerHeight / 2 - 40,\n        left: window.innerWidth / 2 - 160,\n      });\n    }\n  }, [editor]);\n\n  // Get current link URL if cursor is on a link\n  useEffect(() => {\n    if (isOpen) {\n      const currentUrl = editor.getAttributes('link').href || '';\n      setUrl(currentUrl);\n      updatePosition();\n      // Focus input after a short delay to ensure popover is rendered\n      setTimeout(() => {\n        inputRef.current?.focus();\n        inputRef.current?.select();\n      }, 50);\n    }\n  }, [isOpen, editor, updatePosition]);\n\n  // Reposition on scroll/resize\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleReposition = () => {\n      requestAnimationFrame(updatePosition);\n    };\n\n    window.addEventListener('scroll', handleReposition, true);\n    window.addEventListener('resize', handleReposition);\n\n    return () => {\n      window.removeEventListener('scroll', handleReposition, true);\n      window.removeEventListener('resize', handleReposition);\n    };\n  }, [isOpen, updatePosition]);\n\n  // Handle click outside to close\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleClickOutside = (e: MouseEvent) => {\n      if (popoverRef.current && !popoverRef.current.contains(e.target as Node)) {\n        onClose();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isOpen, onClose]);\n\n  const handleSubmit = useCallback((e?: React.FormEvent) => {\n    e?.preventDefault();\n    \n    if (url.trim()) {\n      // Add https:// if no protocol specified\n      let finalUrl = url.trim();\n      if (!/^https?:\\/\\//i.test(finalUrl) && !finalUrl.startsWith('mailto:')) {\n        finalUrl = 'https://' + finalUrl;\n      }\n      \n      editor\n        .chain()\n        .focus()\n        .extendMarkRange('link')\n        .setLink({ href: finalUrl })\n        .run();\n    } else {\n      // Remove link if URL is empty\n      editor.chain().focus().unsetLink().run();\n    }\n    \n    onClose();\n  }, [url, editor, onClose]);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Escape') {\n      e.preventDefault();\n      onClose();\n    } else if (e.key === 'Enter') {\n      e.preventDefault();\n      handleSubmit();\n    }\n  }, [onClose, handleSubmit]);\n\n  if (!isOpen) return null;\n\n  return createPortal(\n    <div\n      ref={popoverRef}\n      className=\"link-popover\"\n      style={{\n        position: 'fixed',\n        top: `${popoverPos.top}px`,\n        left: `${popoverPos.left}px`,\n        zIndex: 9999,\n      }}\n    >\n      <form onSubmit={handleSubmit} className=\"link-popover-form\">\n        <div className=\"link-popover-input-wrapper\">\n          <Link2 className=\"link-popover-icon\" size={16} />\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={url}\n            onChange={(e) => setUrl(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder=\"Enter URL or paste link\"\n            className=\"link-popover-input\"\n            autoComplete=\"off\"\n            spellCheck={false}\n          />\n        </div>\n        <div className=\"link-popover-hint\">\n          Press Enter to save · Escape to cancel\n        </div>\n      </form>\n    </div>,\n    document.body\n  );\n}\n\nexport default LinkPopover;\n","import { useState, useEffect, useRef, useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Editor } from '@tiptap/react';\nimport { ExternalLink, Unlink, Pencil } from 'lucide-react';\n\n/*\n * DESIGN: Dark Mode Craftsman\n * - Glassmorphic tooltip with backdrop blur\n * - Cyan accent for interactive elements\n * - Smooth hover transitions\n * Uses React portal to escape overflow containers.\n */\n\ninterface LinkHoverTooltipProps {\n  editor: Editor;\n  onEditLink: () => void;\n}\n\ninterface TooltipState {\n  isVisible: boolean;\n  url: string;\n  position: { top: number; left: number };\n  linkElement: HTMLElement | null;\n}\n\nexport function LinkHoverTooltip({ editor, onEditLink }: LinkHoverTooltipProps) {\n  const [tooltip, setTooltip] = useState<TooltipState>({\n    isVisible: false,\n    url: '',\n    position: { top: 0, left: 0 },\n    linkElement: null,\n  });\n  const tooltipRef = useRef<HTMLDivElement>(null);\n  const hideTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  const showTooltip = useCallback((linkElement: HTMLElement) => {\n    if (!editor || editor.isDestroyed) return;\n    if (hideTimeoutRef.current) {\n      clearTimeout(hideTimeoutRef.current);\n      hideTimeoutRef.current = null;\n    }\n\n    try {\n      const href = linkElement.getAttribute('href') || '';\n      const rect = linkElement.getBoundingClientRect();\n      \n      const tooltipWidth = 320;\n      const tooltipHeight = 40;\n      const padding = 8;\n      const viewportWidth = window.innerWidth;\n      const viewportHeight = window.innerHeight;\n\n      let top = rect.bottom + 8;\n      let left = rect.left;\n\n      // Flip upward if not enough space below\n      if (top + tooltipHeight > viewportHeight - padding) {\n        top = rect.top - tooltipHeight - 8;\n      }\n\n      // Keep within horizontal bounds\n      if (left + tooltipWidth > viewportWidth - padding) {\n        left = viewportWidth - tooltipWidth - padding;\n      }\n      if (left < padding) {\n        left = padding;\n      }\n\n      setTooltip({\n        isVisible: true,\n        url: href,\n        position: { top, left },\n        linkElement,\n      });\n    } catch (error) {\n      console.warn('LinkHoverTooltip: Error showing tooltip', error);\n    }\n  }, [editor]);\n\n  const hideTooltip = useCallback(() => {\n    hideTimeoutRef.current = setTimeout(() => {\n      setTooltip(prev => ({ ...prev, isVisible: false, linkElement: null }));\n    }, 150);\n  }, []);\n\n  const keepTooltipVisible = useCallback(() => {\n    if (hideTimeoutRef.current) {\n      clearTimeout(hideTimeoutRef.current);\n      hideTimeoutRef.current = null;\n    }\n  }, []);\n\n  // Handle mouse events on the editor\n  useEffect(() => {\n    if (!editor || editor.isDestroyed) return;\n    \n    const editorElement = editor.view.dom;\n    if (!editorElement) return;\n\n    const handleMouseOver = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      const linkElement = target.closest('a') as HTMLElement | null;\n      \n      if (linkElement && editorElement.contains(linkElement)) {\n        showTooltip(linkElement);\n      }\n    };\n\n    const handleMouseOut = (e: MouseEvent) => {\n      const target = e.target as HTMLElement;\n      const relatedTarget = e.relatedTarget as HTMLElement | null;\n      \n      // Check if we're leaving a link\n      if (target.closest('a')) {\n        // Don't hide if moving to the tooltip\n        if (relatedTarget && tooltipRef.current?.contains(relatedTarget)) {\n          return;\n        }\n        hideTooltip();\n      }\n    };\n\n    editorElement.addEventListener('mouseover', handleMouseOver);\n    editorElement.addEventListener('mouseout', handleMouseOut);\n\n    return () => {\n      editorElement.removeEventListener('mouseover', handleMouseOver);\n      editorElement.removeEventListener('mouseout', handleMouseOut);\n      if (hideTimeoutRef.current) {\n        clearTimeout(hideTimeoutRef.current);\n      }\n    };\n  }, [editor, showTooltip, hideTooltip]);\n\n  const handleOpenLink = useCallback(() => {\n    if (tooltip.url) {\n      window.open(tooltip.url, '_blank', 'noopener,noreferrer');\n    }\n    setTooltip(prev => ({ ...prev, isVisible: false }));\n  }, [tooltip.url]);\n\n  const handleRemoveLink = useCallback(() => {\n    if (tooltip.linkElement) {\n      const { view } = editor;\n      const { doc } = view.state;\n      \n      let linkPos: number | null = null;\n      let linkEnd: number | null = null;\n      \n      doc.descendants((node, pos) => {\n        if (node.isText && node.marks.some(m => m.type.name === 'link')) {\n          const dom = view.nodeDOM(pos);\n          if (dom && (dom === tooltip.linkElement || dom.parentElement === tooltip.linkElement)) {\n            linkPos = pos;\n            linkEnd = pos + node.nodeSize;\n            return false;\n          }\n        }\n        return true;\n      });\n\n      if (linkPos !== null && linkEnd !== null) {\n        editor\n          .chain()\n          .focus()\n          .setTextSelection({ from: linkPos, to: linkEnd })\n          .unsetLink()\n          .run();\n      } else {\n        editor.chain().focus().unsetLink().run();\n      }\n    }\n    setTooltip(prev => ({ ...prev, isVisible: false }));\n  }, [editor, tooltip.linkElement]);\n\n  const handleEditLink = useCallback(() => {\n    if (tooltip.linkElement) {\n      const { view } = editor;\n      const { doc } = view.state;\n      \n      doc.descendants((node, pos) => {\n        if (node.isText && node.marks.some(m => m.type.name === 'link')) {\n          const dom = view.nodeDOM(pos);\n          if (dom && (dom === tooltip.linkElement || dom.parentElement === tooltip.linkElement)) {\n            editor.chain().focus().setTextSelection({ from: pos, to: pos + node.nodeSize }).run();\n            return false;\n          }\n        }\n        return true;\n      });\n    }\n    \n    setTooltip(prev => ({ ...prev, isVisible: false }));\n    onEditLink();\n  }, [editor, tooltip.linkElement, onEditLink]);\n\n  if (!tooltip.isVisible) return null;\n\n  // Truncate long URLs for display\n  const displayUrl = tooltip.url.length > 40 \n    ? tooltip.url.substring(0, 40) + '...' \n    : tooltip.url;\n\n  return createPortal(\n    <div\n      ref={tooltipRef}\n      className=\"link-hover-tooltip\"\n      style={{\n        position: 'fixed',\n        top: `${tooltip.position.top}px`,\n        left: `${tooltip.position.left}px`,\n        zIndex: 9999,\n      }}\n      onMouseEnter={keepTooltipVisible}\n      onMouseLeave={hideTooltip}\n    >\n      <div className=\"link-hover-tooltip-content\">\n        <button\n          onClick={handleEditLink}\n          className=\"link-hover-tooltip-edit\"\n          title=\"Edit link\"\n        >\n          <span className=\"link-hover-tooltip-url\">{displayUrl || 'Edit link'}</span>\n        </button>\n        <div className=\"link-hover-tooltip-actions\">\n          <button\n            onClick={handleOpenLink}\n            className=\"link-hover-tooltip-btn\"\n            title=\"Open link\"\n          >\n            <ExternalLink size={14} />\n          </button>\n          <button\n            onClick={handleRemoveLink}\n            className=\"link-hover-tooltip-btn link-hover-tooltip-btn-danger\"\n            title=\"Remove link\"\n          >\n            <Unlink size={14} />\n          </button>\n        </div>\n      </div>\n    </div>,\n    document.body\n  );\n}\n\nexport default LinkHoverTooltip;\n","import { Editor } from '@tiptap/react';\nimport {\n  Bold,\n  Italic,\n  Underline,\n  Strikethrough,\n  Code,\n  Link,\n  Highlighter,\n  Heading1,\n  Heading2,\n  Heading3,\n  Quote,\n  List,\n  ListOrdered,\n  CheckSquare,\n  Pilcrow,\n  FileCode,\n} from 'lucide-react';\nimport { useCallback, useState, useEffect, useRef, memo } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useEditorState } from '@tiptap/react';\n\n/*\n * DESIGN: Dark Mode Craftsman\n * Mobile-responsive floating toolbar\n * Touch-friendly buttons with proper sizing\n * Auto-positioning to stay within editor bounds\n * Uses React portal to escape overflow containers.\n */\n\ninterface FloatingToolbarProps {\n  editor: Editor;\n  className?: string;\n}\n\ninterface ToolbarButtonProps {\n  onMouseDown: (e: React.MouseEvent) => void;\n  isActive?: boolean;\n  disabled?: boolean;\n  children: React.ReactNode;\n  title?: string;\n}\n\n// Use onMouseDown instead of onClick to prevent losing selection\nconst ToolbarButton = ({ onMouseDown, isActive, disabled, children, title }: ToolbarButtonProps) => (\n  <button\n    onMouseDown={onMouseDown}\n    disabled={disabled}\n    title={title}\n    className={`\n      flex items-center justify-center w-7 h-7 rounded-md flex-shrink-0\n      transition-all duration-100 ease-out touch-manipulation\n      ${isActive \n        ? 'bg-primary text-primary-foreground' \n        : 'bg-transparent text-foreground hover:bg-secondary active:bg-secondary/80'\n      }\n      ${disabled ? 'opacity-50 cursor-not-allowed' : ''}\n    `}\n  >\n    {children}\n  </button>\n);\n\nconst Divider = () => (\n  <div className=\"w-px h-5 bg-border mx-0.5 flex-shrink-0\" />\n);\n\nexport const FloatingToolbar = memo(function FloatingToolbar({ editor, className = '' }: FloatingToolbarProps) {\n  // Performance: Use useEditorState for selective re-renders based on active formatting states\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor: e }: { editor: Editor }) => ({\n      isBold: e.isActive('bold'),\n      isItalic: e.isActive('italic'),\n      isUnderline: e.isActive('underline'),\n      isStrike: e.isActive('strike'),\n      isCode: e.isActive('code'),\n      isHighlight: e.isActive('highlight'),\n      isLink: e.isActive('link'),\n      isH1: e.isActive('heading', { level: 1 }),\n      isH2: e.isActive('heading', { level: 2 }),\n      isH3: e.isActive('heading', { level: 3 }),\n      isBulletList: e.isActive('bulletList'),\n      isOrderedList: e.isActive('orderedList'),\n      isTaskList: e.isActive('taskList'),\n      isBlockquote: e.isActive('blockquote'),\n      isCodeBlock: e.isActive('codeBlock'),\n    }),\n  });\n  const [showLinkInput, setShowLinkInput] = useState(false);\n  const [linkUrl, setLinkUrl] = useState('');\n  const [isVisible, setIsVisible] = useState(false);\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n  const toolbarRef = useRef<HTMLDivElement>(null);\n  const hideTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const showTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  const setLink = useCallback(() => {\n    if (linkUrl) {\n      let finalUrl = linkUrl.trim();\n      if (!/^https?:\\/\\//i.test(finalUrl) && !finalUrl.startsWith('mailto:')) {\n        finalUrl = 'https://' + finalUrl;\n      }\n      editor\n        .chain()\n        .focus()\n        .extendMarkRange('link')\n        .setLink({ href: finalUrl })\n        .run();\n    } else {\n      editor.chain().focus().extendMarkRange('link').unsetLink().run();\n    }\n    setShowLinkInput(false);\n    setLinkUrl('');\n  }, [editor, linkUrl]);\n\n  const handleLinkClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const previousUrl = editor.getAttributes('link').href;\n    setLinkUrl(previousUrl || '');\n    setShowLinkInput(true);\n  };\n\n  // Helper to execute editor commands without losing selection\n  const executeCommand = useCallback((e: React.MouseEvent, command: () => void) => {\n    e.preventDefault();\n    e.stopPropagation();\n    command();\n  }, []);\n\n  // Update toolbar visibility and position based on selection\n  useEffect(() => {\n    if (!editor || editor.isDestroyed) return;\n    \n    const updateToolbar = () => {\n      // Skip if editor is destroyed\n      if (editor.isDestroyed) return;\n      \n      try {\n        const { selection } = editor.state;\n        const { empty, from, to } = selection;\n\n        // Hide if selection is empty or in code block (but show for image node selections)\n        const isNodeSelection = 'node' in selection && (selection as any).node;\n        const selectedNode = isNodeSelection ? (selection as any).node : editor.state.doc.nodeAt(from);\n        const isImageSelected = selectedNode?.type?.name === 'resizableImage';\n        \n        if ((empty && !isImageSelected) || editor.isActive('codeBlock')) {\n          if (showTimeoutRef.current) {\n            clearTimeout(showTimeoutRef.current);\n            showTimeoutRef.current = null;\n          }\n          if (hideTimeoutRef.current) {\n            clearTimeout(hideTimeoutRef.current);\n          }\n          hideTimeoutRef.current = setTimeout(() => {\n            setIsVisible(false);\n            setShowLinkInput(false);\n          }, 150);\n          return;\n        }\n\n        if (hideTimeoutRef.current) {\n          clearTimeout(hideTimeoutRef.current);\n          hideTimeoutRef.current = null;\n        }\n\n        // Get selection coordinates in viewport space (fixed positioning)\n        const start = editor.view.coordsAtPos(from);\n        const end = editor.view.coordsAtPos(to);\n        \n        const toolbarWidth = toolbarRef.current?.offsetWidth || 500;\n        const toolbarHeight = toolbarRef.current?.offsetHeight || 40;\n        const padding = 8;\n        const viewportWidth = window.innerWidth;\n        \n        // Calculate center position of selection in viewport coords\n        const selectionCenterX = (start.left + end.left) / 2;\n        \n        // Position horizontally centered on selection\n        let left = selectionCenterX - toolbarWidth / 2;\n        \n        // Clamp to viewport bounds\n        left = Math.max(padding, Math.min(viewportWidth - toolbarWidth - padding, left));\n        \n        // Position above the selection in viewport coords\n        let top = start.top - toolbarHeight - 10;\n        \n        // If not enough space above, position below\n        if (top < padding) {\n          top = end.bottom + 10;\n        }\n\n        if (!isVisible) {\n          if (showTimeoutRef.current) {\n            clearTimeout(showTimeoutRef.current);\n          }\n          showTimeoutRef.current = setTimeout(() => {\n            setPosition({ top: Math.max(padding, top), left });\n            setIsVisible(true);\n          }, 50);\n        } else {\n          setPosition({ top: Math.max(padding, top), left });\n        }\n      } catch (error) {\n        console.warn('FloatingToolbar: Error updating position', error);\n      }\n    };\n\n    editor.on('selectionUpdate', updateToolbar);\n\n    return () => {\n      editor.off('selectionUpdate', updateToolbar);\n      if (hideTimeoutRef.current) {\n        clearTimeout(hideTimeoutRef.current);\n      }\n      if (showTimeoutRef.current) {\n        clearTimeout(showTimeoutRef.current);\n      }\n    };\n  }, [editor, isVisible]);\n\n  // Keep toolbar visible when interacting with it\n  const handleToolbarMouseDown = (e: React.MouseEvent) => {\n    if (hideTimeoutRef.current) {\n      clearTimeout(hideTimeoutRef.current);\n      hideTimeoutRef.current = null;\n    }\n  };\n\n  if (!isVisible) {\n    return null;\n  }\n\n  const iconSize = 15;\n\n  const toolbarContent = showLinkInput ? (\n    <div\n      ref={toolbarRef}\n      className={`floating-toolbar ${className}`}\n      style={{ \n        position: 'fixed',\n        top: position.top, \n        left: position.left,\n        zIndex: 9999,\n      }}\n      onMouseDown={handleToolbarMouseDown}\n    >\n      <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 px-2 w-[280px] sm:w-auto\">\n        <input\n          type=\"url\"\n          placeholder=\"Enter URL...\"\n          value={linkUrl}\n          onChange={(e) => setLinkUrl(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter') {\n              e.preventDefault();\n              setLink();\n            }\n            if (e.key === 'Escape') {\n              setShowLinkInput(false);\n              setLinkUrl('');\n            }\n          }}\n          className=\"\n            bg-secondary/50 rounded px-3 py-2 sm:py-1\n            text-sm text-foreground placeholder:text-muted-foreground\n            outline-none border border-border/50\n            w-full sm:w-48\n          \"\n          autoFocus\n        />\n        <div className=\"flex gap-2\">\n          <button\n            onMouseDown={(e) => {\n              e.preventDefault();\n              setLink();\n            }}\n            className=\"\n              flex-1 sm:flex-none px-4 sm:px-3 py-2 sm:py-1 text-sm sm:text-xs font-medium rounded\n              bg-primary text-primary-foreground\n              hover:opacity-90 active:opacity-80 transition-opacity touch-manipulation\n            \"\n          >\n            Apply\n          </button>\n          <button\n            onMouseDown={(e) => {\n              e.preventDefault();\n              setShowLinkInput(false);\n              setLinkUrl('');\n            }}\n            className=\"\n              flex-1 sm:flex-none px-4 sm:px-2 py-2 sm:py-1 text-sm sm:text-xs font-medium rounded\n              bg-secondary text-secondary-foreground\n              hover:bg-accent active:bg-accent/80 transition-colors touch-manipulation\n            \"\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  ) : (\n    <div\n      ref={toolbarRef}\n      className={`floating-toolbar ${className}`}\n      style={{ \n        position: 'fixed',\n        top: position.top, \n        left: position.left,\n        zIndex: 9999,\n      }}\n      onMouseDown={handleToolbarMouseDown}\n    >\n      {/* Paragraph style */}\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().setParagraph().run())}\n        isActive={!editorState?.isH1 && !editorState?.isH2 && !editorState?.isH3 && !editorState?.isBulletList && !editorState?.isOrderedList && !editorState?.isTaskList && !editorState?.isBlockquote && !editorState?.isCodeBlock}\n        title=\"Paragraph\"\n      >\n        <Pilcrow size={iconSize} />\n      </ToolbarButton>\n\n      {/* Headings */}\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleHeading({ level: 1 }).run())}\n        isActive={editorState?.isH1}\n        title=\"Heading 1\"\n      >\n        <Heading1 size={iconSize} />\n      </ToolbarButton>\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleHeading({ level: 2 }).run())}\n        isActive={editorState?.isH2}\n        title=\"Heading 2\"\n      >\n        <Heading2 size={iconSize} />\n      </ToolbarButton>\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleHeading({ level: 3 }).run())}\n        isActive={editorState?.isH3}\n        title=\"Heading 3\"\n      >\n        <Heading3 size={iconSize} />\n      </ToolbarButton>\n\n      <Divider />\n\n      {/* Primary text formatting */}\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleBold().run())}\n        isActive={editorState?.isBold}\n        title=\"Bold (Ctrl+B)\"\n      >\n        <Bold size={iconSize} />\n      </ToolbarButton>\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleItalic().run())}\n        isActive={editorState?.isItalic}\n        title=\"Italic (Ctrl+I)\"\n      >\n        <Italic size={iconSize} />\n      </ToolbarButton>\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleUnderline().run())}\n        isActive={editorState?.isUnderline}\n        title=\"Underline (Ctrl+U)\"\n      >\n        <Underline size={iconSize} />\n      </ToolbarButton>\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleStrike().run())}\n        isActive={editorState?.isStrike}\n        title=\"Strikethrough\"\n      >\n        <Strikethrough size={iconSize} />\n      </ToolbarButton>\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleCode().run())}\n        isActive={editorState?.isCode}\n        title=\"Inline Code (Ctrl+E)\"\n      >\n        <Code size={iconSize} />\n      </ToolbarButton>\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleHighlight().run())}\n        isActive={editorState?.isHighlight}\n        title=\"Highlight\"\n      >\n        <Highlighter size={iconSize} />\n      </ToolbarButton>\n\n      <ToolbarButton\n        onMouseDown={handleLinkClick}\n        isActive={editorState?.isLink}\n        title=\"Link (Ctrl+K)\"\n      >\n        <Link size={iconSize} />\n      </ToolbarButton>\n\n      <Divider />\n\n      {/* Block elements */}\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleBlockquote().run())}\n        isActive={editorState?.isBlockquote}\n        title=\"Quote\"\n      >\n        <Quote size={iconSize} />\n      </ToolbarButton>\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleBulletList().run())}\n        isActive={editorState?.isBulletList}\n        title=\"Bullet List\"\n      >\n        <List size={iconSize} />\n      </ToolbarButton>\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleOrderedList().run())}\n        isActive={editorState?.isOrderedList}\n        title=\"Numbered List\"\n      >\n        <ListOrdered size={iconSize} />\n      </ToolbarButton>\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleTaskList().run())}\n        isActive={editorState?.isTaskList}\n        title=\"Task List\"\n      >\n        <CheckSquare size={iconSize} />\n      </ToolbarButton>\n      <ToolbarButton\n        onMouseDown={(e) => executeCommand(e, () => editor.chain().focus().toggleCodeBlock().run())}\n        isActive={editorState?.isCodeBlock}\n        title=\"Code Block\"\n      >\n        <FileCode size={iconSize} />\n      </ToolbarButton>\n    </div>\n  );\n\n  return createPortal(toolbarContent, document.body);\n});\n\nexport default FloatingToolbar;\n","import { Node, mergeAttributes } from '@tiptap/core';\nimport { ReactNodeViewRenderer, NodeViewWrapper, NodeViewContent, NodeViewProps } from '@tiptap/react';\nimport { useState, useRef, useEffect, useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Info, AlertTriangle, XCircle, CheckCircle, FileText, ChevronDown } from 'lucide-react';\n\nexport type CalloutType = 'info' | 'warning' | 'error' | 'success' | 'note';\n\nexport interface CalloutOptions {\n  HTMLAttributes: Record<string, unknown>;\n  types: CalloutType[];\n}\n\nconst calloutConfig: Record<CalloutType, { icon: typeof Info; label: string; color: string }> = {\n  info: { icon: Info, label: 'Info', color: 'var(--callout-info)' },\n  warning: { icon: AlertTriangle, label: 'Warning', color: 'var(--callout-warning)' },\n  error: { icon: XCircle, label: 'Error', color: 'var(--callout-error)' },\n  success: { icon: CheckCircle, label: 'Success', color: 'var(--callout-success)' },\n  note: { icon: FileText, label: 'Note', color: 'var(--callout-note)' },\n};\n\nfunction CalloutDropdownPortal({\n  buttonRef,\n  type,\n  onTypeChange,\n  onClose,\n  theme,\n}: {\n  buttonRef: React.RefObject<HTMLButtonElement | null>;\n  type: CalloutType;\n  onTypeChange: (type: CalloutType) => void;\n  onClose: () => void;\n  theme?: string;\n}) {\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const [position, setPosition] = useState<{ top: number; left: number; flipped: boolean } | null>(null);\n\n  // Estimated dropdown height (5 items * ~33px + padding)\n  const DROPDOWN_HEIGHT = 185;\n\n  // Calculate position based on button's bounding rect, flip upward if needed\n  const updatePosition = useCallback(() => {\n    if (!buttonRef.current) return;\n    const rect = buttonRef.current.getBoundingClientRect();\n    const viewportHeight = window.innerHeight;\n    const spaceBelow = viewportHeight - rect.bottom;\n    const spaceAbove = rect.top;\n\n    // Flip upward if not enough space below but enough above\n    const shouldFlip = spaceBelow < DROPDOWN_HEIGHT + 8 && spaceAbove > DROPDOWN_HEIGHT + 8;\n\n    setPosition({\n      top: shouldFlip ? rect.top - DROPDOWN_HEIGHT - 4 : rect.bottom + 4,\n      left: rect.left,\n      flipped: shouldFlip,\n    });\n  }, [buttonRef]);\n\n  useEffect(() => {\n    updatePosition();\n\n    // Reposition on scroll/resize\n    const handleReposition = () => updatePosition();\n    window.addEventListener('scroll', handleReposition, true);\n    window.addEventListener('resize', handleReposition);\n\n    return () => {\n      window.removeEventListener('scroll', handleReposition, true);\n      window.removeEventListener('resize', handleReposition);\n    };\n  }, [updatePosition]);\n\n  // Close on click outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(event.target as globalThis.Node) &&\n        buttonRef.current &&\n        !buttonRef.current.contains(event.target as globalThis.Node)\n      ) {\n        onClose();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [buttonRef, onClose]);\n\n  // Close on Escape\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') onClose();\n    };\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [onClose]);\n\n  if (!position) return null;\n\n  const dropdown = (\n    <div\n      ref={dropdownRef}\n      className={`callout-type-dropdown-portal ${theme === 'dark' ? 'dark-theme' : 'light-theme'}`}\n      style={{\n        position: 'fixed',\n        top: position.top,\n        left: position.left,\n        zIndex: 99999,\n        maxHeight: DROPDOWN_HEIGHT,\n        overflowY: 'auto',\n      }}\n    >\n      {(Object.keys(calloutConfig) as CalloutType[]).map((calloutType) => {\n        const typeConfig = calloutConfig[calloutType];\n        const TypeIcon = typeConfig.icon;\n        return (\n          <button\n            key={calloutType}\n            className={`callout-type-option ${calloutType === type ? 'active' : ''}`}\n            onClick={() => onTypeChange(calloutType)}\n            style={{ '--callout-option-color': typeConfig.color } as React.CSSProperties}\n          >\n            <TypeIcon size={16} style={{ color: typeConfig.color }} />\n            <span>{typeConfig.label}</span>\n          </button>\n        );\n      })}\n    </div>\n  );\n\n  return createPortal(dropdown, document.body);\n}\n\nfunction CalloutComponent({ node, updateAttributes, editor }: NodeViewProps) {\n  const [showDropdown, setShowDropdown] = useState(false);\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const type = (node.attrs.type as CalloutType) || 'info';\n  const config = calloutConfig[type] || calloutConfig.info;\n  const Icon = config.icon;\n\n  // Detect theme from closest data-theme attribute or .dark class\n  const [theme, setTheme] = useState<string>('light');\n  useEffect(() => {\n    const editorEl = editor.view.dom.closest('[data-theme]');\n    if (editorEl) {\n      setTheme(editorEl.getAttribute('data-theme') || 'light');\n    } else if (document.documentElement.classList.contains('dark')) {\n      setTheme('dark');\n    }\n  }, [editor]);\n\n  const handleTypeChange = useCallback((newType: CalloutType) => {\n    updateAttributes({ type: newType });\n    setShowDropdown(false);\n  }, [updateAttributes]);\n\n  const handleClose = useCallback(() => {\n    setShowDropdown(false);\n  }, []);\n\n  return (\n    <NodeViewWrapper className={`callout callout-${type}`} data-callout=\"\" data-type={type}>\n      <div className=\"callout-icon-container\">\n        <button\n          ref={buttonRef}\n          className=\"callout-icon-button\"\n          onClick={() => editor.isEditable && setShowDropdown(!showDropdown)}\n          title={editor.isEditable ? \"Click to change callout type\" : config.label}\n          style={{ color: config.color }}\n          contentEditable={false}\n        >\n          <Icon size={20} />\n          {editor.isEditable && <ChevronDown size={12} className=\"callout-chevron\" />}\n        </button>\n\n        {showDropdown && editor.isEditable && (\n          <CalloutDropdownPortal\n            buttonRef={buttonRef}\n            type={type}\n            onTypeChange={handleTypeChange}\n            onClose={handleClose}\n            theme={theme}\n          />\n        )}\n      </div>\n      <div className=\"callout-content\">\n        <NodeViewContent />\n      </div>\n    </NodeViewWrapper>\n  );\n}\n\nexport const CalloutWithMenu = Node.create<CalloutOptions>({\n  name: 'callout',\n\n  addOptions() {\n    return {\n      HTMLAttributes: {},\n      types: ['info', 'warning', 'error', 'success', 'note'],\n    };\n  },\n\n  content: 'block+',\n\n  group: 'block',\n\n  defining: true,\n\n  addAttributes() {\n    return {\n      type: {\n        default: 'info',\n        parseHTML: (element: HTMLElement) => element.getAttribute('data-type') || 'info',\n        renderHTML: (attributes: Record<string, unknown>) => ({\n          'data-type': attributes.type,\n        }),\n      },\n    };\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: 'div[data-callout]',\n      },\n    ];\n  },\n\n  renderHTML({ node, HTMLAttributes }) {\n    const type = node.attrs.type as CalloutType;\n    return [\n      'div',\n      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes, {\n        'data-callout': '',\n        'data-type': type,\n        class: `callout callout-${type}`,\n      }),\n      0,\n    ];\n  },\n\n  addNodeView() {\n    return ReactNodeViewRenderer(CalloutComponent);\n  },\n\n  addCommands() {\n    return {\n      setCallout:\n        (attributes?: { type?: CalloutType }) =>\n        ({ commands }: { commands: { wrapIn: (name: string, attrs?: Record<string, unknown>) => boolean } }) => {\n          return commands.wrapIn(this.name, attributes);\n        },\n      toggleCallout:\n        (attributes?: { type?: CalloutType }) =>\n        ({ commands }: { commands: { toggleWrap: (name: string, attrs?: Record<string, unknown>) => boolean } }) => {\n          return commands.toggleWrap(this.name, attributes);\n        },\n      unsetCallout:\n        () =>\n        ({ commands }: { commands: { lift: (name: string) => boolean } }) => {\n          return commands.lift(this.name);\n        },\n      insertCallout:\n        (attributes?: { type?: CalloutType }) =>\n        ({ chain }: { chain: () => ReturnType<typeof import('@tiptap/core').Editor.prototype.chain> }) => {\n          const type = attributes?.type || 'info';\n          return chain()\n            .insertContent({\n              type: this.name,\n              attrs: { type },\n              content: [{ type: 'paragraph' }],\n            })\n            .focus()\n            .run();\n        },\n      updateCalloutType:\n        (type: CalloutType) =>\n        ({ commands }: { commands: { updateAttributes: (name: string, attrs: Record<string, unknown>) => boolean } }) => {\n          return commands.updateAttributes(this.name, { type });\n        },\n    };\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      'Mod-Shift-c': () => this.editor.commands.toggleCallout({ type: 'info' }),\n    };\n  },\n});\n\nexport default CalloutWithMenu;\n","import Image from '@tiptap/extension-image';\nimport { mergeAttributes } from '@tiptap/core';\n\nexport interface ResizableImageOptions {\n  HTMLAttributes: Record<string, unknown>;\n  allowBase64: boolean;\n  onImageClick?: (attrs: { src: string; alt: string; pos: number; rect: DOMRect }) => void;\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    resizableImage: {\n      setImage: (options: { src: string; alt?: string; title?: string; width?: number }) => ReturnType;\n      updateImage: (options: { src?: string; alt?: string; width?: number; align?: string }) => ReturnType;\n      setImageAlign: (align: 'left' | 'center' | 'right') => ReturnType;\n    };\n  }\n}\n\nexport const ResizableImage = Image.extend<ResizableImageOptions>({\n  name: 'resizableImage',\n\n  addOptions() {\n    return {\n      ...this.parent?.(),\n      HTMLAttributes: {},\n      allowBase64: true,\n      onImageClick: undefined,\n    };\n  },\n\n  addAttributes() {\n    return {\n      ...this.parent?.(),\n      width: {\n        default: null,\n        parseHTML: (element: HTMLElement) => {\n          const width = element.getAttribute('width') || element.style.width;\n          return width ? parseInt(width, 10) : null;\n        },\n        renderHTML: (attributes: Record<string, unknown>) => {\n          if (!attributes.width) {\n            return {};\n          }\n          return {\n            width: attributes.width,\n            style: `width: ${attributes.width}px`,\n          };\n        },\n      },\n      height: {\n        default: null,\n        parseHTML: (element: HTMLElement) => {\n          const height = element.getAttribute('height') || element.style.height;\n          return height ? parseInt(height, 10) : null;\n        },\n        renderHTML: (attributes: Record<string, unknown>) => {\n          if (!attributes.height) {\n            return {};\n          }\n          return {\n            height: attributes.height,\n          };\n        },\n      },\n      align: {\n        default: 'left',\n        parseHTML: (element: HTMLElement) => element.getAttribute('data-align') || 'left',\n        renderHTML: (attributes: Record<string, unknown>) => ({\n          'data-align': attributes.align,\n        }),\n      },\n    };\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: 'img[src]',\n      },\n      {\n        tag: 'figure.image-resizer img[src]',\n      },\n    ];\n  },\n\n  addCommands() {\n    return {\n      ...this.parent?.(),\n      updateImage:\n        (options) =>\n        ({ commands }) => {\n          return commands.updateAttributes('resizableImage', options);\n        },\n      setImageAlign:\n        (align) =>\n        ({ commands }) => {\n          return commands.updateAttributes('resizableImage', { align });\n        },\n    };\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    const align = HTMLAttributes['data-align'] || 'center';\n    const wrapperStyle = {\n      left: 'margin-right: auto;',\n      center: 'margin-left: auto; margin-right: auto;',\n      right: 'margin-left: auto;',\n    }[align as string] || 'margin-left: auto; margin-right: auto;';\n\n    return [\n      'figure',\n      { \n        class: 'image-resizer',\n        style: wrapperStyle,\n      },\n      [\n        'img',\n        mergeAttributes(this.options.HTMLAttributes, HTMLAttributes),\n      ],\n    ];\n  },\n\n  addNodeView() {\n    return ({ node, editor, getPos }) => {\n      const container = document.createElement('figure');\n      container.classList.add('image-resizer');\n      \n      // Apply alignment style\n      const applyAlignment = (align: string) => {\n        const alignStyle = {\n          left: 'margin-right: auto; margin-left: 0;',\n          center: 'margin-left: auto; margin-right: auto;',\n          right: 'margin-left: auto; margin-right: 0;',\n        }[align] || 'margin-left: auto; margin-right: auto;';\n        container.style.cssText = `display: block; position: relative; width: fit-content; ${alignStyle}`;\n      };\n      applyAlignment(node.attrs.align || 'left');\n      \n      const img = document.createElement('img');\n      img.src = node.attrs.src;\n      img.alt = node.attrs.alt || '';\n      if (node.attrs.width) {\n        img.style.width = `${node.attrs.width}px`;\n      }\n      \n      // Resize handle with diagonal resize icon\n      const resizeHandle = document.createElement('div');\n      resizeHandle.classList.add('resize-handle');\n      resizeHandle.style.cssText = `\n        position: absolute;\n        bottom: 4px;\n        right: 4px;\n        width: 24px;\n        height: 24px;\n        background: oklch(0.98 0 0 / 0.95);\n        border: 1px solid oklch(0.85 0 0);\n        border-radius: 6px;\n        cursor: se-resize;\n        opacity: 0;\n        transition: opacity 0.15s ease;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        box-shadow: 0 2px 8px oklch(0 0 0 / 0.15);\n      `;\n      // Add diagonal resize SVG icon (se-resize arrows) - rotated 90 degrees\n      resizeHandle.innerHTML = `\n        <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"oklch(0.4 0 0)\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" style=\"transform: rotate(90deg);\">\n          <polyline points=\"15 3 21 3 21 9\"></polyline>\n          <polyline points=\"9 21 3 21 3 15\"></polyline>\n          <line x1=\"21\" y1=\"3\" x2=\"14\" y2=\"10\"></line>\n          <line x1=\"3\" y1=\"21\" x2=\"10\" y2=\"14\"></line>\n        </svg>\n      `;\n\n      // 3-dot menu button\n      const menuButton = document.createElement('button');\n      menuButton.classList.add('image-menu-btn');\n      menuButton.setAttribute('type', 'button');\n      menuButton.setAttribute('title', 'Image options');\n      menuButton.style.cssText = `\n        position: absolute;\n        top: 8px;\n        right: 8px;\n        width: 28px;\n        height: 28px;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: oklch(0.98 0 0 / 0.95);\n        border: 1px solid oklch(0.85 0 0);\n        border-radius: 6px;\n        cursor: pointer;\n        opacity: 0;\n        transition: opacity 0.15s ease, background 0.15s ease;\n        box-shadow: 0 2px 8px oklch(0 0 0 / 0.15);\n        z-index: 10;\n      `;\n      menuButton.innerHTML = `\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n          <circle cx=\"12\" cy=\"5\" r=\"1\"></circle>\n          <circle cx=\"12\" cy=\"12\" r=\"1\"></circle>\n          <circle cx=\"12\" cy=\"19\" r=\"1\"></circle>\n        </svg>\n      `;\n      \n      // Dropdown menu\n      const dropdown = document.createElement('div');\n      dropdown.classList.add('image-menu-dropdown');\n      dropdown.style.cssText = `\n        position: fixed;\n        display: none;\n        flex-direction: column;\n        min-width: 140px;\n        padding: 4px;\n        background: oklch(0.99 0 0);\n        border: 1px solid oklch(0.9 0 0);\n        border-radius: 8px;\n        box-shadow: 0 4px 16px oklch(0 0 0 / 0.15);\n        z-index: 9999;\n      `;\n      \n      const createMenuItem = (label: string, icon: string, onClick: () => void) => {\n        const item = document.createElement('button');\n        item.setAttribute('type', 'button');\n        item.style.cssText = `\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          width: 100%;\n          padding: 8px 12px;\n          font-size: 13px;\n          color: oklch(0.3 0 0);\n          background: transparent;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          text-align: left;\n          transition: background 0.15s ease;\n        `;\n        item.innerHTML = `${icon}<span>${label}</span>`;\n        item.addEventListener('mouseenter', () => {\n          item.style.background = 'oklch(0.95 0 0)';\n        });\n        item.addEventListener('mouseleave', () => {\n          item.style.background = 'transparent';\n        });\n        item.addEventListener('click', (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          onClick();\n          dropdown.style.display = 'none';\n        });\n        return item;\n      };\n      \n      const editIcon = `<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path><path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path></svg>`;\n      const copyIcon = `<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect><path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path></svg>`;\n      const saveIcon = `<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path><polyline points=\"7 10 12 15 17 10\"></polyline><line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"></line></svg>`;\n      \n      // Edit menu item\n      dropdown.appendChild(createMenuItem('Edit', editIcon, () => {\n        const pos = typeof getPos === 'function' ? getPos() : null;\n        if (pos !== null && pos !== undefined && this.options.onImageClick) {\n          const rect = img.getBoundingClientRect();\n          this.options.onImageClick({\n            src: node.attrs.src,\n            alt: node.attrs.alt || '',\n            pos,\n            rect,\n          });\n        }\n      }));\n      \n      // Copy image menu item\n      dropdown.appendChild(createMenuItem('Copy image', copyIcon, async () => {\n        try {\n          const response = await fetch(node.attrs.src);\n          const blob = await response.blob();\n          await navigator.clipboard.write([\n            new ClipboardItem({ [blob.type]: blob })\n          ]);\n        } catch (err) {\n          // Fallback: copy image URL\n          await navigator.clipboard.writeText(node.attrs.src);\n        }\n      }));\n      \n      // Save image menu item\n      dropdown.appendChild(createMenuItem('Save image', saveIcon, () => {\n        const link = document.createElement('a');\n        link.href = node.attrs.src;\n        link.download = node.attrs.alt || 'image';\n        link.click();\n      }));\n      \n      // Toggle dropdown on button click\n      let isDropdownOpen = false;\n      menuButton.addEventListener('click', (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        \n        if (isDropdownOpen) {\n          dropdown.style.display = 'none';\n          isDropdownOpen = false;\n        } else {\n          const btnRect = menuButton.getBoundingClientRect();\n          dropdown.style.top = `${btnRect.bottom + 4}px`;\n          dropdown.style.left = `${btnRect.right - 140}px`;\n          dropdown.style.display = 'flex';\n          isDropdownOpen = true;\n        }\n      });\n      \n      // Close dropdown when clicking outside\n      const closeDropdown = (e: MouseEvent) => {\n        if (!dropdown.contains(e.target as Node) && !menuButton.contains(e.target as Node)) {\n          dropdown.style.display = 'none';\n          isDropdownOpen = false;\n        }\n      };\n      document.addEventListener('click', closeDropdown);\n      \n      container.appendChild(img);\n      container.appendChild(resizeHandle);\n      container.appendChild(menuButton);\n      document.body.appendChild(dropdown);\n      \n      // Show handle and menu button on hover\n      container.addEventListener('mouseenter', () => {\n        resizeHandle.style.opacity = '1';\n        menuButton.style.opacity = '1';\n      });\n      container.addEventListener('mouseleave', () => {\n        resizeHandle.style.opacity = '0';\n        if (!isDropdownOpen) {\n          menuButton.style.opacity = '0';\n        }\n      });\n      \n      // Hover effect on menu button\n      menuButton.addEventListener('mouseenter', () => {\n        menuButton.style.background = 'oklch(0.95 0 0)';\n      });\n      menuButton.addEventListener('mouseleave', () => {\n        menuButton.style.background = 'oklch(0.98 0 0 / 0.95)';\n      });\n\n\n      \n      // Resize logic\n      let startX: number;\n      let startWidth: number;\n      \n      const onMouseDown = (e: MouseEvent) => {\n        e.preventDefault();\n        startX = e.clientX;\n        startWidth = img.offsetWidth;\n        \n        document.addEventListener('mousemove', onMouseMove);\n        document.addEventListener('mouseup', onMouseUp);\n      };\n      \n      const onMouseMove = (e: MouseEvent) => {\n        const diff = e.clientX - startX;\n        const newWidth = Math.max(100, startWidth + diff);\n        img.style.width = `${newWidth}px`;\n      };\n      \n      const onMouseUp = () => {\n        document.removeEventListener('mousemove', onMouseMove);\n        document.removeEventListener('mouseup', onMouseUp);\n        \n        const pos = typeof getPos === 'function' ? getPos() : null;\n        if (pos !== null && pos !== undefined) {\n          editor.chain().focus().updateAttributes('resizableImage', {\n            width: img.offsetWidth,\n          }).run();\n        }\n      };\n      \n      resizeHandle.addEventListener('mousedown', onMouseDown);\n      \n      return {\n        dom: container,\n        update: (updatedNode) => {\n          if (updatedNode.type.name !== 'resizableImage') {\n            return false;\n          }\n          img.src = updatedNode.attrs.src;\n          img.alt = updatedNode.attrs.alt || '';\n          if (updatedNode.attrs.width) {\n            img.style.width = `${updatedNode.attrs.width}px`;\n          }\n          // Update alignment\n          applyAlignment(updatedNode.attrs.align || 'left');\n          return true;\n        },\n        destroy: () => {\n          resizeHandle.removeEventListener('mousedown', onMouseDown);\n          document.removeEventListener('click', closeDropdown);\n          dropdown.remove();\n        },\n      };\n    };\n  },\n});\n\nexport default ResizableImage;\n","import { NodeViewWrapper, NodeViewProps } from '@tiptap/react';\nimport { useState, useRef, useEffect } from 'react';\nimport { Calendar } from 'lucide-react';\n\n/*\n * DatePillComponent\n * Interactive date pill with click-to-edit date picker popup\n * Displays formatted date with color variants based on date status\n */\n\n// Helper to format date for display\nfunction formatDate(dateStr: string): string {\n  const date = new Date(dateStr);\n  const today = new Date();\n  const tomorrow = new Date(today);\n  tomorrow.setDate(tomorrow.getDate() + 1);\n  const yesterday = new Date(today);\n  yesterday.setDate(yesterday.getDate() - 1);\n\n  // Reset time for comparison\n  today.setHours(0, 0, 0, 0);\n  tomorrow.setHours(0, 0, 0, 0);\n  yesterday.setHours(0, 0, 0, 0);\n  date.setHours(0, 0, 0, 0);\n\n  if (date.getTime() === today.getTime()) {\n    return 'Today';\n  }\n  if (date.getTime() === tomorrow.getTime()) {\n    return 'Tomorrow';\n  }\n  if (date.getTime() === yesterday.getTime()) {\n    return 'Yesterday';\n  }\n\n  // Format as \"Jan 15\" or \"Jan 15, 2025\" if different year\n  const options: Intl.DateTimeFormatOptions = {\n    month: 'short',\n    day: 'numeric',\n  };\n  \n  if (date.getFullYear() !== today.getFullYear()) {\n    options.year = 'numeric';\n  }\n\n  return date.toLocaleDateString('en-US', options);\n}\n\n// Helper to determine date variant\nfunction getDateVariant(dateStr: string): string {\n  const date = new Date(dateStr);\n  const today = new Date();\n  const nextWeek = new Date(today);\n  nextWeek.setDate(nextWeek.getDate() + 7);\n\n  // Reset time for comparison\n  today.setHours(0, 0, 0, 0);\n  date.setHours(0, 0, 0, 0);\n\n  if (date.getTime() === today.getTime()) {\n    return 'date-today';\n  }\n  if (date < today) {\n    return 'date-overdue';\n  }\n  if (date <= nextWeek) {\n    return 'date-upcoming';\n  }\n  return '';\n}\n\nexport function DatePillComponent({ node, updateAttributes, selected }: NodeViewProps) {\n  const [isPickerOpen, setIsPickerOpen] = useState(false);\n  const [pickerPosition, setPickerPosition] = useState({ top: 0, left: 0 });\n  const pillRef = useRef<HTMLSpanElement>(null);\n  const pickerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const dateValue = node.attrs.date || new Date().toISOString().split('T')[0];\n  const displayDate = formatDate(dateValue);\n  const variant = getDateVariant(dateValue);\n\n  // Handle click on date pill to open picker\n  const handleClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    if (pillRef.current) {\n      const rect = pillRef.current.getBoundingClientRect();\n      setPickerPosition({\n        top: rect.bottom + 8,\n        left: rect.left,\n      });\n    }\n    \n    setIsPickerOpen(true);\n  };\n\n  // Handle date change\n  const handleDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newDate = e.target.value;\n    if (newDate) {\n      updateAttributes({ date: newDate });\n      setIsPickerOpen(false);\n    }\n  };\n\n  // Handle quick date buttons\n  const setQuickDate = (daysFromToday: number) => {\n    const date = new Date();\n    date.setDate(date.getDate() + daysFromToday);\n    updateAttributes({ date: date.toISOString().split('T')[0] });\n    setIsPickerOpen(false);\n  };\n\n  // Close picker when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (\n        pickerRef.current && \n        !pickerRef.current.contains(e.target as Node) &&\n        pillRef.current &&\n        !pillRef.current.contains(e.target as Node)\n      ) {\n        setIsPickerOpen(false);\n      }\n    };\n\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        setIsPickerOpen(false);\n      }\n    };\n\n    if (isPickerOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      document.addEventListener('keydown', handleEscape);\n      // Focus the date input when picker opens\n      setTimeout(() => inputRef.current?.focus(), 50);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [isPickerOpen]);\n\n  return (\n    <NodeViewWrapper as=\"span\" className=\"inline\">\n      <span\n        ref={pillRef}\n        onClick={handleClick}\n        className={`date-pill ${variant} ${selected ? 'ProseMirror-selectednode' : ''} cursor-pointer`}\n        contentEditable={false}\n        data-type=\"date-pill\"\n        data-date={dateValue}\n      >\n        <Calendar size={14} className=\"date-icon\" />\n        <span className=\"date-text\">{displayDate}</span>\n      </span>\n\n      {isPickerOpen && (\n        <div\n          ref={pickerRef}\n          className=\"date-picker-popup\"\n          style={{\n            position: 'fixed',\n            top: pickerPosition.top,\n            left: pickerPosition.left,\n            zIndex: 100,\n          }}\n        >\n          {/* Quick date buttons */}\n          <div className=\"flex gap-1 mb-3\">\n            <button\n              type=\"button\"\n              onClick={() => setQuickDate(0)}\n              className=\"quick-date-btn\"\n            >\n              Today\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => setQuickDate(1)}\n              className=\"quick-date-btn\"\n            >\n              Tomorrow\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => setQuickDate(7)}\n              className=\"quick-date-btn\"\n            >\n              Next Week\n            </button>\n          </div>\n\n          {/* Date input */}\n          <div className=\"relative\">\n            <input\n              ref={inputRef}\n              type=\"date\"\n              value={dateValue}\n              onChange={handleDateChange}\n              className=\"date-picker-input\"\n            />\n          </div>\n\n          {/* Clear button */}\n          <div className=\"mt-2 pt-2 border-t border-border\">\n            <button\n              type=\"button\"\n              onClick={() => {\n                setIsPickerOpen(false);\n              }}\n              className=\"text-xs text-muted-foreground hover:text-foreground transition-colors\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n    </NodeViewWrapper>\n  );\n}\n\nexport default DatePillComponent;\n","import { Node, mergeAttributes, InputRule } from '@tiptap/core';\nimport { ReactNodeViewRenderer } from '@tiptap/react';\nimport { DatePillComponent } from '../DatePillComponent';\n\n/*\n * DatePill Extension\n * Creates inline date pills with rounded corners and click-to-edit date picker\n * Useful for log and task-based notes\n */\n\nexport interface DatePillOptions {\n  HTMLAttributes: Record<string, unknown>;\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    datePill: {\n      /**\n       * Insert a date pill\n       */\n      insertDatePill: (date?: string) => ReturnType;\n      /**\n       * Update a date pill\n       */\n      updateDatePill: (date: string) => ReturnType;\n    };\n  }\n}\n\n// Helper to format date for display (used for HTML rendering)\nfunction formatDate(dateStr: string): string {\n  const date = new Date(dateStr);\n  const today = new Date();\n  const tomorrow = new Date(today);\n  tomorrow.setDate(tomorrow.getDate() + 1);\n  const yesterday = new Date(today);\n  yesterday.setDate(yesterday.getDate() - 1);\n\n  // Reset time for comparison\n  today.setHours(0, 0, 0, 0);\n  tomorrow.setHours(0, 0, 0, 0);\n  yesterday.setHours(0, 0, 0, 0);\n  date.setHours(0, 0, 0, 0);\n\n  if (date.getTime() === today.getTime()) {\n    return 'Today';\n  }\n  if (date.getTime() === tomorrow.getTime()) {\n    return 'Tomorrow';\n  }\n  if (date.getTime() === yesterday.getTime()) {\n    return 'Yesterday';\n  }\n\n  // Format as \"Jan 15\" or \"Jan 15, 2025\" if different year\n  const options: Intl.DateTimeFormatOptions = {\n    month: 'short',\n    day: 'numeric',\n  };\n  \n  if (date.getFullYear() !== today.getFullYear()) {\n    options.year = 'numeric';\n  }\n\n  return date.toLocaleDateString('en-US', options);\n}\n\n// Helper to determine date variant\nfunction getDateVariant(dateStr: string): string {\n  const date = new Date(dateStr);\n  const today = new Date();\n  const nextWeek = new Date(today);\n  nextWeek.setDate(nextWeek.getDate() + 7);\n\n  // Reset time for comparison\n  today.setHours(0, 0, 0, 0);\n  date.setHours(0, 0, 0, 0);\n\n  if (date.getTime() === today.getTime()) {\n    return 'date-today';\n  }\n  if (date < today) {\n    return 'date-overdue';\n  }\n  if (date <= nextWeek) {\n    return 'date-upcoming';\n  }\n  return '';\n}\n\nexport const DatePill = Node.create<DatePillOptions>({\n  name: 'datePill',\n\n  group: 'inline',\n\n  inline: true,\n\n  atom: true,\n\n  addOptions() {\n    return {\n      HTMLAttributes: {},\n    };\n  },\n\n  addAttributes() {\n    return {\n      date: {\n        default: new Date().toISOString().split('T')[0],\n        parseHTML: (element) => element.getAttribute('data-date'),\n        renderHTML: (attributes) => ({\n          'data-date': attributes.date,\n        }),\n      },\n    };\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: 'span[data-type=\"date-pill\"]',\n      },\n    ];\n  },\n\n  renderHTML({ node, HTMLAttributes }) {\n    const date = node.attrs.date;\n    const displayDate = formatDate(date);\n    const variant = getDateVariant(date);\n\n    return [\n      'span',\n      mergeAttributes(\n        this.options.HTMLAttributes,\n        HTMLAttributes,\n        {\n          'data-type': 'date-pill',\n          class: `date-pill ${variant}`.trim(),\n        }\n      ),\n      [\n        'span',\n        { class: 'date-icon' },\n        '📅',\n      ],\n      [\n        'span',\n        { class: 'date-text' },\n        displayDate,\n      ],\n    ];\n  },\n\n  // Use React component for interactive editing\n  addNodeView() {\n    return ReactNodeViewRenderer(DatePillComponent);\n  },\n\n  addCommands() {\n    return {\n      insertDatePill:\n        (date?: string) =>\n        ({ commands }) => {\n          const dateValue = date || new Date().toISOString().split('T')[0];\n          return commands.insertContent({\n            type: this.name,\n            attrs: { date: dateValue },\n          });\n        },\n      updateDatePill:\n        (date: string) =>\n        ({ commands }) => {\n          return commands.updateAttributes(this.name, { date });\n        },\n    };\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      // Type Ctrl+Shift+D to insert a date pill\n      'Mod-Shift-d': () => {\n        return this.editor.commands.insertDatePill();\n      },\n    };\n  },\n\n  addInputRules() {\n    const todayRule = new InputRule({\n      find: /@today\\s$/,\n      handler: ({ state, range, chain }) => {\n        const today = new Date().toISOString().split('T')[0];\n        chain()\n          .deleteRange(range)\n          .insertDatePill(today)\n          .run();\n      },\n    });\n\n    const tomorrowRule = new InputRule({\n      find: /@tomorrow\\s$/,\n      handler: ({ state, range, chain }) => {\n        const tomorrow = new Date();\n        tomorrow.setDate(tomorrow.getDate() + 1);\n        chain()\n          .deleteRange(range)\n          .insertDatePill(tomorrow.toISOString().split('T')[0])\n          .run();\n      },\n    });\n\n    const yesterdayRule = new InputRule({\n      find: /@yesterday\\s$/,\n      handler: ({ state, range, chain }) => {\n        const yesterday = new Date();\n        yesterday.setDate(yesterday.getDate() - 1);\n        chain()\n          .deleteRange(range)\n          .insertDatePill(yesterday.toISOString().split('T')[0])\n          .run();\n      },\n    });\n\n    const isoDateRule = new InputRule({\n      find: /@(\\d{4}-\\d{2}-\\d{2})\\s$/,\n      handler: ({ state, range, chain, match }) => {\n        const date = match[1];\n        chain()\n          .deleteRange(range)\n          .insertDatePill(date)\n          .run();\n      },\n    });\n\n    const monthDayRule = new InputRule({\n      find: /@([A-Za-z]{3})\\s?(\\d{1,2})\\s$/,\n      handler: ({ state, range, chain, match }) => {\n        const monthStr = match[1];\n        const day = parseInt(match[2], 10);\n        const months: Record<string, number> = {\n          jan: 0, feb: 1, mar: 2, apr: 3, may: 4, jun: 5,\n          jul: 6, aug: 7, sep: 8, oct: 9, nov: 10, dec: 11,\n        };\n        const monthNum = months[monthStr.toLowerCase()];\n        if (monthNum !== undefined) {\n          const year = new Date().getFullYear();\n          const date = new Date(year, monthNum, day);\n          chain()\n            .deleteRange(range)\n            .insertDatePill(date.toISOString().split('T')[0])\n            .run();\n        }\n      },\n    });\n\n    return [todayRule, tomorrowRule, yesterdayRule, isoDateRule, monthDayRule];\n  },\n});\n\nexport default DatePill;\n","import { useState, useEffect, useRef } from 'react';\nimport { X, Image, Link2, Type } from 'lucide-react';\n\n/*\n * DESIGN: Things Theme\n * Image URL insertion dialog\n * Clean, elegant design matching the editor theme\n */\n\ninterface ImageURLDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onInsert: (url: string, alt: string) => void;\n  position?: { top: number; left: number };\n}\n\nexport function ImageURLDialog({ isOpen, onClose, onInsert, position }: ImageURLDialogProps) {\n  const [url, setUrl] = useState('');\n  const [alt, setAlt] = useState('');\n  const [error, setError] = useState('');\n  const [isValidating, setIsValidating] = useState(false);\n  const urlInputRef = useRef<HTMLInputElement>(null);\n  const dialogRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      setUrl('');\n      setAlt('');\n      setError('');\n      // Focus the URL input after a short delay\n      setTimeout(() => {\n        urlInputRef.current?.focus();\n      }, 100);\n    }\n  }, [isOpen]);\n\n  // Handle click outside to close\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleClickOutside = (e: MouseEvent) => {\n      if (dialogRef.current && !dialogRef.current.contains(e.target as Node)) {\n        onClose();\n      }\n    };\n\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    document.addEventListener('keydown', handleEscape);\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [isOpen, onClose]);\n\n  const validateUrl = (urlToValidate: string): boolean => {\n    if (!urlToValidate.trim()) {\n      setError('Please enter an image URL');\n      return false;\n    }\n\n    // Basic URL validation\n    try {\n      const parsedUrl = new URL(urlToValidate);\n      if (!['http:', 'https:', 'data:'].includes(parsedUrl.protocol)) {\n        setError('URL must start with http://, https://, or be a data URL');\n        return false;\n      }\n    } catch {\n      setError('Please enter a valid URL');\n      return false;\n    }\n\n    setError('');\n    return true;\n  };\n\n  const handleInsert = async () => {\n    if (!validateUrl(url)) return;\n\n    setIsValidating(true);\n\n    // Try to load the image to validate it\n    const img = new window.Image();\n    img.onload = () => {\n      setIsValidating(false);\n      onInsert(url.trim(), alt.trim());\n      onClose();\n    };\n    img.onerror = () => {\n      setIsValidating(false);\n      // Still insert even if validation fails - user might have a valid URL that CORS blocks\n      onInsert(url.trim(), alt.trim());\n      onClose();\n    };\n    \n    // Set a timeout in case the image takes too long\n    setTimeout(() => {\n      if (isValidating) {\n        setIsValidating(false);\n        onInsert(url.trim(), alt.trim());\n        onClose();\n      }\n    }, 3000);\n\n    img.src = url.trim();\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleInsert();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  // Calculate safe position\n  const safePosition = position ? {\n    top: position.top,\n    left: Math.min(position.left, typeof window !== 'undefined' ? window.innerWidth - 340 : position.left),\n  } : { top: '50%', left: '50%' };\n\n  return (\n    <div\n      ref={dialogRef}\n      className=\"image-url-dialog fixed z-50\"\n      style={{\n        top: typeof safePosition.top === 'number' ? safePosition.top : safePosition.top,\n        left: typeof safePosition.left === 'number' ? Math.max(8, safePosition.left) : safePosition.left,\n        transform: !position ? 'translate(-50%, -50%)' : undefined,\n      }}\n    >\n      {/* Header */}\n      <div className=\"image-url-dialog-header\">\n        <div className=\"flex items-center gap-2\">\n          <Image size={16} className=\"text-primary\" />\n          <span className=\"font-medium text-sm\">Insert Image from URL</span>\n        </div>\n        <button\n          onClick={onClose}\n          className=\"image-url-dialog-close\"\n          aria-label=\"Close\"\n        >\n          <X size={16} />\n        </button>\n      </div>\n\n      {/* Content */}\n      <div className=\"image-url-dialog-content\">\n        {/* URL Input */}\n        <div className=\"image-url-dialog-field\">\n          <label className=\"image-url-dialog-label\">\n            <Link2 size={12} />\n            Image URL\n          </label>\n          <input\n            ref={urlInputRef}\n            type=\"url\"\n            value={url}\n            onChange={(e) => {\n              setUrl(e.target.value);\n              if (error) setError('');\n            }}\n            onKeyDown={handleKeyDown}\n            placeholder=\"https://example.com/image.jpg\"\n            className={`image-url-dialog-input ${error ? 'error' : ''}`}\n          />\n          {error && (\n            <span className=\"image-url-dialog-error\">{error}</span>\n          )}\n        </div>\n\n        {/* Alt Text Input */}\n        <div className=\"image-url-dialog-field\">\n          <label className=\"image-url-dialog-label\">\n            <Type size={12} />\n            Alt Text (optional)\n          </label>\n          <input\n            type=\"text\"\n            value={alt}\n            onChange={(e) => setAlt(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder=\"Describe the image\"\n            className=\"image-url-dialog-input\"\n          />\n        </div>\n\n        {/* Actions */}\n        <div className=\"image-url-dialog-actions\">\n          <button\n            onClick={onClose}\n            className=\"image-url-dialog-btn image-url-dialog-btn-cancel\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleInsert}\n            disabled={isValidating || !url.trim()}\n            className=\"image-url-dialog-btn image-url-dialog-btn-insert\"\n          >\n            {isValidating ? 'Validating...' : 'Insert Image'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ImageURLDialog;\n","import { Editor, Extension } from '@tiptap/react';\nimport { useEffect, useState, useCallback, useRef } from 'react';\nimport ImageURLDialog from './ImageURLDialog';\nimport {\n  Heading1,\n  Heading2,\n  Heading3,\n  List,\n  ListOrdered,\n  CheckSquare,\n  Quote,\n  Code2,\n  Table,\n  Image,\n  Minus,\n  Info,\n  AlertTriangle,\n  AlertCircle,\n  CheckCircle,\n  FileText,\n  Type,\n  Calendar,\n  Link2,\n} from 'lucide-react';\n\n/*\n * DESIGN: Dark Mode Craftsman\n * Slash command menu for quick insertions\n * Glassmorphic popup with keyboard navigation\n */\n\ninterface SlashCommandsProps {\n  editor: Editor;\n  disabledFeatures?: {\n    tables?: boolean;\n    images?: boolean;\n    codeBlocks?: boolean;\n    taskLists?: boolean;\n    callouts?: boolean;\n    datePills?: boolean;\n    wikiLinks?: boolean;\n    collapsibleHeadings?: boolean;\n    slashCommands?: boolean;\n    markdownPaste?: boolean;\n    dragAndDrop?: boolean;\n  };\n}\n\ninterface CommandItem {\n  title: string;\n  description: string;\n  icon: React.ReactNode;\n  command: (editor: Editor) => void;\n  keywords?: string[];\n  isImageCommand?: boolean;\n}\n\nconst commands: CommandItem[] = [\n  {\n    title: 'Paragraph',\n    description: 'Normal text',\n    icon: <Type size={18} />,\n    command: (editor) => editor.chain().focus().setParagraph().run(),\n    keywords: ['text', 'normal', 'p'],\n  },\n  {\n    title: 'Heading 1',\n    description: 'Large section heading',\n    icon: <Heading1 size={18} />,\n    command: (editor) => editor.chain().focus().toggleHeading({ level: 1 }).run(),\n    keywords: ['h1', 'title', 'large'],\n  },\n  {\n    title: 'Heading 2',\n    description: 'Medium section heading',\n    icon: <Heading2 size={18} />,\n    command: (editor) => editor.chain().focus().toggleHeading({ level: 2 }).run(),\n    keywords: ['h2', 'subtitle'],\n  },\n  {\n    title: 'Heading 3',\n    description: 'Small section heading',\n    icon: <Heading3 size={18} />,\n    command: (editor) => editor.chain().focus().toggleHeading({ level: 3 }).run(),\n    keywords: ['h3', 'subheading'],\n  },\n  {\n    title: 'Bullet List',\n    description: 'Create a simple bullet list',\n    icon: <List size={18} />,\n    command: (editor) => editor.chain().focus().toggleBulletList().run(),\n    keywords: ['ul', 'unordered', 'bullets'],\n  },\n  {\n    title: 'Numbered List',\n    description: 'Create a numbered list',\n    icon: <ListOrdered size={18} />,\n    command: (editor) => editor.chain().focus().toggleOrderedList().run(),\n    keywords: ['ol', 'ordered', 'numbers'],\n  },\n  {\n    title: 'Task List',\n    description: 'Create a todo list with checkboxes',\n    icon: <CheckSquare size={18} />,\n    command: (editor) => editor.chain().focus().toggleTaskList().run(),\n    keywords: ['todo', 'checkbox', 'tasks'],\n  },\n  {\n    title: 'Quote',\n    description: 'Add a blockquote',\n    icon: <Quote size={18} />,\n    command: (editor) => editor.chain().focus().toggleBlockquote().run(),\n    keywords: ['blockquote', 'citation'],\n  },\n  {\n    title: 'Code Block',\n    description: 'Add a code block with syntax highlighting',\n    icon: <Code2 size={18} />,\n    command: (editor) => editor.chain().focus().toggleCodeBlock().run(),\n    keywords: ['code', 'pre', 'syntax'],\n  },\n  {\n    title: 'Table',\n    description: 'Insert a table',\n    icon: <Table size={18} />,\n    command: (editor) => editor.chain().focus().insertTable({ rows: 3, cols: 3, withHeaderRow: true }).run(),\n    keywords: ['grid', 'spreadsheet'],\n  },\n  // Image command is handled separately with a dialog\n  {\n    title: 'Image',\n    description: 'Insert an image from URL',\n    icon: <Image size={18} />,\n    command: () => {\n      // This is a placeholder - actual insertion is handled by the dialog\n      // The command will be intercepted in SlashCommands component\n    },\n    keywords: ['picture', 'photo', 'img'],\n    isImageCommand: true,\n  },\n  {\n    title: 'Divider',\n    description: 'Add a horizontal rule',\n    icon: <Minus size={18} />,\n    command: (editor) => editor.chain().focus().setHorizontalRule().run(),\n    keywords: ['hr', 'separator', 'line'],\n  },\n  {\n    title: 'Info Callout',\n    description: 'Add an info callout box',\n    icon: <Info size={18} className=\"text-blue-400\" />,\n    command: (editor) => editor.chain().focus().toggleCallout({ type: 'info' }).run(),\n    keywords: ['note', 'tip', 'information'],\n  },\n  {\n    title: 'Warning Callout',\n    description: 'Add a warning callout box',\n    icon: <AlertTriangle size={18} className=\"text-yellow-400\" />,\n    command: (editor) => editor.chain().focus().toggleCallout({ type: 'warning' }).run(),\n    keywords: ['caution', 'alert'],\n  },\n  {\n    title: 'Error Callout',\n    description: 'Add an error callout box',\n    icon: <AlertCircle size={18} className=\"text-red-400\" />,\n    command: (editor) => editor.chain().focus().toggleCallout({ type: 'error' }).run(),\n    keywords: ['danger', 'critical'],\n  },\n  {\n    title: 'Success Callout',\n    description: 'Add a success callout box',\n    icon: <CheckCircle size={18} className=\"text-green-400\" />,\n    command: (editor) => editor.chain().focus().toggleCallout({ type: 'success' }).run(),\n    keywords: ['done', 'complete'],\n  },\n  {\n    title: 'Note Callout',\n    description: 'Add a note callout box',\n    icon: <FileText size={18} className=\"text-purple-400\" />,\n    command: (editor) => editor.chain().focus().toggleCallout({ type: 'note' }).run(),\n    keywords: ['memo', 'remember'],\n  },\n  {\n    title: 'Date',\n    description: 'Insert a date pill (today)',\n    icon: <Calendar size={18} className=\"text-cyan-400\" />,\n    command: (editor) => editor.chain().focus().insertDatePill().run(),\n    keywords: ['date', 'today', 'calendar', 'time', 'schedule'],\n  },\n  {\n    title: 'Wiki Link',\n    description: 'Insert a [[page name]] link',\n    icon: <Link2 size={18} className=\"text-cyan-400\" />,\n    command: (editor) => {\n      const pageName = window.prompt('Enter page name:');\n      if (pageName) {\n        editor.chain().focus().insertContent(`[[${pageName}]]`).run();\n      }\n    },\n    keywords: ['wiki', 'internal', 'page', 'link', 'backlink'],\n  },\n];\n\nexport function SlashCommands({ editor }: SlashCommandsProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [query, setQuery] = useState('');\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n  const [showImageDialog, setShowImageDialog] = useState(false);\n  const [imageDialogPosition, setImageDialogPosition] = useState({ top: 0, left: 0 });\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  const filteredCommands = commands.filter((cmd) => {\n    const searchText = query.toLowerCase();\n    return (\n      cmd.title.toLowerCase().includes(searchText) ||\n      cmd.description.toLowerCase().includes(searchText) ||\n      cmd.keywords?.some((kw) => kw.includes(searchText))\n    );\n  });\n\n  const executeCommand = useCallback((index: number) => {\n    const command = filteredCommands[index];\n    if (command) {\n      // Delete the slash and query\n      const { state } = editor;\n      const { selection } = state;\n      const { $from } = selection;\n      const textBefore = $from.nodeBefore?.textContent || '';\n      const slashIndex = textBefore.lastIndexOf('/');\n      \n      if (slashIndex !== -1) {\n        const deleteFrom = $from.pos - (textBefore.length - slashIndex);\n        editor.chain().focus().deleteRange({ from: deleteFrom, to: $from.pos }).run();\n      }\n      \n      // Handle image command specially with dialog\n      if (command.isImageCommand) {\n        const coords = editor.view.coordsAtPos($from.pos);\n        setImageDialogPosition({\n          top: coords.bottom + 8,\n          left: coords.left,\n        });\n        setShowImageDialog(true);\n      } else {\n        command.command(editor);\n      }\n      \n      setIsOpen(false);\n      setQuery('');\n      setSelectedIndex(0);\n    }\n  }, [editor, filteredCommands]);\n\n  const handleImageInsert = useCallback((url: string, alt: string) => {\n    editor.chain().focus().setImage({ src: url, alt }).run();\n  }, [editor]);\n\n  useEffect(() => {\n    if (!editor) return;\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (!isOpen) {\n        // Check for slash to open menu\n        if (event.key === '/') {\n          const { state } = editor;\n          const { selection } = state;\n          const { $from } = selection;\n          \n          // Get cursor position for menu placement\n          const coords = editor.view.coordsAtPos($from.pos);\n          setPosition({\n            top: coords.bottom + 8,\n            left: coords.left,\n          });\n          \n          // Open menu after a small delay to allow the slash to be typed\n          setTimeout(() => {\n            setIsOpen(true);\n            setQuery('');\n            setSelectedIndex(0);\n          }, 10);\n        }\n        return;\n      }\n\n      // Handle navigation when menu is open\n      if (event.key === 'ArrowDown') {\n        event.preventDefault();\n        setSelectedIndex((prev) => (prev + 1) % filteredCommands.length);\n      } else if (event.key === 'ArrowUp') {\n        event.preventDefault();\n        setSelectedIndex((prev) => (prev - 1 + filteredCommands.length) % filteredCommands.length);\n      } else if (event.key === 'Enter') {\n        event.preventDefault();\n        executeCommand(selectedIndex);\n      } else if (event.key === 'Escape') {\n        event.preventDefault();\n        setIsOpen(false);\n        setQuery('');\n      } else if (event.key === 'Backspace') {\n        if (query.length === 0) {\n          setIsOpen(false);\n        } else {\n          setQuery((prev) => prev.slice(0, -1));\n        }\n      } else if (event.key.length === 1 && !event.ctrlKey && !event.metaKey) {\n        setQuery((prev) => prev + event.key);\n        setSelectedIndex(0);\n      }\n    };\n\n    const handleClick = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n        setQuery('');\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    document.addEventListener('click', handleClick);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('click', handleClick);\n    };\n  }, [editor, isOpen, query, selectedIndex, filteredCommands, executeCommand]);\n\n  // Reset selected index when filtered results change\n  useEffect(() => {\n    if (selectedIndex >= filteredCommands.length) {\n      setSelectedIndex(Math.max(0, filteredCommands.length - 1));\n    }\n  }, [filteredCommands.length, selectedIndex]);\n\n  // Show image dialog even when menu is closed\n  if (showImageDialog) {\n    return (\n      <ImageURLDialog\n        isOpen={showImageDialog}\n        onClose={() => setShowImageDialog(false)}\n        onInsert={handleImageInsert}\n        position={imageDialogPosition}\n      />\n    );\n  }\n\n  if (!isOpen || filteredCommands.length === 0) {\n    return null;\n  }\n\n  // Calculate safe position for mobile\n  const safePosition = {\n    top: position.top,\n    left: Math.min(position.left, typeof window !== 'undefined' ? window.innerWidth - 280 : position.left),\n  };\n\n  return (\n    <div\n      ref={menuRef}\n      className=\"slash-command-menu fixed z-50 max-h-[60vh] overflow-y-auto\"\n      style={{\n        top: safePosition.top,\n        left: Math.max(8, safePosition.left),\n      }}\n    >\n      <div className=\"text-xs text-muted-foreground px-3 py-2 border-b border-border\">\n        {query ? `Searching: ${query}` : 'Type to filter...'}\n      </div>\n      {filteredCommands.map((cmd, index) => (\n        <div\n          key={cmd.title}\n          className={`slash-command-item ${index === selectedIndex ? 'is-selected' : ''}`}\n          onClick={() => executeCommand(index)}\n          onMouseEnter={() => setSelectedIndex(index)}\n          onTouchStart={() => setSelectedIndex(index)}\n        >\n          <div className=\"icon flex-shrink-0\">{cmd.icon}</div>\n          <div className=\"flex flex-col min-w-0\">\n            <span className=\"label truncate\">{cmd.title}</span>\n            <span className=\"text-xs text-muted-foreground truncate\">{cmd.description}</span>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default SlashCommands;\n","// src/primitive.tsx\nvar canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nfunction composeEventHandlers(originalEventHandler, ourEventHandler, { checkForDefaultPrevented = true } = {}) {\n  return function handleEvent(event) {\n    originalEventHandler?.(event);\n    if (checkForDefaultPrevented === false || !event.defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\nfunction getOwnerWindow(element) {\n  if (!canUseDOM) {\n    throw new Error(\"Cannot access window outside of the DOM\");\n  }\n  return element?.ownerDocument?.defaultView ?? window;\n}\nfunction getOwnerDocument(element) {\n  if (!canUseDOM) {\n    throw new Error(\"Cannot access document outside of the DOM\");\n  }\n  return element?.ownerDocument ?? document;\n}\nfunction getActiveElement(node, activeDescendant = false) {\n  const { activeElement } = getOwnerDocument(node);\n  if (!activeElement?.nodeName) {\n    return null;\n  }\n  if (isFrame(activeElement) && activeElement.contentDocument) {\n    return getActiveElement(activeElement.contentDocument.body, activeDescendant);\n  }\n  if (activeDescendant) {\n    const id = activeElement.getAttribute(\"aria-activedescendant\");\n    if (id) {\n      const element = getOwnerDocument(activeElement).getElementById(id);\n      if (element) {\n        return element;\n      }\n    }\n  }\n  return activeElement;\n}\nfunction isFrame(element) {\n  return element.tagName === \"IFRAME\";\n}\nexport {\n  canUseDOM,\n  composeEventHandlers,\n  getActiveElement,\n  getOwnerDocument,\n  getOwnerWindow,\n  isFrame\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/compose-refs/src/compose-refs.tsx\nimport * as React from \"react\";\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    return ref(value);\n  } else if (ref !== null && ref !== void 0) {\n    ref.current = value;\n  }\n}\nfunction composeRefs(...refs) {\n  return (node) => {\n    let hasCleanup = false;\n    const cleanups = refs.map((ref) => {\n      const cleanup = setRef(ref, node);\n      if (!hasCleanup && typeof cleanup == \"function\") {\n        hasCleanup = true;\n      }\n      return cleanup;\n    });\n    if (hasCleanup) {\n      return () => {\n        for (let i = 0; i < cleanups.length; i++) {\n          const cleanup = cleanups[i];\n          if (typeof cleanup == \"function\") {\n            cleanup();\n          } else {\n            setRef(refs[i], null);\n          }\n        }\n      };\n    }\n  };\n}\nfunction useComposedRefs(...refs) {\n  return React.useCallback(composeRefs(...refs), refs);\n}\nexport {\n  composeRefs,\n  useComposedRefs\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/context/src/create-context.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createContext2(rootComponentName, defaultContext) {\n  const Context = React.createContext(defaultContext);\n  const Provider = (props) => {\n    const { children, ...context } = props;\n    const value = React.useMemo(() => context, Object.values(context));\n    return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n  };\n  Provider.displayName = rootComponentName + \"Provider\";\n  function useContext2(consumerName) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== void 0) return defaultContext;\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n  return [Provider, useContext2];\n}\nfunction createContextScope(scopeName, createContextScopeDeps = []) {\n  let defaultContexts = [];\n  function createContext3(rootComponentName, defaultContext) {\n    const BaseContext = React.createContext(defaultContext);\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n    const Provider = (props) => {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const value = React.useMemo(() => context, Object.values(context));\n      return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n    };\n    Provider.displayName = rootComponentName + \"Provider\";\n    function useContext2(consumerName, scope) {\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== void 0) return defaultContext;\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n    return [Provider, useContext2];\n  }\n  const createScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n  createScope.scopeName = scopeName;\n  return [createContext3, composeContextScopes(createScope, ...createContextScopeDeps)];\n}\nfunction composeContextScopes(...scopes) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n  const createScope = () => {\n    const scopeHooks = scopes.map((createScope2) => ({\n      useScope: createScope2(),\n      scopeName: createScope2.scopeName\n    }));\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes2, { useScope, scopeName }) => {\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes2, ...currentScope };\n      }, {});\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\nexport {\n  createContext2 as createContext,\n  createContextScope\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-layout-effect/src/use-layout-effect.tsx\nimport * as React from \"react\";\nvar useLayoutEffect2 = globalThis?.document ? React.useLayoutEffect : () => {\n};\nexport {\n  useLayoutEffect2 as useLayoutEffect\n};\n//# sourceMappingURL=index.mjs.map\n","// src/use-controllable-state.tsx\nimport * as React from \"react\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nvar useInsertionEffect = React[\" useInsertionEffect \".trim().toString()] || useLayoutEffect;\nfunction useControllableState({\n  prop,\n  defaultProp,\n  onChange = () => {\n  },\n  caller\n}) {\n  const [uncontrolledProp, setUncontrolledProp, onChangeRef] = useUncontrolledState({\n    defaultProp,\n    onChange\n  });\n  const isControlled = prop !== void 0;\n  const value = isControlled ? prop : uncontrolledProp;\n  if (true) {\n    const isControlledRef = React.useRef(prop !== void 0);\n    React.useEffect(() => {\n      const wasControlled = isControlledRef.current;\n      if (wasControlled !== isControlled) {\n        const from = wasControlled ? \"controlled\" : \"uncontrolled\";\n        const to = isControlled ? \"controlled\" : \"uncontrolled\";\n        console.warn(\n          `${caller} is changing from ${from} to ${to}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`\n        );\n      }\n      isControlledRef.current = isControlled;\n    }, [isControlled, caller]);\n  }\n  const setValue = React.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const value2 = isFunction(nextValue) ? nextValue(prop) : nextValue;\n        if (value2 !== prop) {\n          onChangeRef.current?.(value2);\n        }\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, onChangeRef]\n  );\n  return [value, setValue];\n}\nfunction useUncontrolledState({\n  defaultProp,\n  onChange\n}) {\n  const [value, setValue] = React.useState(defaultProp);\n  const prevValueRef = React.useRef(value);\n  const onChangeRef = React.useRef(onChange);\n  useInsertionEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      onChangeRef.current?.(value);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef]);\n  return [value, setValue, onChangeRef];\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\n// src/use-controllable-state-reducer.tsx\nimport * as React2 from \"react\";\nimport { useEffectEvent } from \"@radix-ui/react-use-effect-event\";\nvar SYNC_STATE = Symbol(\"RADIX:SYNC_STATE\");\nfunction useControllableStateReducer(reducer, userArgs, initialArg, init) {\n  const { prop: controlledState, defaultProp, onChange: onChangeProp, caller } = userArgs;\n  const isControlled = controlledState !== void 0;\n  const onChange = useEffectEvent(onChangeProp);\n  if (true) {\n    const isControlledRef = React2.useRef(controlledState !== void 0);\n    React2.useEffect(() => {\n      const wasControlled = isControlledRef.current;\n      if (wasControlled !== isControlled) {\n        const from = wasControlled ? \"controlled\" : \"uncontrolled\";\n        const to = isControlled ? \"controlled\" : \"uncontrolled\";\n        console.warn(\n          `${caller} is changing from ${from} to ${to}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`\n        );\n      }\n      isControlledRef.current = isControlled;\n    }, [isControlled, caller]);\n  }\n  const args = [{ ...initialArg, state: defaultProp }];\n  if (init) {\n    args.push(init);\n  }\n  const [internalState, dispatch] = React2.useReducer(\n    (state2, action) => {\n      if (action.type === SYNC_STATE) {\n        return { ...state2, state: action.state };\n      }\n      const next = reducer(state2, action);\n      if (isControlled && !Object.is(next.state, state2.state)) {\n        onChange(next.state);\n      }\n      return next;\n    },\n    ...args\n  );\n  const uncontrolledState = internalState.state;\n  const prevValueRef = React2.useRef(uncontrolledState);\n  React2.useEffect(() => {\n    if (prevValueRef.current !== uncontrolledState) {\n      prevValueRef.current = uncontrolledState;\n      if (!isControlled) {\n        onChange(uncontrolledState);\n      }\n    }\n  }, [onChange, uncontrolledState, prevValueRef, isControlled]);\n  const state = React2.useMemo(() => {\n    const isControlled2 = controlledState !== void 0;\n    if (isControlled2) {\n      return { ...internalState, state: controlledState };\n    }\n    return internalState;\n  }, [internalState, controlledState]);\n  React2.useEffect(() => {\n    if (isControlled && !Object.is(controlledState, internalState.state)) {\n      dispatch({ type: SYNC_STATE, state: controlledState });\n    }\n  }, [controlledState, internalState.state, isControlled]);\n  return [state, dispatch];\n}\nexport {\n  useControllableState,\n  useControllableStateReducer\n};\n//# sourceMappingURL=index.mjs.map\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","// src/primitive.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NODES = [\n  \"a\",\n  \"button\",\n  \"div\",\n  \"form\",\n  \"h2\",\n  \"h3\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"select\",\n  \"span\",\n  \"svg\",\n  \"ul\"\n];\nvar Primitive = NODES.reduce((primitive, node) => {\n  const Slot = createSlot(`Primitive.${node}`);\n  const Node = React.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    if (typeof window !== \"undefined\") {\n      window[Symbol.for(\"radix-ui\")] = true;\n    }\n    return /* @__PURE__ */ jsx(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitive, [node]: Node };\n}, {});\nfunction dispatchDiscreteCustomEvent(target, event) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\nvar Root = Primitive;\nexport {\n  Primitive,\n  Root,\n  dispatchDiscreteCustomEvent\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/collection-legacy.tsx\nimport React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createCollection(name) {\n  const PROVIDER_NAME = name + \"CollectionProvider\";\n  const [createCollectionContext, createCollectionScope] = createContextScope(PROVIDER_NAME);\n  const [CollectionProviderImpl, useCollectionContext] = createCollectionContext(\n    PROVIDER_NAME,\n    { collectionRef: { current: null }, itemMap: /* @__PURE__ */ new Map() }\n  );\n  const CollectionProvider = (props) => {\n    const { scope, children } = props;\n    const ref = React.useRef(null);\n    const itemMap = React.useRef(/* @__PURE__ */ new Map()).current;\n    return /* @__PURE__ */ jsx(CollectionProviderImpl, { scope, itemMap, collectionRef: ref, children });\n  };\n  CollectionProvider.displayName = PROVIDER_NAME;\n  const COLLECTION_SLOT_NAME = name + \"CollectionSlot\";\n  const CollectionSlotImpl = createSlot(COLLECTION_SLOT_NAME);\n  const CollectionSlot = React.forwardRef(\n    (props, forwardedRef) => {\n      const { scope, children } = props;\n      const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n      const composedRefs = useComposedRefs(forwardedRef, context.collectionRef);\n      return /* @__PURE__ */ jsx(CollectionSlotImpl, { ref: composedRefs, children });\n    }\n  );\n  CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n  const ITEM_SLOT_NAME = name + \"CollectionItemSlot\";\n  const ITEM_DATA_ATTR = \"data-radix-collection-item\";\n  const CollectionItemSlotImpl = createSlot(ITEM_SLOT_NAME);\n  const CollectionItemSlot = React.forwardRef(\n    (props, forwardedRef) => {\n      const { scope, children, ...itemData } = props;\n      const ref = React.useRef(null);\n      const composedRefs = useComposedRefs(forwardedRef, ref);\n      const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n      React.useEffect(() => {\n        context.itemMap.set(ref, { ref, ...itemData });\n        return () => void context.itemMap.delete(ref);\n      });\n      return /* @__PURE__ */ jsx(CollectionItemSlotImpl, { ...{ [ITEM_DATA_ATTR]: \"\" }, ref: composedRefs, children });\n    }\n  );\n  CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n  function useCollection(scope) {\n    const context = useCollectionContext(name + \"CollectionConsumer\", scope);\n    const getItems = React.useCallback(() => {\n      const collectionNode = context.collectionRef.current;\n      if (!collectionNode) return [];\n      const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));\n      const items = Array.from(context.itemMap.values());\n      const orderedItems = items.sort(\n        (a, b) => orderedNodes.indexOf(a.ref.current) - orderedNodes.indexOf(b.ref.current)\n      );\n      return orderedItems;\n    }, [context.collectionRef, context.itemMap]);\n    return getItems;\n  }\n  return [\n    { Provider: CollectionProvider, Slot: CollectionSlot, ItemSlot: CollectionItemSlot },\n    useCollection,\n    createCollectionScope\n  ];\n}\n\n// src/collection.tsx\nimport React2 from \"react\";\nimport { createContextScope as createContextScope2 } from \"@radix-ui/react-context\";\nimport { useComposedRefs as useComposedRefs2 } from \"@radix-ui/react-compose-refs\";\nimport { createSlot as createSlot2 } from \"@radix-ui/react-slot\";\n\n// src/ordered-dictionary.ts\nvar __instanciated = /* @__PURE__ */ new WeakMap();\nvar OrderedDict = class _OrderedDict extends Map {\n  #keys;\n  constructor(entries) {\n    super(entries);\n    this.#keys = [...super.keys()];\n    __instanciated.set(this, true);\n  }\n  set(key, value) {\n    if (__instanciated.get(this)) {\n      if (this.has(key)) {\n        this.#keys[this.#keys.indexOf(key)] = key;\n      } else {\n        this.#keys.push(key);\n      }\n    }\n    super.set(key, value);\n    return this;\n  }\n  insert(index, key, value) {\n    const has = this.has(key);\n    const length = this.#keys.length;\n    const relativeIndex = toSafeInteger(index);\n    let actualIndex = relativeIndex >= 0 ? relativeIndex : length + relativeIndex;\n    const safeIndex = actualIndex < 0 || actualIndex >= length ? -1 : actualIndex;\n    if (safeIndex === this.size || has && safeIndex === this.size - 1 || safeIndex === -1) {\n      this.set(key, value);\n      return this;\n    }\n    const size = this.size + (has ? 0 : 1);\n    if (relativeIndex < 0) {\n      actualIndex++;\n    }\n    const keys = [...this.#keys];\n    let nextValue;\n    let shouldSkip = false;\n    for (let i = actualIndex; i < size; i++) {\n      if (actualIndex === i) {\n        let nextKey = keys[i];\n        if (keys[i] === key) {\n          nextKey = keys[i + 1];\n        }\n        if (has) {\n          this.delete(key);\n        }\n        nextValue = this.get(nextKey);\n        this.set(key, value);\n      } else {\n        if (!shouldSkip && keys[i - 1] === key) {\n          shouldSkip = true;\n        }\n        const currentKey = keys[shouldSkip ? i : i - 1];\n        const currentValue = nextValue;\n        nextValue = this.get(currentKey);\n        this.delete(currentKey);\n        this.set(currentKey, currentValue);\n      }\n    }\n    return this;\n  }\n  with(index, key, value) {\n    const copy = new _OrderedDict(this);\n    copy.insert(index, key, value);\n    return copy;\n  }\n  before(key) {\n    const index = this.#keys.indexOf(key) - 1;\n    if (index < 0) {\n      return void 0;\n    }\n    return this.entryAt(index);\n  }\n  /**\n   * Sets a new key-value pair at the position before the given key.\n   */\n  setBefore(key, newKey, value) {\n    const index = this.#keys.indexOf(key);\n    if (index === -1) {\n      return this;\n    }\n    return this.insert(index, newKey, value);\n  }\n  after(key) {\n    let index = this.#keys.indexOf(key);\n    index = index === -1 || index === this.size - 1 ? -1 : index + 1;\n    if (index === -1) {\n      return void 0;\n    }\n    return this.entryAt(index);\n  }\n  /**\n   * Sets a new key-value pair at the position after the given key.\n   */\n  setAfter(key, newKey, value) {\n    const index = this.#keys.indexOf(key);\n    if (index === -1) {\n      return this;\n    }\n    return this.insert(index + 1, newKey, value);\n  }\n  first() {\n    return this.entryAt(0);\n  }\n  last() {\n    return this.entryAt(-1);\n  }\n  clear() {\n    this.#keys = [];\n    return super.clear();\n  }\n  delete(key) {\n    const deleted = super.delete(key);\n    if (deleted) {\n      this.#keys.splice(this.#keys.indexOf(key), 1);\n    }\n    return deleted;\n  }\n  deleteAt(index) {\n    const key = this.keyAt(index);\n    if (key !== void 0) {\n      return this.delete(key);\n    }\n    return false;\n  }\n  at(index) {\n    const key = at(this.#keys, index);\n    if (key !== void 0) {\n      return this.get(key);\n    }\n  }\n  entryAt(index) {\n    const key = at(this.#keys, index);\n    if (key !== void 0) {\n      return [key, this.get(key)];\n    }\n  }\n  indexOf(key) {\n    return this.#keys.indexOf(key);\n  }\n  keyAt(index) {\n    return at(this.#keys, index);\n  }\n  from(key, offset) {\n    const index = this.indexOf(key);\n    if (index === -1) {\n      return void 0;\n    }\n    let dest = index + offset;\n    if (dest < 0) dest = 0;\n    if (dest >= this.size) dest = this.size - 1;\n    return this.at(dest);\n  }\n  keyFrom(key, offset) {\n    const index = this.indexOf(key);\n    if (index === -1) {\n      return void 0;\n    }\n    let dest = index + offset;\n    if (dest < 0) dest = 0;\n    if (dest >= this.size) dest = this.size - 1;\n    return this.keyAt(dest);\n  }\n  find(predicate, thisArg) {\n    let index = 0;\n    for (const entry of this) {\n      if (Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        return entry;\n      }\n      index++;\n    }\n    return void 0;\n  }\n  findIndex(predicate, thisArg) {\n    let index = 0;\n    for (const entry of this) {\n      if (Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        return index;\n      }\n      index++;\n    }\n    return -1;\n  }\n  filter(predicate, thisArg) {\n    const entries = [];\n    let index = 0;\n    for (const entry of this) {\n      if (Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        entries.push(entry);\n      }\n      index++;\n    }\n    return new _OrderedDict(entries);\n  }\n  map(callbackfn, thisArg) {\n    const entries = [];\n    let index = 0;\n    for (const entry of this) {\n      entries.push([entry[0], Reflect.apply(callbackfn, thisArg, [entry, index, this])]);\n      index++;\n    }\n    return new _OrderedDict(entries);\n  }\n  reduce(...args) {\n    const [callbackfn, initialValue] = args;\n    let index = 0;\n    let accumulator = initialValue ?? this.at(0);\n    for (const entry of this) {\n      if (index === 0 && args.length === 1) {\n        accumulator = entry;\n      } else {\n        accumulator = Reflect.apply(callbackfn, this, [accumulator, entry, index, this]);\n      }\n      index++;\n    }\n    return accumulator;\n  }\n  reduceRight(...args) {\n    const [callbackfn, initialValue] = args;\n    let accumulator = initialValue ?? this.at(-1);\n    for (let index = this.size - 1; index >= 0; index--) {\n      const entry = this.at(index);\n      if (index === this.size - 1 && args.length === 1) {\n        accumulator = entry;\n      } else {\n        accumulator = Reflect.apply(callbackfn, this, [accumulator, entry, index, this]);\n      }\n    }\n    return accumulator;\n  }\n  toSorted(compareFn) {\n    const entries = [...this.entries()].sort(compareFn);\n    return new _OrderedDict(entries);\n  }\n  toReversed() {\n    const reversed = new _OrderedDict();\n    for (let index = this.size - 1; index >= 0; index--) {\n      const key = this.keyAt(index);\n      const element = this.get(key);\n      reversed.set(key, element);\n    }\n    return reversed;\n  }\n  toSpliced(...args) {\n    const entries = [...this.entries()];\n    entries.splice(...args);\n    return new _OrderedDict(entries);\n  }\n  slice(start, end) {\n    const result = new _OrderedDict();\n    let stop = this.size - 1;\n    if (start === void 0) {\n      return result;\n    }\n    if (start < 0) {\n      start = start + this.size;\n    }\n    if (end !== void 0 && end > 0) {\n      stop = end - 1;\n    }\n    for (let index = start; index <= stop; index++) {\n      const key = this.keyAt(index);\n      const element = this.get(key);\n      result.set(key, element);\n    }\n    return result;\n  }\n  every(predicate, thisArg) {\n    let index = 0;\n    for (const entry of this) {\n      if (!Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        return false;\n      }\n      index++;\n    }\n    return true;\n  }\n  some(predicate, thisArg) {\n    let index = 0;\n    for (const entry of this) {\n      if (Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        return true;\n      }\n      index++;\n    }\n    return false;\n  }\n};\nfunction at(array, index) {\n  if (\"at\" in Array.prototype) {\n    return Array.prototype.at.call(array, index);\n  }\n  const actualIndex = toSafeIndex(array, index);\n  return actualIndex === -1 ? void 0 : array[actualIndex];\n}\nfunction toSafeIndex(array, index) {\n  const length = array.length;\n  const relativeIndex = toSafeInteger(index);\n  const actualIndex = relativeIndex >= 0 ? relativeIndex : length + relativeIndex;\n  return actualIndex < 0 || actualIndex >= length ? -1 : actualIndex;\n}\nfunction toSafeInteger(number) {\n  return number !== number || number === 0 ? 0 : Math.trunc(number);\n}\n\n// src/collection.tsx\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nfunction createCollection2(name) {\n  const PROVIDER_NAME = name + \"CollectionProvider\";\n  const [createCollectionContext, createCollectionScope] = createContextScope2(PROVIDER_NAME);\n  const [CollectionContextProvider, useCollectionContext] = createCollectionContext(\n    PROVIDER_NAME,\n    {\n      collectionElement: null,\n      collectionRef: { current: null },\n      collectionRefObject: { current: null },\n      itemMap: new OrderedDict(),\n      setItemMap: () => void 0\n    }\n  );\n  const CollectionProvider = ({ state, ...props }) => {\n    return state ? /* @__PURE__ */ jsx2(CollectionProviderImpl, { ...props, state }) : /* @__PURE__ */ jsx2(CollectionInit, { ...props });\n  };\n  CollectionProvider.displayName = PROVIDER_NAME;\n  const CollectionInit = (props) => {\n    const state = useInitCollection();\n    return /* @__PURE__ */ jsx2(CollectionProviderImpl, { ...props, state });\n  };\n  CollectionInit.displayName = PROVIDER_NAME + \"Init\";\n  const CollectionProviderImpl = (props) => {\n    const { scope, children, state } = props;\n    const ref = React2.useRef(null);\n    const [collectionElement, setCollectionElement] = React2.useState(\n      null\n    );\n    const composeRefs = useComposedRefs2(ref, setCollectionElement);\n    const [itemMap, setItemMap] = state;\n    React2.useEffect(() => {\n      if (!collectionElement) return;\n      const observer = getChildListObserver(() => {\n      });\n      observer.observe(collectionElement, {\n        childList: true,\n        subtree: true\n      });\n      return () => {\n        observer.disconnect();\n      };\n    }, [collectionElement]);\n    return /* @__PURE__ */ jsx2(\n      CollectionContextProvider,\n      {\n        scope,\n        itemMap,\n        setItemMap,\n        collectionRef: composeRefs,\n        collectionRefObject: ref,\n        collectionElement,\n        children\n      }\n    );\n  };\n  CollectionProviderImpl.displayName = PROVIDER_NAME + \"Impl\";\n  const COLLECTION_SLOT_NAME = name + \"CollectionSlot\";\n  const CollectionSlotImpl = createSlot2(COLLECTION_SLOT_NAME);\n  const CollectionSlot = React2.forwardRef(\n    (props, forwardedRef) => {\n      const { scope, children } = props;\n      const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n      const composedRefs = useComposedRefs2(forwardedRef, context.collectionRef);\n      return /* @__PURE__ */ jsx2(CollectionSlotImpl, { ref: composedRefs, children });\n    }\n  );\n  CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n  const ITEM_SLOT_NAME = name + \"CollectionItemSlot\";\n  const ITEM_DATA_ATTR = \"data-radix-collection-item\";\n  const CollectionItemSlotImpl = createSlot2(ITEM_SLOT_NAME);\n  const CollectionItemSlot = React2.forwardRef(\n    (props, forwardedRef) => {\n      const { scope, children, ...itemData } = props;\n      const ref = React2.useRef(null);\n      const [element, setElement] = React2.useState(null);\n      const composedRefs = useComposedRefs2(forwardedRef, ref, setElement);\n      const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n      const { setItemMap } = context;\n      const itemDataRef = React2.useRef(itemData);\n      if (!shallowEqual(itemDataRef.current, itemData)) {\n        itemDataRef.current = itemData;\n      }\n      const memoizedItemData = itemDataRef.current;\n      React2.useEffect(() => {\n        const itemData2 = memoizedItemData;\n        setItemMap((map) => {\n          if (!element) {\n            return map;\n          }\n          if (!map.has(element)) {\n            map.set(element, { ...itemData2, element });\n            return map.toSorted(sortByDocumentPosition);\n          }\n          return map.set(element, { ...itemData2, element }).toSorted(sortByDocumentPosition);\n        });\n        return () => {\n          setItemMap((map) => {\n            if (!element || !map.has(element)) {\n              return map;\n            }\n            map.delete(element);\n            return new OrderedDict(map);\n          });\n        };\n      }, [element, memoizedItemData, setItemMap]);\n      return /* @__PURE__ */ jsx2(CollectionItemSlotImpl, { ...{ [ITEM_DATA_ATTR]: \"\" }, ref: composedRefs, children });\n    }\n  );\n  CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n  function useInitCollection() {\n    return React2.useState(new OrderedDict());\n  }\n  function useCollection(scope) {\n    const { itemMap } = useCollectionContext(name + \"CollectionConsumer\", scope);\n    return itemMap;\n  }\n  const functions = {\n    createCollectionScope,\n    useCollection,\n    useInitCollection\n  };\n  return [\n    { Provider: CollectionProvider, Slot: CollectionSlot, ItemSlot: CollectionItemSlot },\n    functions\n  ];\n}\nfunction shallowEqual(a, b) {\n  if (a === b) return true;\n  if (typeof a !== \"object\" || typeof b !== \"object\") return false;\n  if (a == null || b == null) return false;\n  const keysA = Object.keys(a);\n  const keysB = Object.keys(b);\n  if (keysA.length !== keysB.length) return false;\n  for (const key of keysA) {\n    if (!Object.prototype.hasOwnProperty.call(b, key)) return false;\n    if (a[key] !== b[key]) return false;\n  }\n  return true;\n}\nfunction isElementPreceding(a, b) {\n  return !!(b.compareDocumentPosition(a) & Node.DOCUMENT_POSITION_PRECEDING);\n}\nfunction sortByDocumentPosition(a, b) {\n  return !a[1].element || !b[1].element ? 0 : isElementPreceding(a[1].element, b[1].element) ? -1 : 1;\n}\nfunction getChildListObserver(callback) {\n  const observer = new MutationObserver((mutationsList) => {\n    for (const mutation of mutationsList) {\n      if (mutation.type === \"childList\") {\n        callback();\n        return;\n      }\n    }\n  });\n  return observer;\n}\nexport {\n  createCollection,\n  createCollection2 as unstable_createCollection\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/direction/src/direction.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar DirectionContext = React.createContext(void 0);\nvar DirectionProvider = (props) => {\n  const { dir, children } = props;\n  return /* @__PURE__ */ jsx(DirectionContext.Provider, { value: dir, children });\n};\nfunction useDirection(localDir) {\n  const globalDir = React.useContext(DirectionContext);\n  return localDir || globalDir || \"ltr\";\n}\nvar Provider = DirectionProvider;\nexport {\n  DirectionProvider,\n  Provider,\n  useDirection\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-callback-ref/src/use-callback-ref.tsx\nimport * as React from \"react\";\nfunction useCallbackRef(callback) {\n  const callbackRef = React.useRef(callback);\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n  return React.useMemo(() => (...args) => callbackRef.current?.(...args), []);\n}\nexport {\n  useCallbackRef\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-escape-keydown/src/use-escape-keydown.tsx\nimport * as React from \"react\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nfunction useEscapeKeydown(onEscapeKeyDownProp, ownerDocument = globalThis?.document) {\n  const onEscapeKeyDown = useCallbackRef(onEscapeKeyDownProp);\n  React.useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.key === \"Escape\") {\n        onEscapeKeyDown(event);\n      }\n    };\n    ownerDocument.addEventListener(\"keydown\", handleKeyDown, { capture: true });\n    return () => ownerDocument.removeEventListener(\"keydown\", handleKeyDown, { capture: true });\n  }, [onEscapeKeyDown, ownerDocument]);\n}\nexport {\n  useEscapeKeydown\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/dismissable-layer.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useEscapeKeydown } from \"@radix-ui/react-use-escape-keydown\";\nimport { jsx } from \"react/jsx-runtime\";\nvar DISMISSABLE_LAYER_NAME = \"DismissableLayer\";\nvar CONTEXT_UPDATE = \"dismissableLayer.update\";\nvar POINTER_DOWN_OUTSIDE = \"dismissableLayer.pointerDownOutside\";\nvar FOCUS_OUTSIDE = \"dismissableLayer.focusOutside\";\nvar originalBodyPointerEvents;\nvar DismissableLayerContext = React.createContext({\n  layers: /* @__PURE__ */ new Set(),\n  layersWithOutsidePointerEventsDisabled: /* @__PURE__ */ new Set(),\n  branches: /* @__PURE__ */ new Set()\n});\nvar DismissableLayer = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      disableOutsidePointerEvents = false,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      ...layerProps\n    } = props;\n    const context = React.useContext(DismissableLayerContext);\n    const [node, setNode] = React.useState(null);\n    const ownerDocument = node?.ownerDocument ?? globalThis?.document;\n    const [, force] = React.useState({});\n    const composedRefs = useComposedRefs(forwardedRef, (node2) => setNode(node2));\n    const layers = Array.from(context.layers);\n    const [highestLayerWithOutsidePointerEventsDisabled] = [...context.layersWithOutsidePointerEventsDisabled].slice(-1);\n    const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(highestLayerWithOutsidePointerEventsDisabled);\n    const index = node ? layers.indexOf(node) : -1;\n    const isBodyPointerEventsDisabled = context.layersWithOutsidePointerEventsDisabled.size > 0;\n    const isPointerEventsEnabled = index >= highestLayerWithOutsidePointerEventsDisabledIndex;\n    const pointerDownOutside = usePointerDownOutside((event) => {\n      const target = event.target;\n      const isPointerDownOnBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (!isPointerEventsEnabled || isPointerDownOnBranch) return;\n      onPointerDownOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    }, ownerDocument);\n    const focusOutside = useFocusOutside((event) => {\n      const target = event.target;\n      const isFocusInBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (isFocusInBranch) return;\n      onFocusOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    }, ownerDocument);\n    useEscapeKeydown((event) => {\n      const isHighestLayer = index === context.layers.size - 1;\n      if (!isHighestLayer) return;\n      onEscapeKeyDown?.(event);\n      if (!event.defaultPrevented && onDismiss) {\n        event.preventDefault();\n        onDismiss();\n      }\n    }, ownerDocument);\n    React.useEffect(() => {\n      if (!node) return;\n      if (disableOutsidePointerEvents) {\n        if (context.layersWithOutsidePointerEventsDisabled.size === 0) {\n          originalBodyPointerEvents = ownerDocument.body.style.pointerEvents;\n          ownerDocument.body.style.pointerEvents = \"none\";\n        }\n        context.layersWithOutsidePointerEventsDisabled.add(node);\n      }\n      context.layers.add(node);\n      dispatchUpdate();\n      return () => {\n        if (disableOutsidePointerEvents && context.layersWithOutsidePointerEventsDisabled.size === 1) {\n          ownerDocument.body.style.pointerEvents = originalBodyPointerEvents;\n        }\n      };\n    }, [node, ownerDocument, disableOutsidePointerEvents, context]);\n    React.useEffect(() => {\n      return () => {\n        if (!node) return;\n        context.layers.delete(node);\n        context.layersWithOutsidePointerEventsDisabled.delete(node);\n        dispatchUpdate();\n      };\n    }, [node, context]);\n    React.useEffect(() => {\n      const handleUpdate = () => force({});\n      document.addEventListener(CONTEXT_UPDATE, handleUpdate);\n      return () => document.removeEventListener(CONTEXT_UPDATE, handleUpdate);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        ...layerProps,\n        ref: composedRefs,\n        style: {\n          pointerEvents: isBodyPointerEventsDisabled ? isPointerEventsEnabled ? \"auto\" : \"none\" : void 0,\n          ...props.style\n        },\n        onFocusCapture: composeEventHandlers(props.onFocusCapture, focusOutside.onFocusCapture),\n        onBlurCapture: composeEventHandlers(props.onBlurCapture, focusOutside.onBlurCapture),\n        onPointerDownCapture: composeEventHandlers(\n          props.onPointerDownCapture,\n          pointerDownOutside.onPointerDownCapture\n        )\n      }\n    );\n  }\n);\nDismissableLayer.displayName = DISMISSABLE_LAYER_NAME;\nvar BRANCH_NAME = \"DismissableLayerBranch\";\nvar DismissableLayerBranch = React.forwardRef((props, forwardedRef) => {\n  const context = React.useContext(DismissableLayerContext);\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      context.branches.add(node);\n      return () => {\n        context.branches.delete(node);\n      };\n    }\n  }, [context.branches]);\n  return /* @__PURE__ */ jsx(Primitive.div, { ...props, ref: composedRefs });\n});\nDismissableLayerBranch.displayName = BRANCH_NAME;\nfunction usePointerDownOutside(onPointerDownOutside, ownerDocument = globalThis?.document) {\n  const handlePointerDownOutside = useCallbackRef(onPointerDownOutside);\n  const isPointerInsideReactTreeRef = React.useRef(false);\n  const handleClickRef = React.useRef(() => {\n  });\n  React.useEffect(() => {\n    const handlePointerDown = (event) => {\n      if (event.target && !isPointerInsideReactTreeRef.current) {\n        let handleAndDispatchPointerDownOutsideEvent2 = function() {\n          handleAndDispatchCustomEvent(\n            POINTER_DOWN_OUTSIDE,\n            handlePointerDownOutside,\n            eventDetail,\n            { discrete: true }\n          );\n        };\n        var handleAndDispatchPointerDownOutsideEvent = handleAndDispatchPointerDownOutsideEvent2;\n        const eventDetail = { originalEvent: event };\n        if (event.pointerType === \"touch\") {\n          ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n          handleClickRef.current = handleAndDispatchPointerDownOutsideEvent2;\n          ownerDocument.addEventListener(\"click\", handleClickRef.current, { once: true });\n        } else {\n          handleAndDispatchPointerDownOutsideEvent2();\n        }\n      } else {\n        ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n      }\n      isPointerInsideReactTreeRef.current = false;\n    };\n    const timerId = window.setTimeout(() => {\n      ownerDocument.addEventListener(\"pointerdown\", handlePointerDown);\n    }, 0);\n    return () => {\n      window.clearTimeout(timerId);\n      ownerDocument.removeEventListener(\"pointerdown\", handlePointerDown);\n      ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n    };\n  }, [ownerDocument, handlePointerDownOutside]);\n  return {\n    // ensures we check React component tree (not just DOM tree)\n    onPointerDownCapture: () => isPointerInsideReactTreeRef.current = true\n  };\n}\nfunction useFocusOutside(onFocusOutside, ownerDocument = globalThis?.document) {\n  const handleFocusOutside = useCallbackRef(onFocusOutside);\n  const isFocusInsideReactTreeRef = React.useRef(false);\n  React.useEffect(() => {\n    const handleFocus = (event) => {\n      if (event.target && !isFocusInsideReactTreeRef.current) {\n        const eventDetail = { originalEvent: event };\n        handleAndDispatchCustomEvent(FOCUS_OUTSIDE, handleFocusOutside, eventDetail, {\n          discrete: false\n        });\n      }\n    };\n    ownerDocument.addEventListener(\"focusin\", handleFocus);\n    return () => ownerDocument.removeEventListener(\"focusin\", handleFocus);\n  }, [ownerDocument, handleFocusOutside]);\n  return {\n    onFocusCapture: () => isFocusInsideReactTreeRef.current = true,\n    onBlurCapture: () => isFocusInsideReactTreeRef.current = false\n  };\n}\nfunction dispatchUpdate() {\n  const event = new CustomEvent(CONTEXT_UPDATE);\n  document.dispatchEvent(event);\n}\nfunction handleAndDispatchCustomEvent(name, handler, detail, { discrete }) {\n  const target = detail.originalEvent.target;\n  const event = new CustomEvent(name, { bubbles: false, cancelable: true, detail });\n  if (handler) target.addEventListener(name, handler, { once: true });\n  if (discrete) {\n    dispatchDiscreteCustomEvent(target, event);\n  } else {\n    target.dispatchEvent(event);\n  }\n}\nvar Root = DismissableLayer;\nvar Branch = DismissableLayerBranch;\nexport {\n  Branch,\n  DismissableLayer,\n  DismissableLayerBranch,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/focus-guards.tsx\nimport * as React from \"react\";\nvar count = 0;\nfunction FocusGuards(props) {\n  useFocusGuards();\n  return props.children;\n}\nfunction useFocusGuards() {\n  React.useEffect(() => {\n    const edgeGuards = document.querySelectorAll(\"[data-radix-focus-guard]\");\n    document.body.insertAdjacentElement(\"afterbegin\", edgeGuards[0] ?? createFocusGuard());\n    document.body.insertAdjacentElement(\"beforeend\", edgeGuards[1] ?? createFocusGuard());\n    count++;\n    return () => {\n      if (count === 1) {\n        document.querySelectorAll(\"[data-radix-focus-guard]\").forEach((node) => node.remove());\n      }\n      count--;\n    };\n  }, []);\n}\nfunction createFocusGuard() {\n  const element = document.createElement(\"span\");\n  element.setAttribute(\"data-radix-focus-guard\", \"\");\n  element.tabIndex = 0;\n  element.style.outline = \"none\";\n  element.style.opacity = \"0\";\n  element.style.position = \"fixed\";\n  element.style.pointerEvents = \"none\";\n  return element;\n}\nexport {\n  FocusGuards,\n  FocusGuards as Root,\n  useFocusGuards\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/focus-scope.tsx\nimport * as React from \"react\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AUTOFOCUS_ON_MOUNT = \"focusScope.autoFocusOnMount\";\nvar AUTOFOCUS_ON_UNMOUNT = \"focusScope.autoFocusOnUnmount\";\nvar EVENT_OPTIONS = { bubbles: false, cancelable: true };\nvar FOCUS_SCOPE_NAME = \"FocusScope\";\nvar FocusScope = React.forwardRef((props, forwardedRef) => {\n  const {\n    loop = false,\n    trapped = false,\n    onMountAutoFocus: onMountAutoFocusProp,\n    onUnmountAutoFocus: onUnmountAutoFocusProp,\n    ...scopeProps\n  } = props;\n  const [container, setContainer] = React.useState(null);\n  const onMountAutoFocus = useCallbackRef(onMountAutoFocusProp);\n  const onUnmountAutoFocus = useCallbackRef(onUnmountAutoFocusProp);\n  const lastFocusedElementRef = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContainer(node));\n  const focusScope = React.useRef({\n    paused: false,\n    pause() {\n      this.paused = true;\n    },\n    resume() {\n      this.paused = false;\n    }\n  }).current;\n  React.useEffect(() => {\n    if (trapped) {\n      let handleFocusIn2 = function(event) {\n        if (focusScope.paused || !container) return;\n        const target = event.target;\n        if (container.contains(target)) {\n          lastFocusedElementRef.current = target;\n        } else {\n          focus(lastFocusedElementRef.current, { select: true });\n        }\n      }, handleFocusOut2 = function(event) {\n        if (focusScope.paused || !container) return;\n        const relatedTarget = event.relatedTarget;\n        if (relatedTarget === null) return;\n        if (!container.contains(relatedTarget)) {\n          focus(lastFocusedElementRef.current, { select: true });\n        }\n      }, handleMutations2 = function(mutations) {\n        const focusedElement = document.activeElement;\n        if (focusedElement !== document.body) return;\n        for (const mutation of mutations) {\n          if (mutation.removedNodes.length > 0) focus(container);\n        }\n      };\n      var handleFocusIn = handleFocusIn2, handleFocusOut = handleFocusOut2, handleMutations = handleMutations2;\n      document.addEventListener(\"focusin\", handleFocusIn2);\n      document.addEventListener(\"focusout\", handleFocusOut2);\n      const mutationObserver = new MutationObserver(handleMutations2);\n      if (container) mutationObserver.observe(container, { childList: true, subtree: true });\n      return () => {\n        document.removeEventListener(\"focusin\", handleFocusIn2);\n        document.removeEventListener(\"focusout\", handleFocusOut2);\n        mutationObserver.disconnect();\n      };\n    }\n  }, [trapped, container, focusScope.paused]);\n  React.useEffect(() => {\n    if (container) {\n      focusScopesStack.add(focusScope);\n      const previouslyFocusedElement = document.activeElement;\n      const hasFocusedCandidate = container.contains(previouslyFocusedElement);\n      if (!hasFocusedCandidate) {\n        const mountEvent = new CustomEvent(AUTOFOCUS_ON_MOUNT, EVENT_OPTIONS);\n        container.addEventListener(AUTOFOCUS_ON_MOUNT, onMountAutoFocus);\n        container.dispatchEvent(mountEvent);\n        if (!mountEvent.defaultPrevented) {\n          focusFirst(removeLinks(getTabbableCandidates(container)), { select: true });\n          if (document.activeElement === previouslyFocusedElement) {\n            focus(container);\n          }\n        }\n      }\n      return () => {\n        container.removeEventListener(AUTOFOCUS_ON_MOUNT, onMountAutoFocus);\n        setTimeout(() => {\n          const unmountEvent = new CustomEvent(AUTOFOCUS_ON_UNMOUNT, EVENT_OPTIONS);\n          container.addEventListener(AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);\n          container.dispatchEvent(unmountEvent);\n          if (!unmountEvent.defaultPrevented) {\n            focus(previouslyFocusedElement ?? document.body, { select: true });\n          }\n          container.removeEventListener(AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);\n          focusScopesStack.remove(focusScope);\n        }, 0);\n      };\n    }\n  }, [container, onMountAutoFocus, onUnmountAutoFocus, focusScope]);\n  const handleKeyDown = React.useCallback(\n    (event) => {\n      if (!loop && !trapped) return;\n      if (focusScope.paused) return;\n      const isTabKey = event.key === \"Tab\" && !event.altKey && !event.ctrlKey && !event.metaKey;\n      const focusedElement = document.activeElement;\n      if (isTabKey && focusedElement) {\n        const container2 = event.currentTarget;\n        const [first, last] = getTabbableEdges(container2);\n        const hasTabbableElementsInside = first && last;\n        if (!hasTabbableElementsInside) {\n          if (focusedElement === container2) event.preventDefault();\n        } else {\n          if (!event.shiftKey && focusedElement === last) {\n            event.preventDefault();\n            if (loop) focus(first, { select: true });\n          } else if (event.shiftKey && focusedElement === first) {\n            event.preventDefault();\n            if (loop) focus(last, { select: true });\n          }\n        }\n      }\n    },\n    [loop, trapped, focusScope.paused]\n  );\n  return /* @__PURE__ */ jsx(Primitive.div, { tabIndex: -1, ...scopeProps, ref: composedRefs, onKeyDown: handleKeyDown });\n});\nFocusScope.displayName = FOCUS_SCOPE_NAME;\nfunction focusFirst(candidates, { select = false } = {}) {\n  const previouslyFocusedElement = document.activeElement;\n  for (const candidate of candidates) {\n    focus(candidate, { select });\n    if (document.activeElement !== previouslyFocusedElement) return;\n  }\n}\nfunction getTabbableEdges(container) {\n  const candidates = getTabbableCandidates(container);\n  const first = findVisible(candidates, container);\n  const last = findVisible(candidates.reverse(), container);\n  return [first, last];\n}\nfunction getTabbableCandidates(container) {\n  const nodes = [];\n  const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: (node) => {\n      const isHiddenInput = node.tagName === \"INPUT\" && node.type === \"hidden\";\n      if (node.disabled || node.hidden || isHiddenInput) return NodeFilter.FILTER_SKIP;\n      return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    }\n  });\n  while (walker.nextNode()) nodes.push(walker.currentNode);\n  return nodes;\n}\nfunction findVisible(elements, container) {\n  for (const element of elements) {\n    if (!isHidden(element, { upTo: container })) return element;\n  }\n}\nfunction isHidden(node, { upTo }) {\n  if (getComputedStyle(node).visibility === \"hidden\") return true;\n  while (node) {\n    if (upTo !== void 0 && node === upTo) return false;\n    if (getComputedStyle(node).display === \"none\") return true;\n    node = node.parentElement;\n  }\n  return false;\n}\nfunction isSelectableInput(element) {\n  return element instanceof HTMLInputElement && \"select\" in element;\n}\nfunction focus(element, { select = false } = {}) {\n  if (element && element.focus) {\n    const previouslyFocusedElement = document.activeElement;\n    element.focus({ preventScroll: true });\n    if (element !== previouslyFocusedElement && isSelectableInput(element) && select)\n      element.select();\n  }\n}\nvar focusScopesStack = createFocusScopesStack();\nfunction createFocusScopesStack() {\n  let stack = [];\n  return {\n    add(focusScope) {\n      const activeFocusScope = stack[0];\n      if (focusScope !== activeFocusScope) {\n        activeFocusScope?.pause();\n      }\n      stack = arrayRemove(stack, focusScope);\n      stack.unshift(focusScope);\n    },\n    remove(focusScope) {\n      stack = arrayRemove(stack, focusScope);\n      stack[0]?.resume();\n    }\n  };\n}\nfunction arrayRemove(array, item) {\n  const updatedArray = [...array];\n  const index = updatedArray.indexOf(item);\n  if (index !== -1) {\n    updatedArray.splice(index, 1);\n  }\n  return updatedArray;\n}\nfunction removeLinks(items) {\n  return items.filter((item) => item.tagName !== \"A\");\n}\nvar Root = FocusScope;\nexport {\n  FocusScope,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/id/src/id.tsx\nimport * as React from \"react\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nvar useReactId = React[\" useId \".trim().toString()] || (() => void 0);\nvar count = 0;\nfunction useId(deterministicId) {\n  const [id, setId] = React.useState(useReactId());\n  useLayoutEffect(() => {\n    if (!deterministicId) setId((reactId) => reactId ?? String(count++));\n  }, [deterministicId]);\n  return deterministicId || (id ? `radix-${id}` : \"\");\n}\nexport {\n  useId\n};\n//# sourceMappingURL=index.mjs.map\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nconst yAxisSides = /*#__PURE__*/new Set(['top', 'bottom']);\nfunction getSideAxis(placement) {\n  return yAxisSides.has(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nconst lrPlacement = ['left', 'right'];\nconst rlPlacement = ['right', 'left'];\nconst tbPlacement = ['top', 'bottom'];\nconst btPlacement = ['bottom', 'top'];\nfunction getSideList(side, isStart, rtl) {\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rlPlacement : lrPlacement;\n      return isStart ? lrPlacement : rlPlacement;\n    case 'left':\n    case 'right':\n      return isStart ? tbPlacement : btPlacement;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          if (!ignoreCrossAxisOverflow ||\n          // We leave the current main axis only if every placement on that axis\n          // overflows the main axis.\n          overflowsData.every(d => getSideAxis(d.placement) === initialSideAxis ? d.overflows[0] > 0 : true)) {\n            // Try next placement and re-run the lifecycle.\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nconst originSides = /*#__PURE__*/new Set(['left', 'top']);\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = originSides.has(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = originSides.has(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function hasWindow() {\n  return typeof window !== 'undefined';\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nconst invalidOverflowDisplayValues = /*#__PURE__*/new Set(['inline', 'contents']);\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !invalidOverflowDisplayValues.has(display);\n}\nconst tableElements = /*#__PURE__*/new Set(['table', 'td', 'th']);\nfunction isTableElement(element) {\n  return tableElements.has(getNodeName(element));\n}\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(element) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (_e) {\n      return false;\n    }\n  });\n}\nconst transformProperties = ['transform', 'translate', 'scale', 'rotate', 'perspective'];\nconst willChangeValues = ['transform', 'translate', 'scale', 'rotate', 'perspective', 'filter'];\nconst containValues = ['paint', 'layout', 'strict', 'content'];\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  // https://drafts.csswg.org/css-transforms-2/#individual-transforms\n  return transformProperties.some(value => css[value] ? css[value] !== 'none' : false) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || willChangeValues.some(value => (css.willChange || '').includes(value)) || containValues.some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nconst lastTraversableNodeNames = /*#__PURE__*/new Set(['html', 'body', '#document']);\nfunction isLastTraversableNode(node) {\n  return lastTraversableNodeNames.has(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\n","import { rectToClientRect, arrow as arrow$1, autoPlacement as autoPlacement$1, detectOverflow as detectOverflow$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle as getComputedStyle$1, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll) {\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - getWindowScrollBarX(documentElement, htmlRect);\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Safety check: ensure the scrollbar space is reasonable in case this\n// calculation is affected by unusual styles.\n// Most scrollbars leave 15-18px of space.\nconst SCROLLBAR_MAX = 25;\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  const windowScrollbarX = getWindowScrollBarX(html);\n  // <html> `overflow: hidden` + `scrollbar-gutter: stable` reduces the\n  // visual width of the <html> but this is not considered in the size\n  // of `html.clientWidth`.\n  if (windowScrollbarX <= 0) {\n    const doc = html.ownerDocument;\n    const body = doc.body;\n    const bodyStyles = getComputedStyle(body);\n    const bodyMarginInline = doc.compatMode === 'CSS1Compat' ? parseFloat(bodyStyles.marginLeft) + parseFloat(bodyStyles.marginRight) || 0 : 0;\n    const clippingStableScrollbarWidth = Math.abs(html.clientWidth - body.clientWidth - bodyMarginInline);\n    if (clippingStableScrollbarWidth <= SCROLLBAR_MAX) {\n      width -= clippingStableScrollbarWidth;\n    }\n  } else if (windowScrollbarX <= SCROLLBAR_MAX) {\n    // If the <body> scrollbar is on the left, the width needs to be extended\n    // by the scrollbar amount so there isn't extra space on the right.\n    width += windowScrollbarX;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nconst absoluteOrFixed = /*#__PURE__*/new Set(['absolute', 'fixed']);\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && absoluteOrFixed.has(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle$1(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\nfunction rectsAreEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        // It's possible that even though the ratio is reported as 1, the\n        // element is not actually fully within the IntersectionObserver's root\n        // area anymore. This can happen under performance constraints. This may\n        // be a bug in the browser's IntersectionObserver implementation. To\n        // work around this, we compare the element's bounding rect now with\n        // what it was at the time we created the IntersectionObserver. If they\n        // are not equal then the element moved, so we refresh.\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n","import { computePosition, arrow as arrow$2, autoPlacement as autoPlacement$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1 } from '@floating-ui/dom';\nexport { autoUpdate, computePosition, detectOverflow, getOverflowAncestors, platform } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\nvar isClient = typeof document !== 'undefined';\n\nvar noop = function noop() {};\nvar index = isClient ? useLayoutEffect : noop;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length;\n  let i;\n  let keys;\n  if (a && b && typeof a === 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const openRef = useLatestRef(open);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        // The floating element's position may be recomputed while it's closed\n        // but still mounted (such as when transitioning out). To ensure\n        // `isPositioned` will be `false` initially on the next open, avoid\n        // setting it to `true` when `open === false` (must be specified).\n        isPositioned: openRef.current !== false\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef, openRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow$1 = options => {\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(state) {\n      const {\n        element,\n        padding\n      } = typeof options === 'function' ? options(state) : options;\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$2({\n            element: element.current,\n            padding\n          }).fn(state);\n        }\n        return {};\n      }\n      if (element) {\n        return arrow$2({\n          element,\n          padding\n        }).fn(state);\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = (options, deps) => ({\n  ...offset$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = (options, deps) => ({\n  ...shift$1(options),\n  options: [options, deps]\n});\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = (options, deps) => ({\n  ...limitShift$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = (options, deps) => ({\n  ...flip$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = (options, deps) => ({\n  ...size$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = (options, deps) => ({\n  ...autoPlacement$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = (options, deps) => ({\n  ...hide$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = (options, deps) => ({\n  ...inline$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = (options, deps) => ({\n  ...arrow$1(options),\n  options: [options, deps]\n});\n\nexport { arrow, autoPlacement, flip, hide, inline, limitShift, offset, shift, size, useFloating };\n","// src/arrow.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Arrow\";\nvar Arrow = React.forwardRef((props, forwardedRef) => {\n  const { children, width = 10, height = 5, ...arrowProps } = props;\n  return /* @__PURE__ */ jsx(\n    Primitive.svg,\n    {\n      ...arrowProps,\n      ref: forwardedRef,\n      width,\n      height,\n      viewBox: \"0 0 30 10\",\n      preserveAspectRatio: \"none\",\n      children: props.asChild ? children : /* @__PURE__ */ jsx(\"polygon\", { points: \"0,0 30,0 15,10\" })\n    }\n  );\n});\nArrow.displayName = NAME;\nvar Root = Arrow;\nexport {\n  Arrow,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-size/src/use-size.tsx\nimport * as React from \"react\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nfunction useSize(element) {\n  const [size, setSize] = React.useState(void 0);\n  useLayoutEffect(() => {\n    if (element) {\n      setSize({ width: element.offsetWidth, height: element.offsetHeight });\n      const resizeObserver = new ResizeObserver((entries) => {\n        if (!Array.isArray(entries)) {\n          return;\n        }\n        if (!entries.length) {\n          return;\n        }\n        const entry = entries[0];\n        let width;\n        let height;\n        if (\"borderBoxSize\" in entry) {\n          const borderSizeEntry = entry[\"borderBoxSize\"];\n          const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n          width = borderSize[\"inlineSize\"];\n          height = borderSize[\"blockSize\"];\n        } else {\n          width = element.offsetWidth;\n          height = element.offsetHeight;\n        }\n        setSize({ width, height });\n      });\n      resizeObserver.observe(element, { box: \"border-box\" });\n      return () => resizeObserver.unobserve(element);\n    } else {\n      setSize(void 0);\n    }\n  }, [element]);\n  return size;\n}\nexport {\n  useSize\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/popper.tsx\nimport * as React from \"react\";\nimport {\n  useFloating,\n  autoUpdate,\n  offset,\n  shift,\n  limitShift,\n  hide,\n  arrow as floatingUIarrow,\n  flip,\n  size\n} from \"@floating-ui/react-dom\";\nimport * as ArrowPrimitive from \"@radix-ui/react-arrow\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { jsx } from \"react/jsx-runtime\";\nvar SIDE_OPTIONS = [\"top\", \"right\", \"bottom\", \"left\"];\nvar ALIGN_OPTIONS = [\"start\", \"center\", \"end\"];\nvar POPPER_NAME = \"Popper\";\nvar [createPopperContext, createPopperScope] = createContextScope(POPPER_NAME);\nvar [PopperProvider, usePopperContext] = createPopperContext(POPPER_NAME);\nvar Popper = (props) => {\n  const { __scopePopper, children } = props;\n  const [anchor, setAnchor] = React.useState(null);\n  return /* @__PURE__ */ jsx(PopperProvider, { scope: __scopePopper, anchor, onAnchorChange: setAnchor, children });\n};\nPopper.displayName = POPPER_NAME;\nvar ANCHOR_NAME = \"PopperAnchor\";\nvar PopperAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopper, virtualRef, ...anchorProps } = props;\n    const context = usePopperContext(ANCHOR_NAME, __scopePopper);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const anchorRef = React.useRef(null);\n    React.useEffect(() => {\n      const previousAnchor = anchorRef.current;\n      anchorRef.current = virtualRef?.current || ref.current;\n      if (previousAnchor !== anchorRef.current) {\n        context.onAnchorChange(anchorRef.current);\n      }\n    });\n    return virtualRef ? null : /* @__PURE__ */ jsx(Primitive.div, { ...anchorProps, ref: composedRefs });\n  }\n);\nPopperAnchor.displayName = ANCHOR_NAME;\nvar CONTENT_NAME = \"PopperContent\";\nvar [PopperContentProvider, useContentContext] = createPopperContext(CONTENT_NAME);\nvar PopperContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopePopper,\n      side = \"bottom\",\n      sideOffset = 0,\n      align = \"center\",\n      alignOffset = 0,\n      arrowPadding = 0,\n      avoidCollisions = true,\n      collisionBoundary = [],\n      collisionPadding: collisionPaddingProp = 0,\n      sticky = \"partial\",\n      hideWhenDetached = false,\n      updatePositionStrategy = \"optimized\",\n      onPlaced,\n      ...contentProps\n    } = props;\n    const context = usePopperContext(CONTENT_NAME, __scopePopper);\n    const [content, setContent] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [arrow, setArrow] = React.useState(null);\n    const arrowSize = useSize(arrow);\n    const arrowWidth = arrowSize?.width ?? 0;\n    const arrowHeight = arrowSize?.height ?? 0;\n    const desiredPlacement = side + (align !== \"center\" ? \"-\" + align : \"\");\n    const collisionPadding = typeof collisionPaddingProp === \"number\" ? collisionPaddingProp : { top: 0, right: 0, bottom: 0, left: 0, ...collisionPaddingProp };\n    const boundary = Array.isArray(collisionBoundary) ? collisionBoundary : [collisionBoundary];\n    const hasExplicitBoundaries = boundary.length > 0;\n    const detectOverflowOptions = {\n      padding: collisionPadding,\n      boundary: boundary.filter(isNotNull),\n      // with `strategy: 'fixed'`, this is the only way to get it to respect boundaries\n      altBoundary: hasExplicitBoundaries\n    };\n    const { refs, floatingStyles, placement, isPositioned, middlewareData } = useFloating({\n      // default to `fixed` strategy so users don't have to pick and we also avoid focus scroll issues\n      strategy: \"fixed\",\n      placement: desiredPlacement,\n      whileElementsMounted: (...args) => {\n        const cleanup = autoUpdate(...args, {\n          animationFrame: updatePositionStrategy === \"always\"\n        });\n        return cleanup;\n      },\n      elements: {\n        reference: context.anchor\n      },\n      middleware: [\n        offset({ mainAxis: sideOffset + arrowHeight, alignmentAxis: alignOffset }),\n        avoidCollisions && shift({\n          mainAxis: true,\n          crossAxis: false,\n          limiter: sticky === \"partial\" ? limitShift() : void 0,\n          ...detectOverflowOptions\n        }),\n        avoidCollisions && flip({ ...detectOverflowOptions }),\n        size({\n          ...detectOverflowOptions,\n          apply: ({ elements, rects, availableWidth, availableHeight }) => {\n            const { width: anchorWidth, height: anchorHeight } = rects.reference;\n            const contentStyle = elements.floating.style;\n            contentStyle.setProperty(\"--radix-popper-available-width\", `${availableWidth}px`);\n            contentStyle.setProperty(\"--radix-popper-available-height\", `${availableHeight}px`);\n            contentStyle.setProperty(\"--radix-popper-anchor-width\", `${anchorWidth}px`);\n            contentStyle.setProperty(\"--radix-popper-anchor-height\", `${anchorHeight}px`);\n          }\n        }),\n        arrow && floatingUIarrow({ element: arrow, padding: arrowPadding }),\n        transformOrigin({ arrowWidth, arrowHeight }),\n        hideWhenDetached && hide({ strategy: \"referenceHidden\", ...detectOverflowOptions })\n      ]\n    });\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n    const handlePlaced = useCallbackRef(onPlaced);\n    useLayoutEffect(() => {\n      if (isPositioned) {\n        handlePlaced?.();\n      }\n    }, [isPositioned, handlePlaced]);\n    const arrowX = middlewareData.arrow?.x;\n    const arrowY = middlewareData.arrow?.y;\n    const cannotCenterArrow = middlewareData.arrow?.centerOffset !== 0;\n    const [contentZIndex, setContentZIndex] = React.useState();\n    useLayoutEffect(() => {\n      if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n    }, [content]);\n    return /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        ref: refs.setFloating,\n        \"data-radix-popper-content-wrapper\": \"\",\n        style: {\n          ...floatingStyles,\n          transform: isPositioned ? floatingStyles.transform : \"translate(0, -200%)\",\n          // keep off the page when measuring\n          minWidth: \"max-content\",\n          zIndex: contentZIndex,\n          [\"--radix-popper-transform-origin\"]: [\n            middlewareData.transformOrigin?.x,\n            middlewareData.transformOrigin?.y\n          ].join(\" \"),\n          // hide the content if using the hide middleware and should be hidden\n          // set visibility to hidden and disable pointer events so the UI behaves\n          // as if the PopperContent isn't there at all\n          ...middlewareData.hide?.referenceHidden && {\n            visibility: \"hidden\",\n            pointerEvents: \"none\"\n          }\n        },\n        dir: props.dir,\n        children: /* @__PURE__ */ jsx(\n          PopperContentProvider,\n          {\n            scope: __scopePopper,\n            placedSide,\n            onArrowChange: setArrow,\n            arrowX,\n            arrowY,\n            shouldHideArrow: cannotCenterArrow,\n            children: /* @__PURE__ */ jsx(\n              Primitive.div,\n              {\n                \"data-side\": placedSide,\n                \"data-align\": placedAlign,\n                ...contentProps,\n                ref: composedRefs,\n                style: {\n                  ...contentProps.style,\n                  // if the PopperContent hasn't been placed yet (not all measurements done)\n                  // we prevent animations so that users's animation don't kick in too early referring wrong sides\n                  animation: !isPositioned ? \"none\" : void 0\n                }\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nPopperContent.displayName = CONTENT_NAME;\nvar ARROW_NAME = \"PopperArrow\";\nvar OPPOSITE_SIDE = {\n  top: \"bottom\",\n  right: \"left\",\n  bottom: \"top\",\n  left: \"right\"\n};\nvar PopperArrow = React.forwardRef(function PopperArrow2(props, forwardedRef) {\n  const { __scopePopper, ...arrowProps } = props;\n  const contentContext = useContentContext(ARROW_NAME, __scopePopper);\n  const baseSide = OPPOSITE_SIDE[contentContext.placedSide];\n  return (\n    // we have to use an extra wrapper because `ResizeObserver` (used by `useSize`)\n    // doesn't report size as we'd expect on SVG elements.\n    // it reports their bounding box which is effectively the largest path inside the SVG.\n    /* @__PURE__ */ jsx(\n      \"span\",\n      {\n        ref: contentContext.onArrowChange,\n        style: {\n          position: \"absolute\",\n          left: contentContext.arrowX,\n          top: contentContext.arrowY,\n          [baseSide]: 0,\n          transformOrigin: {\n            top: \"\",\n            right: \"0 0\",\n            bottom: \"center 0\",\n            left: \"100% 0\"\n          }[contentContext.placedSide],\n          transform: {\n            top: \"translateY(100%)\",\n            right: \"translateY(50%) rotate(90deg) translateX(-50%)\",\n            bottom: `rotate(180deg)`,\n            left: \"translateY(50%) rotate(-90deg) translateX(50%)\"\n          }[contentContext.placedSide],\n          visibility: contentContext.shouldHideArrow ? \"hidden\" : void 0\n        },\n        children: /* @__PURE__ */ jsx(\n          ArrowPrimitive.Root,\n          {\n            ...arrowProps,\n            ref: forwardedRef,\n            style: {\n              ...arrowProps.style,\n              // ensures the element can be measured correctly (mostly for if SVG)\n              display: \"block\"\n            }\n          }\n        )\n      }\n    )\n  );\n});\nPopperArrow.displayName = ARROW_NAME;\nfunction isNotNull(value) {\n  return value !== null;\n}\nvar transformOrigin = (options) => ({\n  name: \"transformOrigin\",\n  options,\n  fn(data) {\n    const { placement, rects, middlewareData } = data;\n    const cannotCenterArrow = middlewareData.arrow?.centerOffset !== 0;\n    const isArrowHidden = cannotCenterArrow;\n    const arrowWidth = isArrowHidden ? 0 : options.arrowWidth;\n    const arrowHeight = isArrowHidden ? 0 : options.arrowHeight;\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n    const noArrowAlign = { start: \"0%\", center: \"50%\", end: \"100%\" }[placedAlign];\n    const arrowXCenter = (middlewareData.arrow?.x ?? 0) + arrowWidth / 2;\n    const arrowYCenter = (middlewareData.arrow?.y ?? 0) + arrowHeight / 2;\n    let x = \"\";\n    let y = \"\";\n    if (placedSide === \"bottom\") {\n      x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n      y = `${-arrowHeight}px`;\n    } else if (placedSide === \"top\") {\n      x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n      y = `${rects.floating.height + arrowHeight}px`;\n    } else if (placedSide === \"right\") {\n      x = `${-arrowHeight}px`;\n      y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n    } else if (placedSide === \"left\") {\n      x = `${rects.floating.width + arrowHeight}px`;\n      y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n    }\n    return { data: { x, y } };\n  }\n});\nfunction getSideAndAlignFromPlacement(placement) {\n  const [side, align = \"center\"] = placement.split(\"-\");\n  return [side, align];\n}\nvar Root2 = Popper;\nvar Anchor = PopperAnchor;\nvar Content = PopperContent;\nvar Arrow = PopperArrow;\nexport {\n  ALIGN_OPTIONS,\n  Anchor,\n  Arrow,\n  Content,\n  Popper,\n  PopperAnchor,\n  PopperArrow,\n  PopperContent,\n  Root2 as Root,\n  SIDE_OPTIONS,\n  createPopperScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/portal.tsx\nimport * as React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { jsx } from \"react/jsx-runtime\";\nvar PORTAL_NAME = \"Portal\";\nvar Portal = React.forwardRef((props, forwardedRef) => {\n  const { container: containerProp, ...portalProps } = props;\n  const [mounted, setMounted] = React.useState(false);\n  useLayoutEffect(() => setMounted(true), []);\n  const container = containerProp || mounted && globalThis?.document?.body;\n  return container ? ReactDOM.createPortal(/* @__PURE__ */ jsx(Primitive.div, { ...portalProps, ref: forwardedRef }), container) : null;\n});\nPortal.displayName = PORTAL_NAME;\nvar Root = Portal;\nexport {\n  Portal,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/presence.tsx\nimport * as React2 from \"react\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\n\n// src/use-state-machine.tsx\nimport * as React from \"react\";\nfunction useStateMachine(initialState, machine) {\n  return React.useReducer((state, event) => {\n    const nextState = machine[state][event];\n    return nextState ?? state;\n  }, initialState);\n}\n\n// src/presence.tsx\nvar Presence = (props) => {\n  const { present, children } = props;\n  const presence = usePresence(present);\n  const child = typeof children === \"function\" ? children({ present: presence.isPresent }) : React2.Children.only(children);\n  const ref = useComposedRefs(presence.ref, getElementRef(child));\n  const forceMount = typeof children === \"function\";\n  return forceMount || presence.isPresent ? React2.cloneElement(child, { ref }) : null;\n};\nPresence.displayName = \"Presence\";\nfunction usePresence(present) {\n  const [node, setNode] = React2.useState();\n  const stylesRef = React2.useRef(null);\n  const prevPresentRef = React2.useRef(present);\n  const prevAnimationNameRef = React2.useRef(\"none\");\n  const initialState = present ? \"mounted\" : \"unmounted\";\n  const [state, send] = useStateMachine(initialState, {\n    mounted: {\n      UNMOUNT: \"unmounted\",\n      ANIMATION_OUT: \"unmountSuspended\"\n    },\n    unmountSuspended: {\n      MOUNT: \"mounted\",\n      ANIMATION_END: \"unmounted\"\n    },\n    unmounted: {\n      MOUNT: \"mounted\"\n    }\n  });\n  React2.useEffect(() => {\n    const currentAnimationName = getAnimationName(stylesRef.current);\n    prevAnimationNameRef.current = state === \"mounted\" ? currentAnimationName : \"none\";\n  }, [state]);\n  useLayoutEffect(() => {\n    const styles = stylesRef.current;\n    const wasPresent = prevPresentRef.current;\n    const hasPresentChanged = wasPresent !== present;\n    if (hasPresentChanged) {\n      const prevAnimationName = prevAnimationNameRef.current;\n      const currentAnimationName = getAnimationName(styles);\n      if (present) {\n        send(\"MOUNT\");\n      } else if (currentAnimationName === \"none\" || styles?.display === \"none\") {\n        send(\"UNMOUNT\");\n      } else {\n        const isAnimating = prevAnimationName !== currentAnimationName;\n        if (wasPresent && isAnimating) {\n          send(\"ANIMATION_OUT\");\n        } else {\n          send(\"UNMOUNT\");\n        }\n      }\n      prevPresentRef.current = present;\n    }\n  }, [present, send]);\n  useLayoutEffect(() => {\n    if (node) {\n      let timeoutId;\n      const ownerWindow = node.ownerDocument.defaultView ?? window;\n      const handleAnimationEnd = (event) => {\n        const currentAnimationName = getAnimationName(stylesRef.current);\n        const isCurrentAnimation = currentAnimationName.includes(CSS.escape(event.animationName));\n        if (event.target === node && isCurrentAnimation) {\n          send(\"ANIMATION_END\");\n          if (!prevPresentRef.current) {\n            const currentFillMode = node.style.animationFillMode;\n            node.style.animationFillMode = \"forwards\";\n            timeoutId = ownerWindow.setTimeout(() => {\n              if (node.style.animationFillMode === \"forwards\") {\n                node.style.animationFillMode = currentFillMode;\n              }\n            });\n          }\n        }\n      };\n      const handleAnimationStart = (event) => {\n        if (event.target === node) {\n          prevAnimationNameRef.current = getAnimationName(stylesRef.current);\n        }\n      };\n      node.addEventListener(\"animationstart\", handleAnimationStart);\n      node.addEventListener(\"animationcancel\", handleAnimationEnd);\n      node.addEventListener(\"animationend\", handleAnimationEnd);\n      return () => {\n        ownerWindow.clearTimeout(timeoutId);\n        node.removeEventListener(\"animationstart\", handleAnimationStart);\n        node.removeEventListener(\"animationcancel\", handleAnimationEnd);\n        node.removeEventListener(\"animationend\", handleAnimationEnd);\n      };\n    } else {\n      send(\"ANIMATION_END\");\n    }\n  }, [node, send]);\n  return {\n    isPresent: [\"mounted\", \"unmountSuspended\"].includes(state),\n    ref: React2.useCallback((node2) => {\n      stylesRef.current = node2 ? getComputedStyle(node2) : null;\n      setNode(node2);\n    }, [])\n  };\n}\nfunction getAnimationName(styles) {\n  return styles?.animationName || \"none\";\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nvar Root = Presence;\nexport {\n  Presence,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/roving-focus-group.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { jsx } from \"react/jsx-runtime\";\nvar ENTRY_FOCUS = \"rovingFocusGroup.onEntryFocus\";\nvar EVENT_OPTIONS = { bubbles: false, cancelable: true };\nvar GROUP_NAME = \"RovingFocusGroup\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(GROUP_NAME);\nvar [createRovingFocusGroupContext, createRovingFocusGroupScope] = createContextScope(\n  GROUP_NAME,\n  [createCollectionScope]\n);\nvar [RovingFocusProvider, useRovingFocusContext] = createRovingFocusGroupContext(GROUP_NAME);\nvar RovingFocusGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeRovingFocusGroup, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeRovingFocusGroup, children: /* @__PURE__ */ jsx(RovingFocusGroupImpl, { ...props, ref: forwardedRef }) }) });\n  }\n);\nRovingFocusGroup.displayName = GROUP_NAME;\nvar RovingFocusGroupImpl = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeRovingFocusGroup,\n    orientation,\n    loop = false,\n    dir,\n    currentTabStopId: currentTabStopIdProp,\n    defaultCurrentTabStopId,\n    onCurrentTabStopIdChange,\n    onEntryFocus,\n    preventScrollOnEntryFocus = false,\n    ...groupProps\n  } = props;\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const direction = useDirection(dir);\n  const [currentTabStopId, setCurrentTabStopId] = useControllableState({\n    prop: currentTabStopIdProp,\n    defaultProp: defaultCurrentTabStopId ?? null,\n    onChange: onCurrentTabStopIdChange,\n    caller: GROUP_NAME\n  });\n  const [isTabbingBackOut, setIsTabbingBackOut] = React.useState(false);\n  const handleEntryFocus = useCallbackRef(onEntryFocus);\n  const getItems = useCollection(__scopeRovingFocusGroup);\n  const isClickFocusRef = React.useRef(false);\n  const [focusableItemsCount, setFocusableItemsCount] = React.useState(0);\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      node.addEventListener(ENTRY_FOCUS, handleEntryFocus);\n      return () => node.removeEventListener(ENTRY_FOCUS, handleEntryFocus);\n    }\n  }, [handleEntryFocus]);\n  return /* @__PURE__ */ jsx(\n    RovingFocusProvider,\n    {\n      scope: __scopeRovingFocusGroup,\n      orientation,\n      dir: direction,\n      loop,\n      currentTabStopId,\n      onItemFocus: React.useCallback(\n        (tabStopId) => setCurrentTabStopId(tabStopId),\n        [setCurrentTabStopId]\n      ),\n      onItemShiftTab: React.useCallback(() => setIsTabbingBackOut(true), []),\n      onFocusableItemAdd: React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount + 1),\n        []\n      ),\n      onFocusableItemRemove: React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount - 1),\n        []\n      ),\n      children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          tabIndex: isTabbingBackOut || focusableItemsCount === 0 ? -1 : 0,\n          \"data-orientation\": orientation,\n          ...groupProps,\n          ref: composedRefs,\n          style: { outline: \"none\", ...props.style },\n          onMouseDown: composeEventHandlers(props.onMouseDown, () => {\n            isClickFocusRef.current = true;\n          }),\n          onFocus: composeEventHandlers(props.onFocus, (event) => {\n            const isKeyboardFocus = !isClickFocusRef.current;\n            if (event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut) {\n              const entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);\n              event.currentTarget.dispatchEvent(entryFocusEvent);\n              if (!entryFocusEvent.defaultPrevented) {\n                const items = getItems().filter((item) => item.focusable);\n                const activeItem = items.find((item) => item.active);\n                const currentItem = items.find((item) => item.id === currentTabStopId);\n                const candidateItems = [activeItem, currentItem, ...items].filter(\n                  Boolean\n                );\n                const candidateNodes = candidateItems.map((item) => item.ref.current);\n                focusFirst(candidateNodes, preventScrollOnEntryFocus);\n              }\n            }\n            isClickFocusRef.current = false;\n          }),\n          onBlur: composeEventHandlers(props.onBlur, () => setIsTabbingBackOut(false))\n        }\n      )\n    }\n  );\n});\nvar ITEM_NAME = \"RovingFocusGroupItem\";\nvar RovingFocusGroupItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRovingFocusGroup,\n      focusable = true,\n      active = false,\n      tabStopId,\n      children,\n      ...itemProps\n    } = props;\n    const autoId = useId();\n    const id = tabStopId || autoId;\n    const context = useRovingFocusContext(ITEM_NAME, __scopeRovingFocusGroup);\n    const isCurrentTabStop = context.currentTabStopId === id;\n    const getItems = useCollection(__scopeRovingFocusGroup);\n    const { onFocusableItemAdd, onFocusableItemRemove, currentTabStopId } = context;\n    React.useEffect(() => {\n      if (focusable) {\n        onFocusableItemAdd();\n        return () => onFocusableItemRemove();\n      }\n    }, [focusable, onFocusableItemAdd, onFocusableItemRemove]);\n    return /* @__PURE__ */ jsx(\n      Collection.ItemSlot,\n      {\n        scope: __scopeRovingFocusGroup,\n        id,\n        focusable,\n        active,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            tabIndex: isCurrentTabStop ? 0 : -1,\n            \"data-orientation\": context.orientation,\n            ...itemProps,\n            ref: forwardedRef,\n            onMouseDown: composeEventHandlers(props.onMouseDown, (event) => {\n              if (!focusable) event.preventDefault();\n              else context.onItemFocus(id);\n            }),\n            onFocus: composeEventHandlers(props.onFocus, () => context.onItemFocus(id)),\n            onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n              if (event.key === \"Tab\" && event.shiftKey) {\n                context.onItemShiftTab();\n                return;\n              }\n              if (event.target !== event.currentTarget) return;\n              const focusIntent = getFocusIntent(event, context.orientation, context.dir);\n              if (focusIntent !== void 0) {\n                if (event.metaKey || event.ctrlKey || event.altKey || event.shiftKey) return;\n                event.preventDefault();\n                const items = getItems().filter((item) => item.focusable);\n                let candidateNodes = items.map((item) => item.ref.current);\n                if (focusIntent === \"last\") candidateNodes.reverse();\n                else if (focusIntent === \"prev\" || focusIntent === \"next\") {\n                  if (focusIntent === \"prev\") candidateNodes.reverse();\n                  const currentIndex = candidateNodes.indexOf(event.currentTarget);\n                  candidateNodes = context.loop ? wrapArray(candidateNodes, currentIndex + 1) : candidateNodes.slice(currentIndex + 1);\n                }\n                setTimeout(() => focusFirst(candidateNodes));\n              }\n            }),\n            children: typeof children === \"function\" ? children({ isCurrentTabStop, hasTabStop: currentTabStopId != null }) : children\n          }\n        )\n      }\n    );\n  }\n);\nRovingFocusGroupItem.displayName = ITEM_NAME;\nvar MAP_KEY_TO_FOCUS_INTENT = {\n  ArrowLeft: \"prev\",\n  ArrowUp: \"prev\",\n  ArrowRight: \"next\",\n  ArrowDown: \"next\",\n  PageUp: \"first\",\n  Home: \"first\",\n  PageDown: \"last\",\n  End: \"last\"\n};\nfunction getDirectionAwareKey(key, dir) {\n  if (dir !== \"rtl\") return key;\n  return key === \"ArrowLeft\" ? \"ArrowRight\" : key === \"ArrowRight\" ? \"ArrowLeft\" : key;\n}\nfunction getFocusIntent(event, orientation, dir) {\n  const key = getDirectionAwareKey(event.key, dir);\n  if (orientation === \"vertical\" && [\"ArrowLeft\", \"ArrowRight\"].includes(key)) return void 0;\n  if (orientation === \"horizontal\" && [\"ArrowUp\", \"ArrowDown\"].includes(key)) return void 0;\n  return MAP_KEY_TO_FOCUS_INTENT[key];\n}\nfunction focusFirst(candidates, preventScroll = false) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus({ preventScroll });\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nvar Root = RovingFocusGroup;\nvar Item = RovingFocusGroupItem;\nexport {\n  Item,\n  Root,\n  RovingFocusGroup,\n  RovingFocusGroupItem,\n  createRovingFocusGroupScope\n};\n//# sourceMappingURL=index.mjs.map\n","var getDefaultParent = function (originalTarget) {\n    if (typeof document === 'undefined') {\n        return null;\n    }\n    var sampleTarget = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;\n    return sampleTarget.ownerDocument.body;\n};\nvar counterMap = new WeakMap();\nvar uncontrolledNodes = new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nvar unwrapHost = function (node) {\n    return node && (node.host || unwrapHost(node.parentNode));\n};\nvar correctTargets = function (parent, targets) {\n    return targets\n        .map(function (target) {\n        if (parent.contains(target)) {\n            return target;\n        }\n        var correctedTarget = unwrapHost(target);\n        if (correctedTarget && parent.contains(correctedTarget)) {\n            return correctedTarget;\n        }\n        console.error('aria-hidden', target, 'in not contained inside', parent, '. Doing nothing');\n        return null;\n    })\n        .filter(function (x) { return Boolean(x); });\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @param {String} [controlAttribute] - html Attribute to control\n * @return {Undo} undo command\n */\nvar applyAttributeToOthers = function (originalTarget, parentNode, markerName, controlAttribute) {\n    var targets = correctTargets(parentNode, Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    if (!markerMap[markerName]) {\n        markerMap[markerName] = new WeakMap();\n    }\n    var markerCounter = markerMap[markerName];\n    var hiddenNodes = [];\n    var elementsToKeep = new Set();\n    var elementsToStop = new Set(targets);\n    var keep = function (el) {\n        if (!el || elementsToKeep.has(el)) {\n            return;\n        }\n        elementsToKeep.add(el);\n        keep(el.parentNode);\n    };\n    targets.forEach(keep);\n    var deep = function (parent) {\n        if (!parent || elementsToStop.has(parent)) {\n            return;\n        }\n        Array.prototype.forEach.call(parent.children, function (node) {\n            if (elementsToKeep.has(node)) {\n                deep(node);\n            }\n            else {\n                try {\n                    var attr = node.getAttribute(controlAttribute);\n                    var alreadyHidden = attr !== null && attr !== 'false';\n                    var counterValue = (counterMap.get(node) || 0) + 1;\n                    var markerValue = (markerCounter.get(node) || 0) + 1;\n                    counterMap.set(node, counterValue);\n                    markerCounter.set(node, markerValue);\n                    hiddenNodes.push(node);\n                    if (counterValue === 1 && alreadyHidden) {\n                        uncontrolledNodes.set(node, true);\n                    }\n                    if (markerValue === 1) {\n                        node.setAttribute(markerName, 'true');\n                    }\n                    if (!alreadyHidden) {\n                        node.setAttribute(controlAttribute, 'true');\n                    }\n                }\n                catch (e) {\n                    console.error('aria-hidden: cannot operate on ', node, e);\n                }\n            }\n        });\n    };\n    deep(parentNode);\n    elementsToKeep.clear();\n    lockCount++;\n    return function () {\n        hiddenNodes.forEach(function (node) {\n            var counterValue = counterMap.get(node) - 1;\n            var markerValue = markerCounter.get(node) - 1;\n            counterMap.set(node, counterValue);\n            markerCounter.set(node, markerValue);\n            if (!counterValue) {\n                if (!uncontrolledNodes.has(node)) {\n                    node.removeAttribute(controlAttribute);\n                }\n                uncontrolledNodes.delete(node);\n            }\n            if (!markerValue) {\n                node.removeAttribute(markerName);\n            }\n        });\n        lockCount--;\n        if (!lockCount) {\n            // clear\n            counterMap = new WeakMap();\n            counterMap = new WeakMap();\n            uncontrolledNodes = new WeakMap();\n            markerMap = {};\n        }\n    };\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var hideOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-aria-hidden'; }\n    var targets = Array.from(Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    // we should not hide aria-live elements - https://github.com/theKashey/aria-hidden/issues/10\n    // and script elements, as they have no impact on accessibility.\n    targets.push.apply(targets, Array.from(activeParentNode.querySelectorAll('[aria-live], script')));\n    return applyAttributeToOthers(targets, activeParentNode, markerName, 'aria-hidden');\n};\n/**\n * Marks everything except given node(or nodes) as inert\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var inertOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-inert-ed'; }\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    return applyAttributeToOthers(originalTarget, activeParentNode, markerName, 'inert');\n};\n/**\n * @returns if current browser supports inert\n */\nexport var supportsInert = function () {\n    return typeof HTMLElement !== 'undefined' && HTMLElement.prototype.hasOwnProperty('inert');\n};\n/**\n * Automatic function to \"suppress\" DOM elements - _hide_ or _inert_ in the best possible way\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var suppressOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-suppressed'; }\n    return (supportsInert() ? inertOthers : hideOthers)(originalTarget, parentNode, markerName);\n};\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n","export var zeroRightClassName = 'right-scroll-bar-position';\nexport var fullWidthClassName = 'width-before-scroll-bar';\nexport var noScrollbarsClassName = 'with-scroll-bars-hidden';\n/**\n * Name of a CSS variable containing the amount of \"hidden\" scrollbar\n * ! might be undefined ! use will fallback!\n */\nexport var removedBarSizeVariable = '--removed-body-scroll-bar-size';\n","/**\n * Assigns a value for a given ref, no matter of the ref format\n * @param {RefObject} ref - a callback function or ref object\n * @param value - a new value\n *\n * @see https://github.com/theKashey/use-callback-ref#assignref\n * @example\n * const refObject = useRef();\n * const refFn = (ref) => {....}\n *\n * assignRef(refObject, \"refValue\");\n * assignRef(refFn, \"refValue\");\n */\nexport function assignRef(ref, value) {\n    if (typeof ref === 'function') {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n    return ref;\n}\n","import { useState } from 'react';\n/**\n * creates a MutableRef with ref change callback\n * @param initialValue - initial ref value\n * @param {Function} callback - a callback to run when value changes\n *\n * @example\n * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);\n * ref.current = 1;\n * // prints 0 -> 1\n *\n * @see https://reactjs.org/docs/hooks-reference.html#useref\n * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref\n * @returns {MutableRefObject}\n */\nexport function useCallbackRef(initialValue, callback) {\n    var ref = useState(function () { return ({\n        // value\n        value: initialValue,\n        // last callback\n        callback: callback,\n        // \"memoized\" public interface\n        facade: {\n            get current() {\n                return ref.value;\n            },\n            set current(value) {\n                var last = ref.value;\n                if (last !== value) {\n                    ref.value = value;\n                    ref.callback(value, last);\n                }\n            },\n        },\n    }); })[0];\n    // update callback\n    ref.callback = callback;\n    return ref.facade;\n}\n","import * as React from 'react';\nimport { assignRef } from './assignRef';\nimport { useCallbackRef } from './useRef';\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\nvar currentValues = new WeakMap();\n/**\n * Merges two or more refs together providing a single interface to set their value\n * @param {RefObject|Ref} refs\n * @returns {MutableRefObject} - a new ref, which translates all changes to {refs}\n *\n * @see {@link mergeRefs} a version without buit-in memoization\n * @see https://github.com/theKashey/use-callback-ref#usemergerefs\n * @example\n * const Component = React.forwardRef((props, ref) => {\n *   const ownRef = useRef();\n *   const domRef = useMergeRefs([ref, ownRef]); // 👈 merge together\n *   return <div ref={domRef}>...</div>\n * }\n */\nexport function useMergeRefs(refs, defaultValue) {\n    var callbackRef = useCallbackRef(defaultValue || null, function (newValue) {\n        return refs.forEach(function (ref) { return assignRef(ref, newValue); });\n    });\n    // handle refs changes - added or removed\n    useIsomorphicLayoutEffect(function () {\n        var oldValue = currentValues.get(callbackRef);\n        if (oldValue) {\n            var prevRefs_1 = new Set(oldValue);\n            var nextRefs_1 = new Set(refs);\n            var current_1 = callbackRef.current;\n            prevRefs_1.forEach(function (ref) {\n                if (!nextRefs_1.has(ref)) {\n                    assignRef(ref, null);\n                }\n            });\n            nextRefs_1.forEach(function (ref) {\n                if (!prevRefs_1.has(ref)) {\n                    assignRef(ref, current_1);\n                }\n            });\n        }\n        currentValues.set(callbackRef, refs);\n    }, [refs]);\n    return callbackRef;\n}\n","import { __assign } from \"tslib\";\nfunction ItoI(a) {\n    return a;\n}\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function () {\n            if (assigned) {\n                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function (data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function () {\n                buffer = buffer.filter(function (x) { return x !== item; });\n            };\n        },\n        assignSyncMedium: function (cb) {\n            assigned = true;\n            while (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function (x) { return cb(x); },\n                filter: function () { return buffer; },\n            };\n        },\n        assignMedium: function (cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function () {\n                var cbs = pendingQueue;\n                pendingQueue = [];\n                cbs.forEach(cb);\n            };\n            var cycle = function () { return Promise.resolve().then(executeQueue); };\n            cycle();\n            buffer = {\n                push: function (x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function (filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                },\n            };\n        },\n    };\n    return medium;\n}\nexport function createMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    return innerCreateMedium(defaults, middleware);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function createSidecarMedium(options) {\n    if (options === void 0) { options = {}; }\n    var medium = innerCreateMedium(null);\n    medium.options = __assign({ async: true, ssr: false }, options);\n    return medium;\n}\n","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nvar SideCar = function (_a) {\n    var sideCar = _a.sideCar, rest = __rest(_a, [\"sideCar\"]);\n    if (!sideCar) {\n        throw new Error('Sidecar: please provide `sideCar` property to import the right car');\n    }\n    var Target = sideCar.read();\n    if (!Target) {\n        throw new Error('Sidecar medium not found');\n    }\n    return React.createElement(Target, __assign({}, rest));\n};\nSideCar.isSideCarExport = true;\nexport function exportSidecar(medium, exported) {\n    medium.useMedium(exported);\n    return SideCar;\n}\n","import { createSidecarMedium } from 'use-sidecar';\nexport var effectCar = createSidecarMedium();\n","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { fullWidthClassName, zeroRightClassName } from 'react-remove-scroll-bar/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { effectCar } from './medium';\nvar nothing = function () {\n    return;\n};\n/**\n * Removes scrollbar from the page and contain the scroll within the Lock\n */\nvar RemoveScroll = React.forwardRef(function (props, parentRef) {\n    var ref = React.useRef(null);\n    var _a = React.useState({\n        onScrollCapture: nothing,\n        onWheelCapture: nothing,\n        onTouchMoveCapture: nothing,\n    }), callbacks = _a[0], setCallbacks = _a[1];\n    var forwardProps = props.forwardProps, children = props.children, className = props.className, removeScrollBar = props.removeScrollBar, enabled = props.enabled, shards = props.shards, sideCar = props.sideCar, noRelative = props.noRelative, noIsolation = props.noIsolation, inert = props.inert, allowPinchZoom = props.allowPinchZoom, _b = props.as, Container = _b === void 0 ? 'div' : _b, gapMode = props.gapMode, rest = __rest(props, [\"forwardProps\", \"children\", \"className\", \"removeScrollBar\", \"enabled\", \"shards\", \"sideCar\", \"noRelative\", \"noIsolation\", \"inert\", \"allowPinchZoom\", \"as\", \"gapMode\"]);\n    var SideCar = sideCar;\n    var containerRef = useMergeRefs([ref, parentRef]);\n    var containerProps = __assign(__assign({}, rest), callbacks);\n    return (React.createElement(React.Fragment, null,\n        enabled && (React.createElement(SideCar, { sideCar: effectCar, removeScrollBar: removeScrollBar, shards: shards, noRelative: noRelative, noIsolation: noIsolation, inert: inert, setCallbacks: setCallbacks, allowPinchZoom: !!allowPinchZoom, lockRef: ref, gapMode: gapMode })),\n        forwardProps ? (React.cloneElement(React.Children.only(children), __assign(__assign({}, containerProps), { ref: containerRef }))) : (React.createElement(Container, __assign({}, containerProps, { className: className, ref: containerRef }), children))));\n});\nRemoveScroll.defaultProps = {\n    enabled: true,\n    removeScrollBar: true,\n    inert: false,\n};\nRemoveScroll.classNames = {\n    fullWidth: fullWidthClassName,\n    zeroRight: zeroRightClassName,\n};\nexport { RemoveScroll };\n","var currentNonce;\nexport var setNonce = function (nonce) {\n    currentNonce = nonce;\n};\nexport var getNonce = function () {\n    if (currentNonce) {\n        return currentNonce;\n    }\n    if (typeof __webpack_nonce__ !== 'undefined') {\n        return __webpack_nonce__;\n    }\n    return undefined;\n};\n","import { getNonce } from 'get-nonce';\nfunction makeStyleTag() {\n    if (!document)\n        return null;\n    var tag = document.createElement('style');\n    tag.type = 'text/css';\n    var nonce = getNonce();\n    if (nonce) {\n        tag.setAttribute('nonce', nonce);\n    }\n    return tag;\n}\nfunction injectStyles(tag, css) {\n    // @ts-ignore\n    if (tag.styleSheet) {\n        // @ts-ignore\n        tag.styleSheet.cssText = css;\n    }\n    else {\n        tag.appendChild(document.createTextNode(css));\n    }\n}\nfunction insertStyleTag(tag) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    head.appendChild(tag);\n}\nexport var stylesheetSingleton = function () {\n    var counter = 0;\n    var stylesheet = null;\n    return {\n        add: function (style) {\n            if (counter == 0) {\n                if ((stylesheet = makeStyleTag())) {\n                    injectStyles(stylesheet, style);\n                    insertStyleTag(stylesheet);\n                }\n            }\n            counter++;\n        },\n        remove: function () {\n            counter--;\n            if (!counter && stylesheet) {\n                stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);\n                stylesheet = null;\n            }\n        },\n    };\n};\n","import * as React from 'react';\nimport { stylesheetSingleton } from './singleton';\n/**\n * creates a hook to control style singleton\n * @see {@link styleSingleton} for a safer component version\n * @example\n * ```tsx\n * const useStyle = styleHookSingleton();\n * ///\n * useStyle('body { overflow: hidden}');\n */\nexport var styleHookSingleton = function () {\n    var sheet = stylesheetSingleton();\n    return function (styles, isDynamic) {\n        React.useEffect(function () {\n            sheet.add(styles);\n            return function () {\n                sheet.remove();\n            };\n        }, [styles && isDynamic]);\n    };\n};\n","import { styleHookSingleton } from './hook';\n/**\n * create a Component to add styles on demand\n * - styles are added when first instance is mounted\n * - styles are removed when the last instance is unmounted\n * - changing styles in runtime does nothing unless dynamic is set. But with multiple components that can lead to the undefined behavior\n */\nexport var styleSingleton = function () {\n    var useStyle = styleHookSingleton();\n    var Sheet = function (_a) {\n        var styles = _a.styles, dynamic = _a.dynamic;\n        useStyle(styles, dynamic);\n        return null;\n    };\n    return Sheet;\n};\n","export var zeroGap = {\n    left: 0,\n    top: 0,\n    right: 0,\n    gap: 0,\n};\nvar parse = function (x) { return parseInt(x || '', 10) || 0; };\nvar getOffset = function (gapMode) {\n    var cs = window.getComputedStyle(document.body);\n    var left = cs[gapMode === 'padding' ? 'paddingLeft' : 'marginLeft'];\n    var top = cs[gapMode === 'padding' ? 'paddingTop' : 'marginTop'];\n    var right = cs[gapMode === 'padding' ? 'paddingRight' : 'marginRight'];\n    return [parse(left), parse(top), parse(right)];\n};\nexport var getGapWidth = function (gapMode) {\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    if (typeof window === 'undefined') {\n        return zeroGap;\n    }\n    var offsets = getOffset(gapMode);\n    var documentWidth = document.documentElement.clientWidth;\n    var windowWidth = window.innerWidth;\n    return {\n        left: offsets[0],\n        top: offsets[1],\n        right: offsets[2],\n        gap: Math.max(0, windowWidth - documentWidth + offsets[2] - offsets[0]),\n    };\n};\n","import * as React from 'react';\nimport { styleSingleton } from 'react-style-singleton';\nimport { fullWidthClassName, zeroRightClassName, noScrollbarsClassName, removedBarSizeVariable } from './constants';\nimport { getGapWidth } from './utils';\nvar Style = styleSingleton();\nexport var lockAttribute = 'data-scroll-locked';\n// important tip - once we measure scrollBar width and remove them\n// we could not repeat this operation\n// thus we are using style-singleton - only the first \"yet correct\" style will be applied.\nvar getStyles = function (_a, allowRelative, gapMode, important) {\n    var left = _a.left, top = _a.top, right = _a.right, gap = _a.gap;\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    return \"\\n  .\".concat(noScrollbarsClassName, \" {\\n   overflow: hidden \").concat(important, \";\\n   padding-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  body[\").concat(lockAttribute, \"] {\\n    overflow: hidden \").concat(important, \";\\n    overscroll-behavior: contain;\\n    \").concat([\n        allowRelative && \"position: relative \".concat(important, \";\"),\n        gapMode === 'margin' &&\n            \"\\n    padding-left: \".concat(left, \"px;\\n    padding-top: \").concat(top, \"px;\\n    padding-right: \").concat(right, \"px;\\n    margin-left:0;\\n    margin-top:0;\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n    \"),\n        gapMode === 'padding' && \"padding-right: \".concat(gap, \"px \").concat(important, \";\"),\n    ]\n        .filter(Boolean)\n        .join(''), \"\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" {\\n    right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" {\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" .\").concat(zeroRightClassName, \" {\\n    right: 0 \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" .\").concat(fullWidthClassName, \" {\\n    margin-right: 0 \").concat(important, \";\\n  }\\n  \\n  body[\").concat(lockAttribute, \"] {\\n    \").concat(removedBarSizeVariable, \": \").concat(gap, \"px;\\n  }\\n\");\n};\nvar getCurrentUseCounter = function () {\n    var counter = parseInt(document.body.getAttribute(lockAttribute) || '0', 10);\n    return isFinite(counter) ? counter : 0;\n};\nexport var useLockAttribute = function () {\n    React.useEffect(function () {\n        document.body.setAttribute(lockAttribute, (getCurrentUseCounter() + 1).toString());\n        return function () {\n            var newCounter = getCurrentUseCounter() - 1;\n            if (newCounter <= 0) {\n                document.body.removeAttribute(lockAttribute);\n            }\n            else {\n                document.body.setAttribute(lockAttribute, newCounter.toString());\n            }\n        };\n    }, []);\n};\n/**\n * Removes page scrollbar and blocks page scroll when mounted\n */\nexport var RemoveScrollBar = function (_a) {\n    var noRelative = _a.noRelative, noImportant = _a.noImportant, _b = _a.gapMode, gapMode = _b === void 0 ? 'margin' : _b;\n    useLockAttribute();\n    /*\n     gap will be measured on every component mount\n     however it will be used only by the \"first\" invocation\n     due to singleton nature of <Style\n     */\n    var gap = React.useMemo(function () { return getGapWidth(gapMode); }, [gapMode]);\n    return React.createElement(Style, { styles: getStyles(gap, !noRelative, gapMode, !noImportant ? '!important' : '') });\n};\n","var passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n                return true;\n            },\n        });\n        // @ts-ignore\n        window.addEventListener('test', options, options);\n        // @ts-ignore\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\nexport var nonPassive = passiveSupported ? { passive: false } : false;\n","var alwaysContainsScroll = function (node) {\n    // textarea will always _contain_ scroll inside self. It only can be hidden\n    return node.tagName === 'TEXTAREA';\n};\nvar elementCanBeScrolled = function (node, overflow) {\n    if (!(node instanceof Element)) {\n        return false;\n    }\n    var styles = window.getComputedStyle(node);\n    return (\n    // not-not-scrollable\n    styles[overflow] !== 'hidden' &&\n        // contains scroll inside self\n        !(styles.overflowY === styles.overflowX && !alwaysContainsScroll(node) && styles[overflow] === 'visible'));\n};\nvar elementCouldBeVScrolled = function (node) { return elementCanBeScrolled(node, 'overflowY'); };\nvar elementCouldBeHScrolled = function (node) { return elementCanBeScrolled(node, 'overflowX'); };\nexport var locationCouldBeScrolled = function (axis, node) {\n    var ownerDocument = node.ownerDocument;\n    var current = node;\n    do {\n        // Skip over shadow root\n        if (typeof ShadowRoot !== 'undefined' && current instanceof ShadowRoot) {\n            current = current.host;\n        }\n        var isScrollable = elementCouldBeScrolled(axis, current);\n        if (isScrollable) {\n            var _a = getScrollVariables(axis, current), scrollHeight = _a[1], clientHeight = _a[2];\n            if (scrollHeight > clientHeight) {\n                return true;\n            }\n        }\n        current = current.parentNode;\n    } while (current && current !== ownerDocument.body);\n    return false;\n};\nvar getVScrollVariables = function (_a) {\n    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n    return [\n        scrollTop,\n        scrollHeight,\n        clientHeight,\n    ];\n};\nvar getHScrollVariables = function (_a) {\n    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n    return [\n        scrollLeft,\n        scrollWidth,\n        clientWidth,\n    ];\n};\nvar elementCouldBeScrolled = function (axis, node) {\n    return axis === 'v' ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);\n};\nvar getScrollVariables = function (axis, node) {\n    return axis === 'v' ? getVScrollVariables(node) : getHScrollVariables(node);\n};\nvar getDirectionFactor = function (axis, direction) {\n    /**\n     * If the element's direction is rtl (right-to-left), then scrollLeft is 0 when the scrollbar is at its rightmost position,\n     * and then increasingly negative as you scroll towards the end of the content.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollLeft\n     */\n    return axis === 'h' && direction === 'rtl' ? -1 : 1;\n};\nexport var handleScroll = function (axis, endTarget, event, sourceDelta, noOverscroll) {\n    var directionFactor = getDirectionFactor(axis, window.getComputedStyle(endTarget).direction);\n    var delta = directionFactor * sourceDelta;\n    // find scrollable target\n    var target = event.target;\n    var targetInLock = endTarget.contains(target);\n    var shouldCancelScroll = false;\n    var isDeltaPositive = delta > 0;\n    var availableScroll = 0;\n    var availableScrollTop = 0;\n    do {\n        if (!target) {\n            break;\n        }\n        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];\n        var elementScroll = scroll_1 - capacity - directionFactor * position;\n        if (position || elementScroll) {\n            if (elementCouldBeScrolled(axis, target)) {\n                availableScroll += elementScroll;\n                availableScrollTop += position;\n            }\n        }\n        var parent_1 = target.parentNode;\n        // we will \"bubble\" from ShadowDom in case we are, or just to the parent in normal case\n        // this is the same logic used in focus-lock\n        target = (parent_1 && parent_1.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? parent_1.host : parent_1);\n    } while (\n    // portaled content\n    (!targetInLock && target !== document.body) ||\n        // self content\n        (targetInLock && (endTarget.contains(target) || endTarget === target)));\n    // handle epsilon around 0 (non standard zoom levels)\n    if (isDeltaPositive &&\n        ((noOverscroll && Math.abs(availableScroll) < 1) || (!noOverscroll && delta > availableScroll))) {\n        shouldCancelScroll = true;\n    }\n    else if (!isDeltaPositive &&\n        ((noOverscroll && Math.abs(availableScrollTop) < 1) || (!noOverscroll && -delta > availableScrollTop))) {\n        shouldCancelScroll = true;\n    }\n    return shouldCancelScroll;\n};\n","import { __spreadArray } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScrollBar } from 'react-remove-scroll-bar';\nimport { styleSingleton } from 'react-style-singleton';\nimport { nonPassive } from './aggresiveCapture';\nimport { handleScroll, locationCouldBeScrolled } from './handleScroll';\nexport var getTouchXY = function (event) {\n    return 'changedTouches' in event ? [event.changedTouches[0].clientX, event.changedTouches[0].clientY] : [0, 0];\n};\nexport var getDeltaXY = function (event) { return [event.deltaX, event.deltaY]; };\nvar extractRef = function (ref) {\n    return ref && 'current' in ref ? ref.current : ref;\n};\nvar deltaCompare = function (x, y) { return x[0] === y[0] && x[1] === y[1]; };\nvar generateStyle = function (id) { return \"\\n  .block-interactivity-\".concat(id, \" {pointer-events: none;}\\n  .allow-interactivity-\").concat(id, \" {pointer-events: all;}\\n\"); };\nvar idCounter = 0;\nvar lockStack = [];\nexport function RemoveScrollSideCar(props) {\n    var shouldPreventQueue = React.useRef([]);\n    var touchStartRef = React.useRef([0, 0]);\n    var activeAxis = React.useRef();\n    var id = React.useState(idCounter++)[0];\n    var Style = React.useState(styleSingleton)[0];\n    var lastProps = React.useRef(props);\n    React.useEffect(function () {\n        lastProps.current = props;\n    }, [props]);\n    React.useEffect(function () {\n        if (props.inert) {\n            document.body.classList.add(\"block-interactivity-\".concat(id));\n            var allow_1 = __spreadArray([props.lockRef.current], (props.shards || []).map(extractRef), true).filter(Boolean);\n            allow_1.forEach(function (el) { return el.classList.add(\"allow-interactivity-\".concat(id)); });\n            return function () {\n                document.body.classList.remove(\"block-interactivity-\".concat(id));\n                allow_1.forEach(function (el) { return el.classList.remove(\"allow-interactivity-\".concat(id)); });\n            };\n        }\n        return;\n    }, [props.inert, props.lockRef.current, props.shards]);\n    var shouldCancelEvent = React.useCallback(function (event, parent) {\n        if (('touches' in event && event.touches.length === 2) || (event.type === 'wheel' && event.ctrlKey)) {\n            return !lastProps.current.allowPinchZoom;\n        }\n        var touch = getTouchXY(event);\n        var touchStart = touchStartRef.current;\n        var deltaX = 'deltaX' in event ? event.deltaX : touchStart[0] - touch[0];\n        var deltaY = 'deltaY' in event ? event.deltaY : touchStart[1] - touch[1];\n        var currentAxis;\n        var target = event.target;\n        var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? 'h' : 'v';\n        // allow horizontal touch move on Range inputs. They will not cause any scroll\n        if ('touches' in event && moveDirection === 'h' && target.type === 'range') {\n            return false;\n        }\n        var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n        if (!canBeScrolledInMainDirection) {\n            return true;\n        }\n        if (canBeScrolledInMainDirection) {\n            currentAxis = moveDirection;\n        }\n        else {\n            currentAxis = moveDirection === 'v' ? 'h' : 'v';\n            canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n            // other axis might be not scrollable\n        }\n        if (!canBeScrolledInMainDirection) {\n            return false;\n        }\n        if (!activeAxis.current && 'changedTouches' in event && (deltaX || deltaY)) {\n            activeAxis.current = currentAxis;\n        }\n        if (!currentAxis) {\n            return true;\n        }\n        var cancelingAxis = activeAxis.current || currentAxis;\n        return handleScroll(cancelingAxis, parent, event, cancelingAxis === 'h' ? deltaX : deltaY, true);\n    }, []);\n    var shouldPrevent = React.useCallback(function (_event) {\n        var event = _event;\n        if (!lockStack.length || lockStack[lockStack.length - 1] !== Style) {\n            // not the last active\n            return;\n        }\n        var delta = 'deltaY' in event ? getDeltaXY(event) : getTouchXY(event);\n        var sourceEvent = shouldPreventQueue.current.filter(function (e) { return e.name === event.type && (e.target === event.target || event.target === e.shadowParent) && deltaCompare(e.delta, delta); })[0];\n        // self event, and should be canceled\n        if (sourceEvent && sourceEvent.should) {\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n            return;\n        }\n        // outside or shard event\n        if (!sourceEvent) {\n            var shardNodes = (lastProps.current.shards || [])\n                .map(extractRef)\n                .filter(Boolean)\n                .filter(function (node) { return node.contains(event.target); });\n            var shouldStop = shardNodes.length > 0 ? shouldCancelEvent(event, shardNodes[0]) : !lastProps.current.noIsolation;\n            if (shouldStop) {\n                if (event.cancelable) {\n                    event.preventDefault();\n                }\n            }\n        }\n    }, []);\n    var shouldCancel = React.useCallback(function (name, delta, target, should) {\n        var event = { name: name, delta: delta, target: target, should: should, shadowParent: getOutermostShadowParent(target) };\n        shouldPreventQueue.current.push(event);\n        setTimeout(function () {\n            shouldPreventQueue.current = shouldPreventQueue.current.filter(function (e) { return e !== event; });\n        }, 1);\n    }, []);\n    var scrollTouchStart = React.useCallback(function (event) {\n        touchStartRef.current = getTouchXY(event);\n        activeAxis.current = undefined;\n    }, []);\n    var scrollWheel = React.useCallback(function (event) {\n        shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    var scrollTouchMove = React.useCallback(function (event) {\n        shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    React.useEffect(function () {\n        lockStack.push(Style);\n        props.setCallbacks({\n            onScrollCapture: scrollWheel,\n            onWheelCapture: scrollWheel,\n            onTouchMoveCapture: scrollTouchMove,\n        });\n        document.addEventListener('wheel', shouldPrevent, nonPassive);\n        document.addEventListener('touchmove', shouldPrevent, nonPassive);\n        document.addEventListener('touchstart', scrollTouchStart, nonPassive);\n        return function () {\n            lockStack = lockStack.filter(function (inst) { return inst !== Style; });\n            document.removeEventListener('wheel', shouldPrevent, nonPassive);\n            document.removeEventListener('touchmove', shouldPrevent, nonPassive);\n            document.removeEventListener('touchstart', scrollTouchStart, nonPassive);\n        };\n    }, []);\n    var removeScrollBar = props.removeScrollBar, inert = props.inert;\n    return (React.createElement(React.Fragment, null,\n        inert ? React.createElement(Style, { styles: generateStyle(id) }) : null,\n        removeScrollBar ? React.createElement(RemoveScrollBar, { noRelative: props.noRelative, gapMode: props.gapMode }) : null));\n}\nfunction getOutermostShadowParent(node) {\n    var shadowParent = null;\n    while (node !== null) {\n        if (node instanceof ShadowRoot) {\n            shadowParent = node.host;\n            node = node.host;\n        }\n        node = node.parentNode;\n    }\n    return shadowParent;\n}\n","import { exportSidecar } from 'use-sidecar';\nimport { RemoveScrollSideCar } from './SideEffect';\nimport { effectCar } from './medium';\nexport default exportSidecar(effectCar, RemoveScrollSideCar);\n","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScroll } from './UI';\nimport SideCar from './sidecar';\nvar ReactRemoveScroll = React.forwardRef(function (props, ref) { return (React.createElement(RemoveScroll, __assign({}, props, { ref: ref, sideCar: SideCar }))); });\nReactRemoveScroll.classNames = RemoveScroll.classNames;\nexport default ReactRemoveScroll;\n","\"use client\";\n\n// src/menu.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs, composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { jsx } from \"react/jsx-runtime\";\nvar SELECTION_KEYS = [\"Enter\", \" \"];\nvar FIRST_KEYS = [\"ArrowDown\", \"PageUp\", \"Home\"];\nvar LAST_KEYS = [\"ArrowUp\", \"PageDown\", \"End\"];\nvar FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nvar SUB_OPEN_KEYS = {\n  ltr: [...SELECTION_KEYS, \"ArrowRight\"],\n  rtl: [...SELECTION_KEYS, \"ArrowLeft\"]\n};\nvar SUB_CLOSE_KEYS = {\n  ltr: [\"ArrowLeft\"],\n  rtl: [\"ArrowRight\"]\n};\nvar MENU_NAME = \"Menu\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(MENU_NAME);\nvar [createMenuContext, createMenuScope] = createContextScope(MENU_NAME, [\n  createCollectionScope,\n  createPopperScope,\n  createRovingFocusGroupScope\n]);\nvar usePopperScope = createPopperScope();\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [MenuProvider, useMenuContext] = createMenuContext(MENU_NAME);\nvar [MenuRootProvider, useMenuRootContext] = createMenuContext(MENU_NAME);\nvar Menu = (props) => {\n  const { __scopeMenu, open = false, children, dir, onOpenChange, modal = true } = props;\n  const popperScope = usePopperScope(__scopeMenu);\n  const [content, setContent] = React.useState(null);\n  const isUsingKeyboardRef = React.useRef(false);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  const direction = useDirection(dir);\n  React.useEffect(() => {\n    const handleKeyDown = () => {\n      isUsingKeyboardRef.current = true;\n      document.addEventListener(\"pointerdown\", handlePointer, { capture: true, once: true });\n      document.addEventListener(\"pointermove\", handlePointer, { capture: true, once: true });\n    };\n    const handlePointer = () => isUsingKeyboardRef.current = false;\n    document.addEventListener(\"keydown\", handleKeyDown, { capture: true });\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown, { capture: true });\n      document.removeEventListener(\"pointerdown\", handlePointer, { capture: true });\n      document.removeEventListener(\"pointermove\", handlePointer, { capture: true });\n    };\n  }, []);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: /* @__PURE__ */ jsx(\n        MenuRootProvider,\n        {\n          scope: __scopeMenu,\n          onClose: React.useCallback(() => handleOpenChange(false), [handleOpenChange]),\n          isUsingKeyboardRef,\n          dir: direction,\n          modal,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenu.displayName = MENU_NAME;\nvar ANCHOR_NAME = \"MenuAnchor\";\nvar MenuAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...anchorProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nMenuAnchor.displayName = ANCHOR_NAME;\nvar PORTAL_NAME = \"MenuPortal\";\nvar [PortalProvider, usePortalContext] = createMenuContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar MenuPortal = (props) => {\n  const { __scopeMenu, forceMount, children, container } = props;\n  const context = useMenuContext(PORTAL_NAME, __scopeMenu);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeMenu, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"MenuContent\";\nvar [MenuContentProvider, useMenuContentContext] = createMenuContext(CONTENT_NAME);\nvar MenuContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeMenu, children: rootContext.modal ? /* @__PURE__ */ jsx(MenuRootContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(MenuRootContentNonModal, { ...contentProps, ref: forwardedRef }) }) }) });\n  }\n);\nvar MenuRootContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    React.useEffect(() => {\n      const content = ref.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      MenuContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: context.open,\n        disableOutsideScroll: true,\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        ),\n        onDismiss: () => context.onOpenChange(false)\n      }\n    );\n  }\n);\nvar MenuRootContentNonModal = React.forwardRef((props, forwardedRef) => {\n  const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n  return /* @__PURE__ */ jsx(\n    MenuContentImpl,\n    {\n      ...props,\n      ref: forwardedRef,\n      trapFocus: false,\n      disableOutsidePointerEvents: false,\n      disableOutsideScroll: false,\n      onDismiss: () => context.onOpenChange(false)\n    }\n  );\n});\nvar Slot = createSlot(\"MenuContent.ScrollLock\");\nvar MenuContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeMenu,\n      loop = false,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEntryFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      disableOutsideScroll,\n      ...contentProps\n    } = props;\n    const context = useMenuContext(CONTENT_NAME, __scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, __scopeMenu);\n    const popperScope = usePopperScope(__scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const getItems = useCollection(__scopeMenu);\n    const [currentItemId, setCurrentItemId] = React.useState(null);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef, context.onContentChange);\n    const timerRef = React.useRef(0);\n    const searchRef = React.useRef(\"\");\n    const pointerGraceTimerRef = React.useRef(0);\n    const pointerGraceIntentRef = React.useRef(null);\n    const pointerDirRef = React.useRef(\"right\");\n    const lastPointerXRef = React.useRef(0);\n    const ScrollLockWrapper = disableOutsideScroll ? RemoveScroll : React.Fragment;\n    const scrollLockWrapperProps = disableOutsideScroll ? { as: Slot, allowPinchZoom: true } : void 0;\n    const handleTypeaheadSearch = (key) => {\n      const search = searchRef.current + key;\n      const items = getItems().filter((item) => !item.disabled);\n      const currentItem = document.activeElement;\n      const currentMatch = items.find((item) => item.ref.current === currentItem)?.textValue;\n      const values = items.map((item) => item.textValue);\n      const nextMatch = getNextMatch(values, search, currentMatch);\n      const newItem = items.find((item) => item.textValue === nextMatch)?.ref.current;\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n      if (newItem) {\n        setTimeout(() => newItem.focus());\n      }\n    };\n    React.useEffect(() => {\n      return () => window.clearTimeout(timerRef.current);\n    }, []);\n    useFocusGuards();\n    const isPointerMovingToSubmenu = React.useCallback((event) => {\n      const isMovingTowards = pointerDirRef.current === pointerGraceIntentRef.current?.side;\n      return isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.current?.area);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      MenuContentProvider,\n      {\n        scope: __scopeMenu,\n        searchRef,\n        onItemEnter: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onItemLeave: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) return;\n            contentRef.current?.focus();\n            setCurrentItemId(null);\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onTriggerLeave: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        pointerGraceTimerRef,\n        onPointerGraceIntentChange: React.useCallback((intent) => {\n          pointerGraceIntentRef.current = intent;\n        }, []),\n        children: /* @__PURE__ */ jsx(ScrollLockWrapper, { ...scrollLockWrapperProps, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: trapFocus,\n            onMountAutoFocus: composeEventHandlers(onOpenAutoFocus, (event) => {\n              event.preventDefault();\n              contentRef.current?.focus({ preventScroll: true });\n            }),\n            onUnmountAutoFocus: onCloseAutoFocus,\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside,\n                onInteractOutside,\n                onDismiss,\n                children: /* @__PURE__ */ jsx(\n                  RovingFocusGroup.Root,\n                  {\n                    asChild: true,\n                    ...rovingFocusGroupScope,\n                    dir: rootContext.dir,\n                    orientation: \"vertical\",\n                    loop,\n                    currentTabStopId: currentItemId,\n                    onCurrentTabStopIdChange: setCurrentItemId,\n                    onEntryFocus: composeEventHandlers(onEntryFocus, (event) => {\n                      if (!rootContext.isUsingKeyboardRef.current) event.preventDefault();\n                    }),\n                    preventScrollOnEntryFocus: true,\n                    children: /* @__PURE__ */ jsx(\n                      PopperPrimitive.Content,\n                      {\n                        role: \"menu\",\n                        \"aria-orientation\": \"vertical\",\n                        \"data-state\": getOpenState(context.open),\n                        \"data-radix-menu-content\": \"\",\n                        dir: rootContext.dir,\n                        ...popperScope,\n                        ...contentProps,\n                        ref: composedRefs,\n                        style: { outline: \"none\", ...contentProps.style },\n                        onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                          const target = event.target;\n                          const isKeyDownInside = target.closest(\"[data-radix-menu-content]\") === event.currentTarget;\n                          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                          const isCharacterKey = event.key.length === 1;\n                          if (isKeyDownInside) {\n                            if (event.key === \"Tab\") event.preventDefault();\n                            if (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key);\n                          }\n                          const content = contentRef.current;\n                          if (event.target !== content) return;\n                          if (!FIRST_LAST_KEYS.includes(event.key)) return;\n                          event.preventDefault();\n                          const items = getItems().filter((item) => !item.disabled);\n                          const candidateNodes = items.map((item) => item.ref.current);\n                          if (LAST_KEYS.includes(event.key)) candidateNodes.reverse();\n                          focusFirst(candidateNodes);\n                        }),\n                        onBlur: composeEventHandlers(props.onBlur, (event) => {\n                          if (!event.currentTarget.contains(event.target)) {\n                            window.clearTimeout(timerRef.current);\n                            searchRef.current = \"\";\n                          }\n                        }),\n                        onPointerMove: composeEventHandlers(\n                          props.onPointerMove,\n                          whenMouse((event) => {\n                            const target = event.target;\n                            const pointerXHasChanged = lastPointerXRef.current !== event.clientX;\n                            if (event.currentTarget.contains(target) && pointerXHasChanged) {\n                              const newDir = event.clientX > lastPointerXRef.current ? \"right\" : \"left\";\n                              pointerDirRef.current = newDir;\n                              lastPointerXRef.current = event.clientX;\n                            }\n                          })\n                        )\n                      }\n                    )\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"MenuGroup\";\nvar MenuGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...groupProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", ...groupProps, ref: forwardedRef });\n  }\n);\nMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"MenuLabel\";\nvar MenuLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...labelProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { ...labelProps, ref: forwardedRef });\n  }\n);\nMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"MenuItem\";\nvar ITEM_SELECT = \"menu.itemSelect\";\nvar MenuItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { disabled = false, onSelect, ...itemProps } = props;\n    const ref = React.useRef(null);\n    const rootContext = useMenuRootContext(ITEM_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(ITEM_NAME, props.__scopeMenu);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const isPointerDownRef = React.useRef(false);\n    const handleSelect = () => {\n      const menuItem = ref.current;\n      if (!disabled && menuItem) {\n        const itemSelectEvent = new CustomEvent(ITEM_SELECT, { bubbles: true, cancelable: true });\n        menuItem.addEventListener(ITEM_SELECT, (event) => onSelect?.(event), { once: true });\n        dispatchDiscreteCustomEvent(menuItem, itemSelectEvent);\n        if (itemSelectEvent.defaultPrevented) {\n          isPointerDownRef.current = false;\n        } else {\n          rootContext.onClose();\n        }\n      }\n    };\n    return /* @__PURE__ */ jsx(\n      MenuItemImpl,\n      {\n        ...itemProps,\n        ref: composedRefs,\n        disabled,\n        onClick: composeEventHandlers(props.onClick, handleSelect),\n        onPointerDown: (event) => {\n          props.onPointerDown?.(event);\n          isPointerDownRef.current = true;\n        },\n        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n          if (!isPointerDownRef.current) event.currentTarget?.click();\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (disabled || isTypingAhead && event.key === \" \") return;\n          if (SELECTION_KEYS.includes(event.key)) {\n            event.currentTarget.click();\n            event.preventDefault();\n          }\n        })\n      }\n    );\n  }\n);\nMenuItem.displayName = ITEM_NAME;\nvar MenuItemImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, disabled = false, textValue, ...itemProps } = props;\n    const contentContext = useMenuContentContext(ITEM_NAME, __scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [isFocused, setIsFocused] = React.useState(false);\n    const [textContent, setTextContent] = React.useState(\"\");\n    React.useEffect(() => {\n      const menuItem = ref.current;\n      if (menuItem) {\n        setTextContent((menuItem.textContent ?? \"\").trim());\n      }\n    }, [itemProps.children]);\n    return /* @__PURE__ */ jsx(\n      Collection.ItemSlot,\n      {\n        scope: __scopeMenu,\n        disabled,\n        textValue: textValue ?? textContent,\n        children: /* @__PURE__ */ jsx(RovingFocusGroup.Item, { asChild: true, ...rovingFocusGroupScope, focusable: !disabled, children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            role: \"menuitem\",\n            \"data-highlighted\": isFocused ? \"\" : void 0,\n            \"aria-disabled\": disabled || void 0,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...itemProps,\n            ref: composedRefs,\n            onPointerMove: composeEventHandlers(\n              props.onPointerMove,\n              whenMouse((event) => {\n                if (disabled) {\n                  contentContext.onItemLeave(event);\n                } else {\n                  contentContext.onItemEnter(event);\n                  if (!event.defaultPrevented) {\n                    const item = event.currentTarget;\n                    item.focus({ preventScroll: true });\n                  }\n                }\n              })\n            ),\n            onPointerLeave: composeEventHandlers(\n              props.onPointerLeave,\n              whenMouse((event) => contentContext.onItemLeave(event))\n            ),\n            onFocus: composeEventHandlers(props.onFocus, () => setIsFocused(true)),\n            onBlur: composeEventHandlers(props.onBlur, () => setIsFocused(false))\n          }\n        ) })\n      }\n    );\n  }\n);\nvar CHECKBOX_ITEM_NAME = \"MenuCheckboxItem\";\nvar MenuCheckboxItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { checked = false, onCheckedChange, ...checkboxItemProps } = props;\n    return /* @__PURE__ */ jsx(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: /* @__PURE__ */ jsx(\n      MenuItem,\n      {\n        role: \"menuitemcheckbox\",\n        \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n        ...checkboxItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers(\n          checkboxItemProps.onSelect,\n          () => onCheckedChange?.(isIndeterminate(checked) ? true : !checked),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"MenuRadioGroup\";\nvar [RadioGroupProvider, useRadioGroupContext] = createMenuContext(\n  RADIO_GROUP_NAME,\n  { value: void 0, onValueChange: () => {\n  } }\n);\nvar MenuRadioGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { value, onValueChange, ...groupProps } = props;\n    const handleValueChange = useCallbackRef(onValueChange);\n    return /* @__PURE__ */ jsx(RadioGroupProvider, { scope: props.__scopeMenu, value, onValueChange: handleValueChange, children: /* @__PURE__ */ jsx(MenuGroup, { ...groupProps, ref: forwardedRef }) });\n  }\n);\nMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"MenuRadioItem\";\nvar MenuRadioItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { value, ...radioItemProps } = props;\n    const context = useRadioGroupContext(RADIO_ITEM_NAME, props.__scopeMenu);\n    const checked = value === context.value;\n    return /* @__PURE__ */ jsx(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: /* @__PURE__ */ jsx(\n      MenuItem,\n      {\n        role: \"menuitemradio\",\n        \"aria-checked\": checked,\n        ...radioItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers(\n          radioItemProps.onSelect,\n          () => context.onValueChange?.(value),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar ITEM_INDICATOR_NAME = \"MenuItemIndicator\";\nvar [ItemIndicatorProvider, useItemIndicatorContext] = createMenuContext(\n  ITEM_INDICATOR_NAME,\n  { checked: false }\n);\nvar MenuItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, forceMount, ...itemIndicatorProps } = props;\n    const indicatorContext = useItemIndicatorContext(ITEM_INDICATOR_NAME, __scopeMenu);\n    return /* @__PURE__ */ jsx(\n      Presence,\n      {\n        present: forceMount || isIndeterminate(indicatorContext.checked) || indicatorContext.checked === true,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            ...itemIndicatorProps,\n            ref: forwardedRef,\n            \"data-state\": getCheckedState(indicatorContext.checked)\n          }\n        )\n      }\n    );\n  }\n);\nMenuItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SEPARATOR_NAME = \"MenuSeparator\";\nvar MenuSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        role: \"separator\",\n        \"aria-orientation\": \"horizontal\",\n        ...separatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"MenuArrow\";\nvar MenuArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nMenuArrow.displayName = ARROW_NAME;\nvar SUB_NAME = \"MenuSub\";\nvar [MenuSubProvider, useMenuSubContext] = createMenuContext(SUB_NAME);\nvar MenuSub = (props) => {\n  const { __scopeMenu, children, open = false, onOpenChange } = props;\n  const parentMenuContext = useMenuContext(SUB_NAME, __scopeMenu);\n  const popperScope = usePopperScope(__scopeMenu);\n  const [trigger, setTrigger] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  React.useEffect(() => {\n    if (parentMenuContext.open === false) handleOpenChange(false);\n    return () => handleOpenChange(false);\n  }, [parentMenuContext.open, handleOpenChange]);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: /* @__PURE__ */ jsx(\n        MenuSubProvider,\n        {\n          scope: __scopeMenu,\n          contentId: useId(),\n          triggerId: useId(),\n          trigger,\n          onTriggerChange: setTrigger,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenuSub.displayName = SUB_NAME;\nvar SUB_TRIGGER_NAME = \"MenuSubTrigger\";\nvar MenuSubTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const openTimerRef = React.useRef(null);\n    const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;\n    const scope = { __scopeMenu: props.__scopeMenu };\n    const clearOpenTimer = React.useCallback(() => {\n      if (openTimerRef.current) window.clearTimeout(openTimerRef.current);\n      openTimerRef.current = null;\n    }, []);\n    React.useEffect(() => clearOpenTimer, [clearOpenTimer]);\n    React.useEffect(() => {\n      const pointerGraceTimer = pointerGraceTimerRef.current;\n      return () => {\n        window.clearTimeout(pointerGraceTimer);\n        onPointerGraceIntentChange(null);\n      };\n    }, [pointerGraceTimerRef, onPointerGraceIntentChange]);\n    return /* @__PURE__ */ jsx(MenuAnchor, { asChild: true, ...scope, children: /* @__PURE__ */ jsx(\n      MenuItemImpl,\n      {\n        id: subContext.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": subContext.contentId,\n        \"data-state\": getOpenState(context.open),\n        ...props,\n        ref: composeRefs(forwardedRef, subContext.onTriggerChange),\n        onClick: (event) => {\n          props.onClick?.(event);\n          if (props.disabled || event.defaultPrevented) return;\n          event.currentTarget.focus();\n          if (!context.open) context.onOpenChange(true);\n        },\n        onPointerMove: composeEventHandlers(\n          props.onPointerMove,\n          whenMouse((event) => {\n            contentContext.onItemEnter(event);\n            if (event.defaultPrevented) return;\n            if (!props.disabled && !context.open && !openTimerRef.current) {\n              contentContext.onPointerGraceIntentChange(null);\n              openTimerRef.current = window.setTimeout(() => {\n                context.onOpenChange(true);\n                clearOpenTimer();\n              }, 100);\n            }\n          })\n        ),\n        onPointerLeave: composeEventHandlers(\n          props.onPointerLeave,\n          whenMouse((event) => {\n            clearOpenTimer();\n            const contentRect = context.content?.getBoundingClientRect();\n            if (contentRect) {\n              const side = context.content?.dataset.side;\n              const rightSide = side === \"right\";\n              const bleed = rightSide ? -5 : 5;\n              const contentNearEdge = contentRect[rightSide ? \"left\" : \"right\"];\n              const contentFarEdge = contentRect[rightSide ? \"right\" : \"left\"];\n              contentContext.onPointerGraceIntentChange({\n                area: [\n                  // Apply a bleed on clientX to ensure that our exit point is\n                  // consistently within polygon bounds\n                  { x: event.clientX + bleed, y: event.clientY },\n                  { x: contentNearEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.bottom },\n                  { x: contentNearEdge, y: contentRect.bottom }\n                ],\n                side\n              });\n              window.clearTimeout(pointerGraceTimerRef.current);\n              pointerGraceTimerRef.current = window.setTimeout(\n                () => contentContext.onPointerGraceIntentChange(null),\n                300\n              );\n            } else {\n              contentContext.onTriggerLeave(event);\n              if (event.defaultPrevented) return;\n              contentContext.onPointerGraceIntentChange(null);\n            }\n          })\n        ),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (props.disabled || isTypingAhead && event.key === \" \") return;\n          if (SUB_OPEN_KEYS[rootContext.dir].includes(event.key)) {\n            context.onOpenChange(true);\n            context.content?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"MenuSubContent\";\nvar MenuSubContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...subContentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(\n      MenuContentImpl,\n      {\n        id: subContext.contentId,\n        \"aria-labelledby\": subContext.triggerId,\n        ...subContentProps,\n        ref: composedRefs,\n        align: \"start\",\n        side: rootContext.dir === \"rtl\" ? \"left\" : \"right\",\n        disableOutsidePointerEvents: false,\n        disableOutsideScroll: false,\n        trapFocus: false,\n        onOpenAutoFocus: (event) => {\n          if (rootContext.isUsingKeyboardRef.current) ref.current?.focus();\n          event.preventDefault();\n        },\n        onCloseAutoFocus: (event) => event.preventDefault(),\n        onFocusOutside: composeEventHandlers(props.onFocusOutside, (event) => {\n          if (event.target !== subContext.trigger) context.onOpenChange(false);\n        }),\n        onEscapeKeyDown: composeEventHandlers(props.onEscapeKeyDown, (event) => {\n          rootContext.onClose();\n          event.preventDefault();\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isKeyDownInside = event.currentTarget.contains(event.target);\n          const isCloseKey = SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);\n          if (isKeyDownInside && isCloseKey) {\n            context.onOpenChange(false);\n            subContext.trigger?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) }) }) });\n  }\n);\nMenuSubContent.displayName = SUB_CONTENT_NAME;\nfunction getOpenState(open) {\n  return open ? \"open\" : \"closed\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getCheckedState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nfunction focusFirst(candidates) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nfunction getNextMatch(values, search, currentMatch) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n  let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n  const excludeCurrentMatch = normalizedSearch.length === 1;\n  if (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n  const nextMatch = wrappedValues.find(\n    (value) => value.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextMatch !== currentMatch ? nextMatch : void 0;\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i];\n    const jj = polygon[j];\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction isPointerInGraceArea(event, area) {\n  if (!area) return false;\n  const cursorPos = { x: event.clientX, y: event.clientY };\n  return isPointInPolygon(cursorPos, area);\n}\nfunction whenMouse(handler) {\n  return (event) => event.pointerType === \"mouse\" ? handler(event) : void 0;\n}\nvar Root3 = Menu;\nvar Anchor2 = MenuAnchor;\nvar Portal = MenuPortal;\nvar Content2 = MenuContent;\nvar Group = MenuGroup;\nvar Label = MenuLabel;\nvar Item2 = MenuItem;\nvar CheckboxItem = MenuCheckboxItem;\nvar RadioGroup = MenuRadioGroup;\nvar RadioItem = MenuRadioItem;\nvar ItemIndicator = MenuItemIndicator;\nvar Separator = MenuSeparator;\nvar Arrow2 = MenuArrow;\nvar Sub = MenuSub;\nvar SubTrigger = MenuSubTrigger;\nvar SubContent = MenuSubContent;\nexport {\n  Anchor2 as Anchor,\n  Arrow2 as Arrow,\n  CheckboxItem,\n  Content2 as Content,\n  Group,\n  Item2 as Item,\n  ItemIndicator,\n  Label,\n  Menu,\n  MenuAnchor,\n  MenuArrow,\n  MenuCheckboxItem,\n  MenuContent,\n  MenuGroup,\n  MenuItem,\n  MenuItemIndicator,\n  MenuLabel,\n  MenuPortal,\n  MenuRadioGroup,\n  MenuRadioItem,\n  MenuSeparator,\n  MenuSub,\n  MenuSubContent,\n  MenuSubTrigger,\n  Portal,\n  RadioGroup,\n  RadioItem,\n  Root3 as Root,\n  Separator,\n  Sub,\n  SubContent,\n  SubTrigger,\n  createMenuScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/dropdown-menu.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as MenuPrimitive from \"@radix-ui/react-menu\";\nimport { createMenuScope } from \"@radix-ui/react-menu\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { jsx } from \"react/jsx-runtime\";\nvar DROPDOWN_MENU_NAME = \"DropdownMenu\";\nvar [createDropdownMenuContext, createDropdownMenuScope] = createContextScope(\n  DROPDOWN_MENU_NAME,\n  [createMenuScope]\n);\nvar useMenuScope = createMenuScope();\nvar [DropdownMenuProvider, useDropdownMenuContext] = createDropdownMenuContext(DROPDOWN_MENU_NAME);\nvar DropdownMenu = (props) => {\n  const {\n    __scopeDropdownMenu,\n    children,\n    dir,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true\n  } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const triggerRef = React.useRef(null);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: DROPDOWN_MENU_NAME\n  });\n  return /* @__PURE__ */ jsx(\n    DropdownMenuProvider,\n    {\n      scope: __scopeDropdownMenu,\n      triggerId: useId(),\n      triggerRef,\n      contentId: useId(),\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      modal,\n      children: /* @__PURE__ */ jsx(MenuPrimitive.Root, { ...menuScope, open, onOpenChange: setOpen, dir, modal, children })\n    }\n  );\n};\nDropdownMenu.displayName = DROPDOWN_MENU_NAME;\nvar TRIGGER_NAME = \"DropdownMenuTrigger\";\nvar DropdownMenuTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props;\n    const context = useDropdownMenuContext(TRIGGER_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Anchor, { asChild: true, ...menuScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        id: context.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.open ? context.contentId : void 0,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        \"data-disabled\": disabled ? \"\" : void 0,\n        disabled,\n        ...triggerProps,\n        ref: composeRefs(forwardedRef, context.triggerRef),\n        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n          if (!disabled && event.button === 0 && event.ctrlKey === false) {\n            context.onOpenToggle();\n            if (!context.open) event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          if (disabled) return;\n          if ([\"Enter\", \" \"].includes(event.key)) context.onOpenToggle();\n          if (event.key === \"ArrowDown\") context.onOpenChange(true);\n          if ([\"Enter\", \" \", \"ArrowDown\"].includes(event.key)) event.preventDefault();\n        })\n      }\n    ) });\n  }\n);\nDropdownMenuTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"DropdownMenuPortal\";\nvar DropdownMenuPortal = (props) => {\n  const { __scopeDropdownMenu, ...portalProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.Portal, { ...menuScope, ...portalProps });\n};\nDropdownMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"DropdownMenuContent\";\nvar DropdownMenuContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...contentProps } = props;\n    const context = useDropdownMenuContext(CONTENT_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const hasInteractedOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      MenuPrimitive.Content,\n      {\n        id: context.contentId,\n        \"aria-labelledby\": context.triggerId,\n        ...menuScope,\n        ...contentProps,\n        ref: forwardedRef,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n          hasInteractedOutsideRef.current = false;\n          event.preventDefault();\n        }),\n        onInteractOutside: composeEventHandlers(props.onInteractOutside, (event) => {\n          const originalEvent = event.detail.originalEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (!context.modal || isRightClick) hasInteractedOutsideRef.current = true;\n        }),\n        style: {\n          ...props.style,\n          // re-namespace exposed content custom properties\n          ...{\n            \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n            \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n            \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n            \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n            \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n          }\n        }\n      }\n    );\n  }\n);\nDropdownMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"DropdownMenuGroup\";\nvar DropdownMenuGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...groupProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Group, { ...menuScope, ...groupProps, ref: forwardedRef });\n  }\n);\nDropdownMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"DropdownMenuLabel\";\nvar DropdownMenuLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...labelProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Label, { ...menuScope, ...labelProps, ref: forwardedRef });\n  }\n);\nDropdownMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"DropdownMenuItem\";\nvar DropdownMenuItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...itemProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Item, { ...menuScope, ...itemProps, ref: forwardedRef });\n  }\n);\nDropdownMenuItem.displayName = ITEM_NAME;\nvar CHECKBOX_ITEM_NAME = \"DropdownMenuCheckboxItem\";\nvar DropdownMenuCheckboxItem = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...checkboxItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.CheckboxItem, { ...menuScope, ...checkboxItemProps, ref: forwardedRef });\n});\nDropdownMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"DropdownMenuRadioGroup\";\nvar DropdownMenuRadioGroup = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioGroupProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.RadioGroup, { ...menuScope, ...radioGroupProps, ref: forwardedRef });\n});\nDropdownMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"DropdownMenuRadioItem\";\nvar DropdownMenuRadioItem = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.RadioItem, { ...menuScope, ...radioItemProps, ref: forwardedRef });\n});\nDropdownMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar INDICATOR_NAME = \"DropdownMenuItemIndicator\";\nvar DropdownMenuItemIndicator = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...itemIndicatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.ItemIndicator, { ...menuScope, ...itemIndicatorProps, ref: forwardedRef });\n});\nDropdownMenuItemIndicator.displayName = INDICATOR_NAME;\nvar SEPARATOR_NAME = \"DropdownMenuSeparator\";\nvar DropdownMenuSeparator = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...separatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.Separator, { ...menuScope, ...separatorProps, ref: forwardedRef });\n});\nDropdownMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"DropdownMenuArrow\";\nvar DropdownMenuArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...arrowProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Arrow, { ...menuScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nDropdownMenuArrow.displayName = ARROW_NAME;\nvar DropdownMenuSub = (props) => {\n  const { __scopeDropdownMenu, children, open: openProp, onOpenChange, defaultOpen } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: \"DropdownMenuSub\"\n  });\n  return /* @__PURE__ */ jsx(MenuPrimitive.Sub, { ...menuScope, open, onOpenChange: setOpen, children });\n};\nvar SUB_TRIGGER_NAME = \"DropdownMenuSubTrigger\";\nvar DropdownMenuSubTrigger = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subTriggerProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.SubTrigger, { ...menuScope, ...subTriggerProps, ref: forwardedRef });\n});\nDropdownMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"DropdownMenuSubContent\";\nvar DropdownMenuSubContent = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subContentProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(\n    MenuPrimitive.SubContent,\n    {\n      ...menuScope,\n      ...subContentProps,\n      ref: forwardedRef,\n      style: {\n        ...props.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nDropdownMenuSubContent.displayName = SUB_CONTENT_NAME;\nvar Root2 = DropdownMenu;\nvar Trigger = DropdownMenuTrigger;\nvar Portal2 = DropdownMenuPortal;\nvar Content2 = DropdownMenuContent;\nvar Group2 = DropdownMenuGroup;\nvar Label2 = DropdownMenuLabel;\nvar Item2 = DropdownMenuItem;\nvar CheckboxItem2 = DropdownMenuCheckboxItem;\nvar RadioGroup2 = DropdownMenuRadioGroup;\nvar RadioItem2 = DropdownMenuRadioItem;\nvar ItemIndicator2 = DropdownMenuItemIndicator;\nvar Separator2 = DropdownMenuSeparator;\nvar Arrow2 = DropdownMenuArrow;\nvar Sub2 = DropdownMenuSub;\nvar SubTrigger2 = DropdownMenuSubTrigger;\nvar SubContent2 = DropdownMenuSubContent;\nexport {\n  Arrow2 as Arrow,\n  CheckboxItem2 as CheckboxItem,\n  Content2 as Content,\n  DropdownMenu,\n  DropdownMenuArrow,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuItemIndicator,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n  Group2 as Group,\n  Item2 as Item,\n  ItemIndicator2 as ItemIndicator,\n  Label2 as Label,\n  Portal2 as Portal,\n  RadioGroup2 as RadioGroup,\n  RadioItem2 as RadioItem,\n  Root2 as Root,\n  Separator2 as Separator,\n  Sub2 as Sub,\n  SubContent2 as SubContent,\n  SubTrigger2 as SubTrigger,\n  Trigger,\n  createDropdownMenuScope\n};\n//# sourceMappingURL=index.mjs.map\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","const CLASS_PART_SEPARATOR = '-';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and remove it from classParts.\n    if (classParts[0] === '' && classParts.length !== 1) {\n      classParts.shift();\n    }\n    return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    const conflicts = conflictingClassGroups[classGroupId] || [];\n    if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n      return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n    }\n    return conflicts;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, classPartObject) => {\n  if (classParts.length === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[0];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : undefined;\n  if (classGroupFromNextClassPart) {\n    return classGroupFromNextClassPart;\n  }\n  if (classPartObject.validators.length === 0) {\n    return undefined;\n  }\n  const classRest = classParts.join(CLASS_PART_SEPARATOR);\n  return classPartObject.validators.find(({\n    validator\n  }) => validator(classRest))?.classGroupId;\n};\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/;\nconst getGroupIdForArbitraryProperty = className => {\n  if (arbitraryPropertyRegex.test(className)) {\n    const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n    const property = arbitraryPropertyClassName?.substring(0, arbitraryPropertyClassName.indexOf(':'));\n    if (property) {\n      // I use two dots here because one dot is used as prefix for class groups in plugins\n      return 'arbitrary..' + property;\n    }\n  }\n};\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    classGroups\n  } = config;\n  const classMap = {\n    nextPart: new Map(),\n    validators: []\n  };\n  for (const classGroupId in classGroups) {\n    processClassesRecursively(classGroups[classGroupId], classMap, classGroupId, theme);\n  }\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  classGroup.forEach(classDefinition => {\n    if (typeof classDefinition === 'string') {\n      const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n      classPartObjectToEdit.classGroupId = classGroupId;\n      return;\n    }\n    if (typeof classDefinition === 'function') {\n      if (isThemeGetter(classDefinition)) {\n        processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n        return;\n      }\n      classPartObject.validators.push({\n        validator: classDefinition,\n        classGroupId\n      });\n      return;\n    }\n    Object.entries(classDefinition).forEach(([key, classGroup]) => {\n      processClassesRecursively(classGroup, getPart(classPartObject, key), classGroupId, theme);\n    });\n  });\n};\nconst getPart = (classPartObject, path) => {\n  let currentClassPartObject = classPartObject;\n  path.split(CLASS_PART_SEPARATOR).forEach(pathPart => {\n    if (!currentClassPartObject.nextPart.has(pathPart)) {\n      currentClassPartObject.nextPart.set(pathPart, {\n        nextPart: new Map(),\n        validators: []\n      });\n    }\n    currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n  });\n  return currentClassPartObject;\n};\nconst isThemeGetter = func => func.isThemeGetter;\n\n// LRU cache inspired from hashlru (https://github.com/dominictarr/hashlru/blob/v1.0.4/index.js) but object replaced with Map to improve performance\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = new Map();\n  let previousCache = new Map();\n  const update = (key, value) => {\n    cache.set(key, value);\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = new Map();\n    }\n  };\n  return {\n    get(key) {\n      let value = cache.get(key);\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache.get(key)) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (cache.has(key)) {\n        cache.set(key, value);\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst MODIFIER_SEPARATOR = ':';\nconst MODIFIER_SEPARATOR_LENGTH = MODIFIER_SEPARATOR.length;\nconst createParseClassName = config => {\n  const {\n    prefix,\n    experimentalParseClassName\n  } = config;\n  /**\n   * Parse class name into parts.\n   *\n   * Inspired by `splitAtTopLevelOnly` used in Tailwind CSS\n   * @see https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n   */\n  let parseClassName = className => {\n    const modifiers = [];\n    let bracketDepth = 0;\n    let parenDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    for (let index = 0; index < className.length; index++) {\n      let currentCharacter = className[index];\n      if (bracketDepth === 0 && parenDepth === 0) {\n        if (currentCharacter === MODIFIER_SEPARATOR) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + MODIFIER_SEPARATOR_LENGTH;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') {\n        bracketDepth++;\n      } else if (currentCharacter === ']') {\n        bracketDepth--;\n      } else if (currentCharacter === '(') {\n        parenDepth++;\n      } else if (currentCharacter === ')') {\n        parenDepth--;\n      }\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n    const baseClassName = stripImportantModifier(baseClassNameWithImportantModifier);\n    const hasImportantModifier = baseClassName !== baseClassNameWithImportantModifier;\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    };\n  };\n  if (prefix) {\n    const fullPrefix = prefix + MODIFIER_SEPARATOR;\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => className.startsWith(fullPrefix) ? parseClassNameOriginal(className.substring(fullPrefix.length)) : {\n      isExternal: true,\n      modifiers: [],\n      hasImportantModifier: false,\n      baseClassName: className,\n      maybePostfixModifierPosition: undefined\n    };\n  }\n  if (experimentalParseClassName) {\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => experimentalParseClassName({\n      className,\n      parseClassName: parseClassNameOriginal\n    });\n  }\n  return parseClassName;\n};\nconst stripImportantModifier = baseClassName => {\n  if (baseClassName.endsWith(IMPORTANT_MODIFIER)) {\n    return baseClassName.substring(0, baseClassName.length - 1);\n  }\n  /**\n   * In Tailwind CSS v3 the important modifier was at the start of the base class name. This is still supported for legacy reasons.\n   * @see https://github.com/dcastil/tailwind-merge/issues/513#issuecomment-2614029864\n   */\n  if (baseClassName.startsWith(IMPORTANT_MODIFIER)) {\n    return baseClassName.substring(1);\n  }\n  return baseClassName;\n};\n\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst createSortModifiers = config => {\n  const orderSensitiveModifiers = Object.fromEntries(config.orderSensitiveModifiers.map(modifier => [modifier, true]));\n  const sortModifiers = modifiers => {\n    if (modifiers.length <= 1) {\n      return modifiers;\n    }\n    const sortedModifiers = [];\n    let unsortedModifiers = [];\n    modifiers.forEach(modifier => {\n      const isPositionSensitive = modifier[0] === '[' || orderSensitiveModifiers[modifier];\n      if (isPositionSensitive) {\n        sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n        unsortedModifiers = [];\n      } else {\n        unsortedModifiers.push(modifier);\n      }\n    });\n    sortedModifiers.push(...unsortedModifiers.sort());\n    return sortedModifiers;\n  };\n  return sortModifiers;\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  sortModifiers: createSortModifiers(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds,\n    sortModifiers\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      isExternal,\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    if (isExternal) {\n      result = originalClassName + (result.length > 0 ? ' ' + result : result);\n      continue;\n    }\n    let hasPostfixModifier = !!maybePostfixModifierPosition;\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    const variantModifier = sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.includes(classId)) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nfunction twJoin() {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < arguments.length) {\n    if (argument = arguments[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nconst toValue = mix => {\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nfunction createTailwindMerge(createConfigFirst, ...createConfigRest) {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall = initTailwindMerge;\n  function initTailwindMerge(classList) {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  }\n  function tailwindMerge(classList) {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  }\n  return function callTailwindMerge() {\n    return functionToCall(twJoin.apply(null, arguments));\n  };\n}\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || [];\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:(\\w[\\w-]*):)?(.+)\\]$/i;\nconst arbitraryVariableRegex = /^\\((?:(\\w[\\w-]*):)?(.+)\\)$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isFraction = value => fractionRegex.test(value);\nconst isNumber = value => !!value && !Number.isNaN(Number(value));\nconst isInteger = value => !!value && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst isAny = () => true;\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst isAnyNonArbitrary = value => !isArbitraryValue(value) && !isArbitraryVariable(value);\nconst isArbitrarySize = value => getIsArbitraryValue(value, isLabelSize, isNever);\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, isLabelLength, isLengthOnly);\nconst isArbitraryNumber = value => getIsArbitraryValue(value, isLabelNumber, isNumber);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, isLabelPosition, isNever);\nconst isArbitraryImage = value => getIsArbitraryValue(value, isLabelImage, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, isLabelShadow, isShadow);\nconst isArbitraryVariable = value => arbitraryVariableRegex.test(value);\nconst isArbitraryVariableLength = value => getIsArbitraryVariable(value, isLabelLength);\nconst isArbitraryVariableFamilyName = value => getIsArbitraryVariable(value, isLabelFamilyName);\nconst isArbitraryVariablePosition = value => getIsArbitraryVariable(value, isLabelPosition);\nconst isArbitraryVariableSize = value => getIsArbitraryVariable(value, isLabelSize);\nconst isArbitraryVariableImage = value => getIsArbitraryVariable(value, isLabelImage);\nconst isArbitraryVariableShadow = value => getIsArbitraryVariable(value, isLabelShadow, true);\n// Helpers\nconst getIsArbitraryValue = (value, testLabel, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst getIsArbitraryVariable = (value, testLabel, shouldMatchNoLabel = false) => {\n  const result = arbitraryVariableRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return shouldMatchNoLabel;\n  }\n  return false;\n};\n// Labels\nconst isLabelPosition = label => label === 'position' || label === 'percentage';\nconst isLabelImage = label => label === 'image' || label === 'url';\nconst isLabelSize = label => label === 'length' || label === 'size' || label === 'bg-size';\nconst isLabelLength = label => label === 'length';\nconst isLabelNumber = label => label === 'number';\nconst isLabelFamilyName = label => label === 'family-name';\nconst isLabelShadow = label => label === 'shadow';\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isAnyNonArbitrary,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isArbitraryVariable,\n  isArbitraryVariableFamilyName,\n  isArbitraryVariableImage,\n  isArbitraryVariableLength,\n  isArbitraryVariablePosition,\n  isArbitraryVariableShadow,\n  isArbitraryVariableSize,\n  isFraction,\n  isInteger,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  /**\n   * Theme getters for theme variable namespaces\n   * @see https://tailwindcss.com/docs/theme#theme-variable-namespaces\n   */\n  /***/\n  const themeColor = fromTheme('color');\n  const themeFont = fromTheme('font');\n  const themeText = fromTheme('text');\n  const themeFontWeight = fromTheme('font-weight');\n  const themeTracking = fromTheme('tracking');\n  const themeLeading = fromTheme('leading');\n  const themeBreakpoint = fromTheme('breakpoint');\n  const themeContainer = fromTheme('container');\n  const themeSpacing = fromTheme('spacing');\n  const themeRadius = fromTheme('radius');\n  const themeShadow = fromTheme('shadow');\n  const themeInsetShadow = fromTheme('inset-shadow');\n  const themeTextShadow = fromTheme('text-shadow');\n  const themeDropShadow = fromTheme('drop-shadow');\n  const themeBlur = fromTheme('blur');\n  const themePerspective = fromTheme('perspective');\n  const themeAspect = fromTheme('aspect');\n  const themeEase = fromTheme('ease');\n  const themeAnimate = fromTheme('animate');\n  /**\n   * Helpers to avoid repeating the same scales\n   *\n   * We use functions that create a new array every time they're called instead of static arrays.\n   * This ensures that users who modify any scale by mutating the array (e.g. with `array.push(element)`) don't accidentally mutate arrays in other parts of the config.\n   */\n  /***/\n  const scaleBreak = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const scalePosition = () => ['center', 'top', 'bottom', 'left', 'right', 'top-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-top', 'top-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-top', 'bottom-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-bottom', 'bottom-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-bottom'];\n  const scalePositionWithArbitrary = () => [...scalePosition(), isArbitraryVariable, isArbitraryValue];\n  const scaleOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const scaleOverscroll = () => ['auto', 'contain', 'none'];\n  const scaleUnambiguousSpacing = () => [isArbitraryVariable, isArbitraryValue, themeSpacing];\n  const scaleInset = () => [isFraction, 'full', 'auto', ...scaleUnambiguousSpacing()];\n  const scaleGridTemplateColsRows = () => [isInteger, 'none', 'subgrid', isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartAndEnd = () => ['auto', {\n    span: ['full', isInteger, isArbitraryVariable, isArbitraryValue]\n  }, isInteger, isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartOrEnd = () => [isInteger, 'auto', isArbitraryVariable, isArbitraryValue];\n  const scaleGridAutoColsRows = () => ['auto', 'min', 'max', 'fr', isArbitraryVariable, isArbitraryValue];\n  const scaleAlignPrimaryAxis = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch', 'baseline', 'center-safe', 'end-safe'];\n  const scaleAlignSecondaryAxis = () => ['start', 'end', 'center', 'stretch', 'center-safe', 'end-safe'];\n  const scaleMargin = () => ['auto', ...scaleUnambiguousSpacing()];\n  const scaleSizing = () => [isFraction, 'auto', 'full', 'dvw', 'dvh', 'lvw', 'lvh', 'svw', 'svh', 'min', 'max', 'fit', ...scaleUnambiguousSpacing()];\n  const scaleColor = () => [themeColor, isArbitraryVariable, isArbitraryValue];\n  const scaleBgPosition = () => [...scalePosition(), isArbitraryVariablePosition, isArbitraryPosition, {\n    position: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleBgRepeat = () => ['no-repeat', {\n    repeat: ['', 'x', 'y', 'space', 'round']\n  }];\n  const scaleBgSize = () => ['auto', 'cover', 'contain', isArbitraryVariableSize, isArbitrarySize, {\n    size: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleGradientStopPosition = () => [isPercent, isArbitraryVariableLength, isArbitraryLength];\n  const scaleRadius = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', 'full', themeRadius, isArbitraryVariable, isArbitraryValue];\n  const scaleBorderWidth = () => ['', isNumber, isArbitraryVariableLength, isArbitraryLength];\n  const scaleLineStyle = () => ['solid', 'dashed', 'dotted', 'double'];\n  const scaleBlendMode = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const scaleMaskImagePosition = () => [isNumber, isPercent, isArbitraryVariablePosition, isArbitraryPosition];\n  const scaleBlur = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', themeBlur, isArbitraryVariable, isArbitraryValue];\n  const scaleRotate = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleScale = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleSkew = () => [isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleTranslate = () => [isFraction, 'full', ...scaleUnambiguousSpacing()];\n  return {\n    cacheSize: 500,\n    theme: {\n      animate: ['spin', 'ping', 'pulse', 'bounce'],\n      aspect: ['video'],\n      blur: [isTshirtSize],\n      breakpoint: [isTshirtSize],\n      color: [isAny],\n      container: [isTshirtSize],\n      'drop-shadow': [isTshirtSize],\n      ease: ['in', 'out', 'in-out'],\n      font: [isAnyNonArbitrary],\n      'font-weight': ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black'],\n      'inset-shadow': [isTshirtSize],\n      leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose'],\n      perspective: ['dramatic', 'near', 'normal', 'midrange', 'distant', 'none'],\n      radius: [isTshirtSize],\n      shadow: [isTshirtSize],\n      spacing: ['px', isNumber],\n      text: [isTshirtSize],\n      'text-shadow': [isTshirtSize],\n      tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest']\n    },\n    classGroups: {\n      // --------------\n      // --- Layout ---\n      // --------------\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', isFraction, isArbitraryValue, isArbitraryVariable, themeAspect]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       * @deprecated since Tailwind CSS v4.0.0\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isNumber, isArbitraryValue, isArbitraryVariable, themeContainer]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': scaleBreak()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': scaleBreak()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Screen Reader Only\n       * @see https://tailwindcss.com/docs/display#screen-reader-only\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: scalePositionWithArbitrary()\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: scaleOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': scaleOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': scaleOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': scaleOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: scaleInset()\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': scaleInset()\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': scaleInset()\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: scaleInset()\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: scaleInset()\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: scaleInset()\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: scaleInset()\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: scaleInset()\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: scaleInset()\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: [isInteger, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------------\n      // --- Flexbox and Grid ---\n      // ------------------------\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: [isFraction, 'full', 'auto', themeContainer, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['nowrap', 'wrap', 'wrap-reverse']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: [isNumber, isFraction, 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: [isInteger, 'first', 'last', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': scaleGridAutoColsRows()\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': scaleGridAutoColsRows()\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: [...scaleAlignPrimaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': [...scaleAlignSecondaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...scaleAlignPrimaryAxis()]\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: [...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', ...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': scaleAlignPrimaryAxis()\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': [...scaleAlignSecondaryAxis(), 'baseline']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: scaleMargin()\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: scaleMargin()\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: scaleMargin()\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: scaleMargin()\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: scaleMargin()\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: scaleMargin()\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: scaleMargin()\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: scaleMargin()\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: scaleMargin()\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x': [{\n        'space-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y': [{\n        'space-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // --------------\n      // --- Sizing ---\n      // --------------\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/width#setting-both-width-and-height\n       */\n      size: [{\n        size: scaleSizing()\n      }],\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: [themeContainer, 'screen', ...scaleSizing()]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [themeContainer, 'screen', /** Deprecated. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [themeContainer, 'screen', 'none', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'prose', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        {\n          screen: [themeBreakpoint]\n        }, ...scaleSizing()]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: ['screen', 'lh', ...scaleSizing()]\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': ['screen', 'lh', 'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': ['screen', 'lh', ...scaleSizing()]\n      }],\n      // ------------------\n      // --- Typography ---\n      // ------------------\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', themeText, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: [themeFontWeight, isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Font Stretch\n       * @see https://tailwindcss.com/docs/font-stretch\n       */\n      'font-stretch': [{\n        'font-stretch': ['ultra-condensed', 'extra-condensed', 'condensed', 'semi-condensed', 'normal', 'semi-expanded', 'expanded', 'extra-expanded', 'ultra-expanded', isPercent, isArbitraryValue]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isArbitraryVariableFamilyName, isArbitraryValue, themeFont]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractions'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: [themeTracking, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': [isNumber, 'none', isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: [/** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        themeLeading, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['disc', 'decimal', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://v3.tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: scaleColor()\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: scaleColor()\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...scaleLineStyle(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: [isNumber, 'from-font', 'auto', isArbitraryVariable, isArbitraryLength]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: scaleColor()\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': [isNumber, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Overflow Wrap\n       * @see https://tailwindcss.com/docs/overflow-wrap\n       */\n      wrap: [{\n        wrap: ['break-word', 'anywhere', 'normal']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -------------------\n      // --- Backgrounds ---\n      // -------------------\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: scaleBgPosition()\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: scaleBgRepeat()\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: scaleBgSize()\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          linear: [{\n            to: ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n          }, isInteger, isArbitraryVariable, isArbitraryValue],\n          radial: ['', isArbitraryVariable, isArbitraryValue],\n          conic: [isInteger, isArbitraryVariable, isArbitraryValue]\n        }, isArbitraryVariableImage, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: scaleColor()\n      }],\n      // ---------------\n      // --- Borders ---\n      // ---------------\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: scaleRadius()\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': scaleRadius()\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': scaleRadius()\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': scaleRadius()\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': scaleRadius()\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': scaleRadius()\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': scaleRadius()\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': scaleRadius()\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': scaleRadius()\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': scaleRadius()\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: scaleBorderWidth()\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': scaleBorderWidth()\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x': [{\n        'divide-x': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y': [{\n        'divide-y': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/border-style#setting-the-divider-style\n       */\n      'divide-style': [{\n        divide: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: scaleColor()\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': scaleColor()\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': scaleColor()\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': scaleColor()\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': scaleColor()\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': scaleColor()\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': scaleColor()\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': scaleColor()\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': scaleColor()\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: scaleColor()\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: [...scaleLineStyle(), 'none', 'hidden']\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: ['', isNumber, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: scaleColor()\n      }],\n      // ---------------\n      // --- Effects ---\n      // ---------------\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-shadow-color\n       */\n      'shadow-color': [{\n        shadow: scaleColor()\n      }],\n      /**\n       * Inset Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-shadow\n       */\n      'inset-shadow': [{\n        'inset-shadow': ['none', themeInsetShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Inset Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-shadow-color\n       */\n      'inset-shadow-color': [{\n        'inset-shadow': scaleColor()\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-a-ring\n       */\n      'ring-w': [{\n        ring: scaleBorderWidth()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://v3.tailwindcss.com/docs/ring-width#inset-rings\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-ring-color\n       */\n      'ring-color': [{\n        ring: scaleColor()\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://v3.tailwindcss.com/docs/ring-offset-width\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isNumber, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://v3.tailwindcss.com/docs/ring-offset-color\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-color': [{\n        'ring-offset': scaleColor()\n      }],\n      /**\n       * Inset Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-ring\n       */\n      'inset-ring-w': [{\n        'inset-ring': scaleBorderWidth()\n      }],\n      /**\n       * Inset Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-ring-color\n       */\n      'inset-ring-color': [{\n        'inset-ring': scaleColor()\n      }],\n      /**\n       * Text Shadow\n       * @see https://tailwindcss.com/docs/text-shadow\n       */\n      'text-shadow': [{\n        'text-shadow': ['none', themeTextShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Text Shadow Color\n       * @see https://tailwindcss.com/docs/text-shadow#setting-the-shadow-color\n       */\n      'text-shadow-color': [{\n        'text-shadow': scaleColor()\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...scaleBlendMode(), 'plus-darker', 'plus-lighter']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': scaleBlendMode()\n      }],\n      /**\n       * Mask Clip\n       * @see https://tailwindcss.com/docs/mask-clip\n       */\n      'mask-clip': [{\n        'mask-clip': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }, 'mask-no-clip'],\n      /**\n       * Mask Composite\n       * @see https://tailwindcss.com/docs/mask-composite\n       */\n      'mask-composite': [{\n        mask: ['add', 'subtract', 'intersect', 'exclude']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image-linear-pos': [{\n        'mask-linear': [isNumber]\n      }],\n      'mask-image-linear-from-pos': [{\n        'mask-linear-from': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-to-pos': [{\n        'mask-linear-to': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-from-color': [{\n        'mask-linear-from': scaleColor()\n      }],\n      'mask-image-linear-to-color': [{\n        'mask-linear-to': scaleColor()\n      }],\n      'mask-image-t-from-pos': [{\n        'mask-t-from': scaleMaskImagePosition()\n      }],\n      'mask-image-t-to-pos': [{\n        'mask-t-to': scaleMaskImagePosition()\n      }],\n      'mask-image-t-from-color': [{\n        'mask-t-from': scaleColor()\n      }],\n      'mask-image-t-to-color': [{\n        'mask-t-to': scaleColor()\n      }],\n      'mask-image-r-from-pos': [{\n        'mask-r-from': scaleMaskImagePosition()\n      }],\n      'mask-image-r-to-pos': [{\n        'mask-r-to': scaleMaskImagePosition()\n      }],\n      'mask-image-r-from-color': [{\n        'mask-r-from': scaleColor()\n      }],\n      'mask-image-r-to-color': [{\n        'mask-r-to': scaleColor()\n      }],\n      'mask-image-b-from-pos': [{\n        'mask-b-from': scaleMaskImagePosition()\n      }],\n      'mask-image-b-to-pos': [{\n        'mask-b-to': scaleMaskImagePosition()\n      }],\n      'mask-image-b-from-color': [{\n        'mask-b-from': scaleColor()\n      }],\n      'mask-image-b-to-color': [{\n        'mask-b-to': scaleColor()\n      }],\n      'mask-image-l-from-pos': [{\n        'mask-l-from': scaleMaskImagePosition()\n      }],\n      'mask-image-l-to-pos': [{\n        'mask-l-to': scaleMaskImagePosition()\n      }],\n      'mask-image-l-from-color': [{\n        'mask-l-from': scaleColor()\n      }],\n      'mask-image-l-to-color': [{\n        'mask-l-to': scaleColor()\n      }],\n      'mask-image-x-from-pos': [{\n        'mask-x-from': scaleMaskImagePosition()\n      }],\n      'mask-image-x-to-pos': [{\n        'mask-x-to': scaleMaskImagePosition()\n      }],\n      'mask-image-x-from-color': [{\n        'mask-x-from': scaleColor()\n      }],\n      'mask-image-x-to-color': [{\n        'mask-x-to': scaleColor()\n      }],\n      'mask-image-y-from-pos': [{\n        'mask-y-from': scaleMaskImagePosition()\n      }],\n      'mask-image-y-to-pos': [{\n        'mask-y-to': scaleMaskImagePosition()\n      }],\n      'mask-image-y-from-color': [{\n        'mask-y-from': scaleColor()\n      }],\n      'mask-image-y-to-color': [{\n        'mask-y-to': scaleColor()\n      }],\n      'mask-image-radial': [{\n        'mask-radial': [isArbitraryVariable, isArbitraryValue]\n      }],\n      'mask-image-radial-from-pos': [{\n        'mask-radial-from': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-to-pos': [{\n        'mask-radial-to': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-from-color': [{\n        'mask-radial-from': scaleColor()\n      }],\n      'mask-image-radial-to-color': [{\n        'mask-radial-to': scaleColor()\n      }],\n      'mask-image-radial-shape': [{\n        'mask-radial': ['circle', 'ellipse']\n      }],\n      'mask-image-radial-size': [{\n        'mask-radial': [{\n          closest: ['side', 'corner'],\n          farthest: ['side', 'corner']\n        }]\n      }],\n      'mask-image-radial-pos': [{\n        'mask-radial-at': scalePosition()\n      }],\n      'mask-image-conic-pos': [{\n        'mask-conic': [isNumber]\n      }],\n      'mask-image-conic-from-pos': [{\n        'mask-conic-from': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-to-pos': [{\n        'mask-conic-to': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-from-color': [{\n        'mask-conic-from': scaleColor()\n      }],\n      'mask-image-conic-to-color': [{\n        'mask-conic-to': scaleColor()\n      }],\n      /**\n       * Mask Mode\n       * @see https://tailwindcss.com/docs/mask-mode\n       */\n      'mask-mode': [{\n        mask: ['alpha', 'luminance', 'match']\n      }],\n      /**\n       * Mask Origin\n       * @see https://tailwindcss.com/docs/mask-origin\n       */\n      'mask-origin': [{\n        'mask-origin': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }],\n      /**\n       * Mask Position\n       * @see https://tailwindcss.com/docs/mask-position\n       */\n      'mask-position': [{\n        mask: scaleBgPosition()\n      }],\n      /**\n       * Mask Repeat\n       * @see https://tailwindcss.com/docs/mask-repeat\n       */\n      'mask-repeat': [{\n        mask: scaleBgRepeat()\n      }],\n      /**\n       * Mask Size\n       * @see https://tailwindcss.com/docs/mask-size\n       */\n      'mask-size': [{\n        mask: scaleBgSize()\n      }],\n      /**\n       * Mask Type\n       * @see https://tailwindcss.com/docs/mask-type\n       */\n      'mask-type': [{\n        'mask-type': ['alpha', 'luminance']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image': [{\n        mask: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ---------------\n      // --- Filters ---\n      // ---------------\n      /**\n       * Filter\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: scaleBlur()\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeDropShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Drop Shadow Color\n       * @see https://tailwindcss.com/docs/filter-drop-shadow#setting-the-shadow-color\n       */\n      'drop-shadow-color': [{\n        'drop-shadow': scaleColor()\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Filter\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': scaleBlur()\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      // --------------\n      // --- Tables ---\n      // --------------\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // ---------------------------------\n      // --- Transitions and Animation ---\n      // ---------------------------------\n      /**\n       * Transition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['', 'all', 'colors', 'opacity', 'shadow', 'transform', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Behavior\n       * @see https://tailwindcss.com/docs/transition-behavior\n       */\n      'transition-behavior': [{\n        transition: ['normal', 'discrete']\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: [isNumber, 'initial', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'initial', themeEase, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', themeAnimate, isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------\n      // --- Transforms ---\n      // ------------------\n      /**\n       * Backface Visibility\n       * @see https://tailwindcss.com/docs/backface-visibility\n       */\n      backface: [{\n        backface: ['hidden', 'visible']\n      }],\n      /**\n       * Perspective\n       * @see https://tailwindcss.com/docs/perspective\n       */\n      perspective: [{\n        perspective: [themePerspective, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Perspective Origin\n       * @see https://tailwindcss.com/docs/perspective-origin\n       */\n      'perspective-origin': [{\n        'perspective-origin': scalePositionWithArbitrary()\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: scaleRotate()\n      }],\n      /**\n       * Rotate X\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-x': [{\n        'rotate-x': scaleRotate()\n      }],\n      /**\n       * Rotate Y\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-y': [{\n        'rotate-y': scaleRotate()\n      }],\n      /**\n       * Rotate Z\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-z': [{\n        'rotate-z': scaleRotate()\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: scaleScale()\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': scaleScale()\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': scaleScale()\n      }],\n      /**\n       * Scale Z\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-z': [{\n        'scale-z': scaleScale()\n      }],\n      /**\n       * Scale 3D\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-3d': ['scale-3d'],\n      /**\n       * Skew\n       * @see https://tailwindcss.com/docs/skew\n       */\n      skew: [{\n        skew: scaleSkew()\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': scaleSkew()\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': scaleSkew()\n      }],\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: [isArbitraryVariable, isArbitraryValue, '', 'none', 'gpu', 'cpu']\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: scalePositionWithArbitrary()\n      }],\n      /**\n       * Transform Style\n       * @see https://tailwindcss.com/docs/transform-style\n       */\n      'transform-style': [{\n        transform: ['3d', 'flat']\n      }],\n      /**\n       * Translate\n       * @see https://tailwindcss.com/docs/translate\n       */\n      translate: [{\n        translate: scaleTranslate()\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': scaleTranslate()\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': scaleTranslate()\n      }],\n      /**\n       * Translate Z\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-z': [{\n        'translate-z': scaleTranslate()\n      }],\n      /**\n       * Translate None\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-none': ['translate-none'],\n      // ---------------------\n      // --- Interactivity ---\n      // ---------------------\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: scaleColor()\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: scaleColor()\n      }],\n      /**\n       * Color Scheme\n       * @see https://tailwindcss.com/docs/color-scheme\n       */\n      'color-scheme': [{\n        scheme: ['normal', 'dark', 'light', 'light-dark', 'only-dark', 'only-light']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Field Sizing\n       * @see https://tailwindcss.com/docs/field-sizing\n       */\n      'field-sizing': [{\n        'field-sizing': ['fixed', 'content']\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['auto', 'none']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', '', 'y', 'x']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -----------\n      // --- SVG ---\n      // -----------\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: ['none', ...scaleColor()]\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isNumber, isArbitraryVariableLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: ['none', ...scaleColor()]\n      }],\n      // ---------------------\n      // --- Accessibility ---\n      // ---------------------\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-x', 'border-w-y', 'border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-x', 'border-color-y', 'border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      translate: ['translate-x', 'translate-y', 'translate-none'],\n      'translate-none': ['translate', 'translate-x', 'translate-y', 'translate-z'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    },\n    orderSensitiveModifiers: ['*', '**', 'after', 'backdrop', 'before', 'details-content', 'file', 'first-letter', 'first-line', 'marker', 'placeholder', 'selection']\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  overrideConfigProperties(baseConfig.theme, override.theme);\n  overrideConfigProperties(baseConfig.classGroups, override.classGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroups, override.conflictingClassGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroupModifiers, override.conflictingClassGroupModifiers);\n  overrideProperty(baseConfig, 'orderSensitiveModifiers', override.orderSensitiveModifiers);\n  mergeConfigProperties(baseConfig.theme, extend.theme);\n  mergeConfigProperties(baseConfig.classGroups, extend.classGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroups, extend.conflictingClassGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroupModifiers, extend.conflictingClassGroupModifiers);\n  mergeArrayProperties(baseConfig, extend, 'orderSensitiveModifiers');\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      mergeArrayProperties(baseObject, mergeObject, key);\n    }\n  }\n};\nconst mergeArrayProperties = (baseObject, mergeObject, key) => {\n  const mergeValue = mergeObject[key];\n  if (mergeValue !== undefined) {\n    baseObject[key] = baseObject[key] ? baseObject[key].concat(mergeValue) : mergeValue;\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n","import * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />;\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  );\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  );\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  );\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean;\n  variant?: \"default\" | \"destructive\";\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n};\n","/**\n * Copyright 2022 Joe Bell. All rights reserved.\n *\n * This file is licensed to you under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with the\n * License. You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR REPRESENTATIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */ import { clsx } from \"clsx\";\nconst falsyToString = (value)=>typeof value === \"boolean\" ? `${value}` : value === 0 ? \"0\" : value;\nexport const cx = clsx;\nexport const cva = (base, config)=>(props)=>{\n        var _config_compoundVariants;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n        const { variants, defaultVariants } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props === null || props === void 0 ? void 0 : props[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props && Object.entries(props).reduce((acc, param)=>{\n            let [key, value] = param;\n            if (value === undefined) {\n                return acc;\n            }\n            acc[key] = value;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (_config_compoundVariants = config.compoundVariants) === null || _config_compoundVariants === void 0 ? void 0 : _config_compoundVariants.reduce((acc, param)=>{\n            let { class: cvClass, className: cvClassName, ...compoundVariantOptions } = param;\n            return Object.entries(compoundVariantOptions).every((param)=>{\n                let [key, value] = param;\n                return Array.isArray(value) ? value.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n    };\n\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-transparent shadow-xs hover:bg-accent dark:bg-transparent dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n","// src/visually-hidden.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar VISUALLY_HIDDEN_STYLES = Object.freeze({\n  // See: https://github.com/twbs/bootstrap/blob/main/scss/mixins/_visually-hidden.scss\n  position: \"absolute\",\n  border: 0,\n  width: 1,\n  height: 1,\n  padding: 0,\n  margin: -1,\n  overflow: \"hidden\",\n  clip: \"rect(0, 0, 0, 0)\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\"\n});\nvar NAME = \"VisuallyHidden\";\nvar VisuallyHidden = React.forwardRef(\n  (props, forwardedRef) => {\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...props,\n        ref: forwardedRef,\n        style: { ...VISUALLY_HIDDEN_STYLES, ...props.style }\n      }\n    );\n  }\n);\nVisuallyHidden.displayName = NAME;\nvar Root = VisuallyHidden;\nexport {\n  Root,\n  VISUALLY_HIDDEN_STYLES,\n  VisuallyHidden\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/tooltip.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlottable } from \"@radix-ui/react-slot\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport * as VisuallyHiddenPrimitive from \"@radix-ui/react-visually-hidden\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar [createTooltipContext, createTooltipScope] = createContextScope(\"Tooltip\", [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar PROVIDER_NAME = \"TooltipProvider\";\nvar DEFAULT_DELAY_DURATION = 700;\nvar TOOLTIP_OPEN = \"tooltip.open\";\nvar [TooltipProviderContextProvider, useTooltipProviderContext] = createTooltipContext(PROVIDER_NAME);\nvar TooltipProvider = (props) => {\n  const {\n    __scopeTooltip,\n    delayDuration = DEFAULT_DELAY_DURATION,\n    skipDelayDuration = 300,\n    disableHoverableContent = false,\n    children\n  } = props;\n  const isOpenDelayedRef = React.useRef(true);\n  const isPointerInTransitRef = React.useRef(false);\n  const skipDelayTimerRef = React.useRef(0);\n  React.useEffect(() => {\n    const skipDelayTimer = skipDelayTimerRef.current;\n    return () => window.clearTimeout(skipDelayTimer);\n  }, []);\n  return /* @__PURE__ */ jsx(\n    TooltipProviderContextProvider,\n    {\n      scope: __scopeTooltip,\n      isOpenDelayedRef,\n      delayDuration,\n      onOpen: React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        isOpenDelayedRef.current = false;\n      }, []),\n      onClose: React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        skipDelayTimerRef.current = window.setTimeout(\n          () => isOpenDelayedRef.current = true,\n          skipDelayDuration\n        );\n      }, [skipDelayDuration]),\n      isPointerInTransitRef,\n      onPointerInTransitChange: React.useCallback((inTransit) => {\n        isPointerInTransitRef.current = inTransit;\n      }, []),\n      disableHoverableContent,\n      children\n    }\n  );\n};\nTooltipProvider.displayName = PROVIDER_NAME;\nvar TOOLTIP_NAME = \"Tooltip\";\nvar [TooltipContextProvider, useTooltipContext] = createTooltipContext(TOOLTIP_NAME);\nvar Tooltip = (props) => {\n  const {\n    __scopeTooltip,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    disableHoverableContent: disableHoverableContentProp,\n    delayDuration: delayDurationProp\n  } = props;\n  const providerContext = useTooltipProviderContext(TOOLTIP_NAME, props.__scopeTooltip);\n  const popperScope = usePopperScope(__scopeTooltip);\n  const [trigger, setTrigger] = React.useState(null);\n  const contentId = useId();\n  const openTimerRef = React.useRef(0);\n  const disableHoverableContent = disableHoverableContentProp ?? providerContext.disableHoverableContent;\n  const delayDuration = delayDurationProp ?? providerContext.delayDuration;\n  const wasOpenDelayedRef = React.useRef(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: (open2) => {\n      if (open2) {\n        providerContext.onOpen();\n        document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN));\n      } else {\n        providerContext.onClose();\n      }\n      onOpenChange?.(open2);\n    },\n    caller: TOOLTIP_NAME\n  });\n  const stateAttribute = React.useMemo(() => {\n    return open ? wasOpenDelayedRef.current ? \"delayed-open\" : \"instant-open\" : \"closed\";\n  }, [open]);\n  const handleOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    wasOpenDelayedRef.current = false;\n    setOpen(true);\n  }, [setOpen]);\n  const handleClose = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    setOpen(false);\n  }, [setOpen]);\n  const handleDelayedOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => {\n      wasOpenDelayedRef.current = true;\n      setOpen(true);\n      openTimerRef.current = 0;\n    }, delayDuration);\n  }, [delayDuration, setOpen]);\n  React.useEffect(() => {\n    return () => {\n      if (openTimerRef.current) {\n        window.clearTimeout(openTimerRef.current);\n        openTimerRef.current = 0;\n      }\n    };\n  }, []);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    TooltipContextProvider,\n    {\n      scope: __scopeTooltip,\n      contentId,\n      open,\n      stateAttribute,\n      trigger,\n      onTriggerChange: setTrigger,\n      onTriggerEnter: React.useCallback(() => {\n        if (providerContext.isOpenDelayedRef.current) handleDelayedOpen();\n        else handleOpen();\n      }, [providerContext.isOpenDelayedRef, handleDelayedOpen, handleOpen]),\n      onTriggerLeave: React.useCallback(() => {\n        if (disableHoverableContent) {\n          handleClose();\n        } else {\n          window.clearTimeout(openTimerRef.current);\n          openTimerRef.current = 0;\n        }\n      }, [handleClose, disableHoverableContent]),\n      onOpen: handleOpen,\n      onClose: handleClose,\n      disableHoverableContent,\n      children\n    }\n  ) });\n};\nTooltip.displayName = TOOLTIP_NAME;\nvar TRIGGER_NAME = \"TooltipTrigger\";\nvar TooltipTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...triggerProps } = props;\n    const context = useTooltipContext(TRIGGER_NAME, __scopeTooltip);\n    const providerContext = useTooltipProviderContext(TRIGGER_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onTriggerChange);\n    const isPointerDownRef = React.useRef(false);\n    const hasPointerMoveOpenedRef = React.useRef(false);\n    const handlePointerUp = React.useCallback(() => isPointerDownRef.current = false, []);\n    React.useEffect(() => {\n      return () => document.removeEventListener(\"pointerup\", handlePointerUp);\n    }, [handlePointerUp]);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        \"aria-describedby\": context.open ? context.contentId : void 0,\n        \"data-state\": context.stateAttribute,\n        ...triggerProps,\n        ref: composedRefs,\n        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n          if (event.pointerType === \"touch\") return;\n          if (!hasPointerMoveOpenedRef.current && !providerContext.isPointerInTransitRef.current) {\n            context.onTriggerEnter();\n            hasPointerMoveOpenedRef.current = true;\n          }\n        }),\n        onPointerLeave: composeEventHandlers(props.onPointerLeave, () => {\n          context.onTriggerLeave();\n          hasPointerMoveOpenedRef.current = false;\n        }),\n        onPointerDown: composeEventHandlers(props.onPointerDown, () => {\n          if (context.open) {\n            context.onClose();\n          }\n          isPointerDownRef.current = true;\n          document.addEventListener(\"pointerup\", handlePointerUp, { once: true });\n        }),\n        onFocus: composeEventHandlers(props.onFocus, () => {\n          if (!isPointerDownRef.current) context.onOpen();\n        }),\n        onBlur: composeEventHandlers(props.onBlur, context.onClose),\n        onClick: composeEventHandlers(props.onClick, context.onClose)\n      }\n    ) });\n  }\n);\nTooltipTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"TooltipPortal\";\nvar [PortalProvider, usePortalContext] = createTooltipContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar TooltipPortal = (props) => {\n  const { __scopeTooltip, forceMount, children, container } = props;\n  const context = useTooltipContext(PORTAL_NAME, __scopeTooltip);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeTooltip, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nTooltipPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"TooltipContent\";\nvar TooltipContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeTooltip);\n    const { forceMount = portalContext.forceMount, side = \"top\", ...contentProps } = props;\n    const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.disableHoverableContent ? /* @__PURE__ */ jsx(TooltipContentImpl, { side, ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(TooltipContentHoverable, { side, ...contentProps, ref: forwardedRef }) });\n  }\n);\nvar TooltipContentHoverable = React.forwardRef((props, forwardedRef) => {\n  const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n  const providerContext = useTooltipProviderContext(CONTENT_NAME, props.__scopeTooltip);\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const [pointerGraceArea, setPointerGraceArea] = React.useState(null);\n  const { trigger, onClose } = context;\n  const content = ref.current;\n  const { onPointerInTransitChange } = providerContext;\n  const handleRemoveGraceArea = React.useCallback(() => {\n    setPointerGraceArea(null);\n    onPointerInTransitChange(false);\n  }, [onPointerInTransitChange]);\n  const handleCreateGraceArea = React.useCallback(\n    (event, hoverTarget) => {\n      const currentTarget = event.currentTarget;\n      const exitPoint = { x: event.clientX, y: event.clientY };\n      const exitSide = getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n      const paddedExitPoints = getPaddedExitPoints(exitPoint, exitSide);\n      const hoverTargetPoints = getPointsFromRect(hoverTarget.getBoundingClientRect());\n      const graceArea = getHull([...paddedExitPoints, ...hoverTargetPoints]);\n      setPointerGraceArea(graceArea);\n      onPointerInTransitChange(true);\n    },\n    [onPointerInTransitChange]\n  );\n  React.useEffect(() => {\n    return () => handleRemoveGraceArea();\n  }, [handleRemoveGraceArea]);\n  React.useEffect(() => {\n    if (trigger && content) {\n      const handleTriggerLeave = (event) => handleCreateGraceArea(event, content);\n      const handleContentLeave = (event) => handleCreateGraceArea(event, trigger);\n      trigger.addEventListener(\"pointerleave\", handleTriggerLeave);\n      content.addEventListener(\"pointerleave\", handleContentLeave);\n      return () => {\n        trigger.removeEventListener(\"pointerleave\", handleTriggerLeave);\n        content.removeEventListener(\"pointerleave\", handleContentLeave);\n      };\n    }\n  }, [trigger, content, handleCreateGraceArea, handleRemoveGraceArea]);\n  React.useEffect(() => {\n    if (pointerGraceArea) {\n      const handleTrackPointerGrace = (event) => {\n        const target = event.target;\n        const pointerPosition = { x: event.clientX, y: event.clientY };\n        const hasEnteredTarget = trigger?.contains(target) || content?.contains(target);\n        const isPointerOutsideGraceArea = !isPointInPolygon(pointerPosition, pointerGraceArea);\n        if (hasEnteredTarget) {\n          handleRemoveGraceArea();\n        } else if (isPointerOutsideGraceArea) {\n          handleRemoveGraceArea();\n          onClose();\n        }\n      };\n      document.addEventListener(\"pointermove\", handleTrackPointerGrace);\n      return () => document.removeEventListener(\"pointermove\", handleTrackPointerGrace);\n    }\n  }, [trigger, content, pointerGraceArea, onClose, handleRemoveGraceArea]);\n  return /* @__PURE__ */ jsx(TooltipContentImpl, { ...props, ref: composedRefs });\n});\nvar [VisuallyHiddenContentContextProvider, useVisuallyHiddenContentContext] = createTooltipContext(TOOLTIP_NAME, { isInside: false });\nvar Slottable = createSlottable(\"TooltipContent\");\nvar TooltipContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTooltip,\n      children,\n      \"aria-label\": ariaLabel,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      ...contentProps\n    } = props;\n    const context = useTooltipContext(CONTENT_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const { onClose } = context;\n    React.useEffect(() => {\n      document.addEventListener(TOOLTIP_OPEN, onClose);\n      return () => document.removeEventListener(TOOLTIP_OPEN, onClose);\n    }, [onClose]);\n    React.useEffect(() => {\n      if (context.trigger) {\n        const handleScroll = (event) => {\n          const target = event.target;\n          if (target?.contains(context.trigger)) onClose();\n        };\n        window.addEventListener(\"scroll\", handleScroll, { capture: true });\n        return () => window.removeEventListener(\"scroll\", handleScroll, { capture: true });\n      }\n    }, [context.trigger, onClose]);\n    return /* @__PURE__ */ jsx(\n      DismissableLayer,\n      {\n        asChild: true,\n        disableOutsidePointerEvents: false,\n        onEscapeKeyDown,\n        onPointerDownOutside,\n        onFocusOutside: (event) => event.preventDefault(),\n        onDismiss: onClose,\n        children: /* @__PURE__ */ jsxs(\n          PopperPrimitive.Content,\n          {\n            \"data-state\": context.stateAttribute,\n            ...popperScope,\n            ...contentProps,\n            ref: forwardedRef,\n            style: {\n              ...contentProps.style,\n              // re-namespace exposed content custom properties\n              ...{\n                \"--radix-tooltip-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                \"--radix-tooltip-content-available-width\": \"var(--radix-popper-available-width)\",\n                \"--radix-tooltip-content-available-height\": \"var(--radix-popper-available-height)\",\n                \"--radix-tooltip-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                \"--radix-tooltip-trigger-height\": \"var(--radix-popper-anchor-height)\"\n              }\n            },\n            children: [\n              /* @__PURE__ */ jsx(Slottable, { children }),\n              /* @__PURE__ */ jsx(VisuallyHiddenContentContextProvider, { scope: __scopeTooltip, isInside: true, children: /* @__PURE__ */ jsx(VisuallyHiddenPrimitive.Root, { id: context.contentId, role: \"tooltip\", children: ariaLabel || children }) })\n            ]\n          }\n        )\n      }\n    );\n  }\n);\nTooltipContent.displayName = CONTENT_NAME;\nvar ARROW_NAME = \"TooltipArrow\";\nvar TooltipArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeTooltip);\n    const visuallyHiddenContentContext = useVisuallyHiddenContentContext(\n      ARROW_NAME,\n      __scopeTooltip\n    );\n    return visuallyHiddenContentContext.isInside ? null : /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nTooltipArrow.displayName = ARROW_NAME;\nfunction getExitSideFromRect(point, rect) {\n  const top = Math.abs(rect.top - point.y);\n  const bottom = Math.abs(rect.bottom - point.y);\n  const right = Math.abs(rect.right - point.x);\n  const left = Math.abs(rect.left - point.x);\n  switch (Math.min(top, bottom, right, left)) {\n    case left:\n      return \"left\";\n    case right:\n      return \"right\";\n    case top:\n      return \"top\";\n    case bottom:\n      return \"bottom\";\n    default:\n      throw new Error(\"unreachable\");\n  }\n}\nfunction getPaddedExitPoints(exitPoint, exitSide, padding = 5) {\n  const paddedExitPoints = [];\n  switch (exitSide) {\n    case \"top\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y + padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"bottom\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y - padding }\n      );\n      break;\n    case \"left\":\n      paddedExitPoints.push(\n        { x: exitPoint.x + padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"right\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x - padding, y: exitPoint.y + padding }\n      );\n      break;\n  }\n  return paddedExitPoints;\n}\nfunction getPointsFromRect(rect) {\n  const { top, right, bottom, left } = rect;\n  return [\n    { x: left, y: top },\n    { x: right, y: top },\n    { x: right, y: bottom },\n    { x: left, y: bottom }\n  ];\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i];\n    const jj = polygon[j];\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction getHull(points) {\n  const newPoints = points.slice();\n  newPoints.sort((a, b) => {\n    if (a.x < b.x) return -1;\n    else if (a.x > b.x) return 1;\n    else if (a.y < b.y) return -1;\n    else if (a.y > b.y) return 1;\n    else return 0;\n  });\n  return getHullPresorted(newPoints);\n}\nfunction getHullPresorted(points) {\n  if (points.length <= 1) return points.slice();\n  const upperHull = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    while (upperHull.length >= 2) {\n      const q = upperHull[upperHull.length - 1];\n      const r = upperHull[upperHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) upperHull.pop();\n      else break;\n    }\n    upperHull.push(p);\n  }\n  upperHull.pop();\n  const lowerHull = [];\n  for (let i = points.length - 1; i >= 0; i--) {\n    const p = points[i];\n    while (lowerHull.length >= 2) {\n      const q = lowerHull[lowerHull.length - 1];\n      const r = lowerHull[lowerHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) lowerHull.pop();\n      else break;\n    }\n    lowerHull.push(p);\n  }\n  lowerHull.pop();\n  if (upperHull.length === 1 && lowerHull.length === 1 && upperHull[0].x === lowerHull[0].x && upperHull[0].y === lowerHull[0].y) {\n    return upperHull;\n  } else {\n    return upperHull.concat(lowerHull);\n  }\n}\nvar Provider = TooltipProvider;\nvar Root3 = Tooltip;\nvar Trigger = TooltipTrigger;\nvar Portal = TooltipPortal;\nvar Content2 = TooltipContent;\nvar Arrow2 = TooltipArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Portal,\n  Provider,\n  Root3 as Root,\n  Tooltip,\n  TooltipArrow,\n  TooltipContent,\n  TooltipPortal,\n  TooltipProvider,\n  TooltipTrigger,\n  Trigger,\n  createTooltipScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  );\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  );\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />;\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  );\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n","import { Editor, useEditorState } from '@tiptap/react';\nimport { memo } from 'react';\nimport {\n  Bold,\n  Italic,\n  Underline,\n  Strikethrough,\n  Code,\n  Link,\n  Highlighter,\n  Heading1,\n  Heading2,\n  Heading3,\n  Quote,\n  List,\n  ListOrdered,\n  CheckSquare,\n  Table,\n  Image,\n  Minus,\n  Undo,\n  Redo,\n  Copy,\n  Info,\n  AlertTriangle,\n  AlertCircle,\n  CheckCircle,\n  FileText,\n  Code2,\n  Rows,\n  Columns,\n  Plus,\n  Trash2,\n  ToggleLeft,\n  Palette,\n  X,\n  MoreHorizontal,\n  Type,\n  ListIcon,\n  PlusCircle,\n  IndentIncrease,\n  IndentDecrease,\n} from 'lucide-react';\nimport { useCallback, useState, useMemo } from 'react';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n} from '@/components/ui/dropdown-menu';\nimport { Button } from '@/components/ui/button';\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip';\n\n/*\n * DESIGN: Dark Mode Craftsman\n * Mobile-responsive toolbar with collapsible groups\n * Touch-friendly buttons with proper sizing\n */\n\ninterface EditorToolbarProps {\n  editor: Editor;\n  onCopyMarkdown?: () => void;\n  onOpenLinkPopover?: () => void;\n  onOpenFindReplace?: () => void;\n  className?: string;\n  disabledFeatures?: {\n    tables?: boolean;\n    images?: boolean;\n    codeBlocks?: boolean;\n    taskLists?: boolean;\n    callouts?: boolean;\n    datePills?: boolean;\n    wikiLinks?: boolean;\n    collapsibleHeadings?: boolean;\n    slashCommands?: boolean;\n    markdownPaste?: boolean;\n    dragAndDrop?: boolean;\n  };\n}\n\ninterface ToolbarButtonProps {\n  onClick: () => void;\n  isActive?: boolean;\n  disabled?: boolean;\n  children: React.ReactNode;\n  tooltip?: string;\n}\n\nconst ToolbarButton = ({ onClick, isActive, disabled, children, tooltip }: ToolbarButtonProps) => {\n  const button = (\n    <button\n      onClick={onClick}\n      disabled={disabled}\n      className={`\n        flex items-center justify-center w-9 h-9 sm:w-8 sm:h-8 rounded-md\n        transition-all duration-100 ease-out touch-manipulation\n        ${isActive \n          ? 'bg-primary text-primary-foreground' \n          : 'bg-transparent text-foreground hover:bg-secondary active:bg-secondary/80'\n        }\n        ${disabled ? 'opacity-50 cursor-not-allowed' : ''}\n      `}\n    >\n      {children}\n    </button>\n  );\n\n  if (tooltip) {\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent side=\"bottom\" className=\"text-xs hidden sm:block\">\n          {tooltip}\n        </TooltipContent>\n      </Tooltip>\n    );\n  }\n\n  return button;\n};\n\nconst Divider = () => (\n  <div className=\"w-px h-6 bg-border mx-0.5 hidden sm:block\" />\n);\n\nexport const EditorToolbar = memo(function EditorToolbar({ editor, onCopyMarkdown, onOpenLinkPopover, className = '' }: EditorToolbarProps) {\n  const [imageUrl, setImageUrl] = useState('');\n  const [showImageInput, setShowImageInput] = useState(false);\n\n  // Performance: Use useEditorState to only re-render when relevant toolbar states change\n  // instead of re-rendering on every transaction\n  const editorState = useEditorState({\n    editor,\n    selector: ({ editor: e }: { editor: Editor }) => ({\n      canUndo: e.can().undo(),\n      canRedo: e.can().redo(),\n      isBold: e.isActive('bold'),\n      isItalic: e.isActive('italic'),\n      isUnderline: e.isActive('underline'),\n      isStrike: e.isActive('strike'),\n      isCode: e.isActive('code'),\n      isHighlight: e.isActive('highlight'),\n      isH1: e.isActive('heading', { level: 1 }),\n      isH2: e.isActive('heading', { level: 2 }),\n      isH3: e.isActive('heading', { level: 3 }),\n      isBlockquote: e.isActive('blockquote'),\n      isBulletList: e.isActive('bulletList'),\n      isOrderedList: e.isActive('orderedList'),\n      isTaskList: e.isActive('taskList'),\n      isCodeBlock: e.isActive('codeBlock'),\n      isLink: e.isActive('link'),\n    }),\n  });\n\n  const addImage = useCallback(() => {\n    if (imageUrl) {\n      editor.chain().focus().setImage({ src: imageUrl }).run();\n      setImageUrl('');\n      setShowImageInput(false);\n    }\n  }, [editor, imageUrl]);\n\n  const addTable = useCallback(() => {\n    editor.chain().focus().insertTable({ rows: 3, cols: 3, withHeaderRow: true }).run();\n  }, [editor]);\n\n  const addCallout = useCallback((type: 'info' | 'warning' | 'error' | 'success' | 'note') => {\n    editor.chain().focus().insertCallout({ type }).run();\n  }, [editor]);\n\n  return (\n    <div className={`flex items-center gap-0.5 sm:gap-1 px-2 sm:px-3 py-1.5 sm:py-2 border-b border-border bg-card/50 overflow-x-auto scrollbar-hide ${className}`}>\n      {/* Undo/Redo - Always visible */}\n      <ToolbarButton\n        onClick={() => editor.chain().focus().undo().run()}\n        disabled={!editorState?.canUndo}\n        tooltip=\"Undo (Ctrl+Z)\"\n      >\n        <Undo size={18} className=\"sm:w-4 sm:h-4\" />\n      </ToolbarButton>\n      <ToolbarButton\n        onClick={() => editor.chain().focus().redo().run()}\n        disabled={!editorState?.canRedo}\n        tooltip=\"Redo (Ctrl+Shift+Z)\"\n      >\n        <Redo size={18} className=\"sm:w-4 sm:h-4\" />\n      </ToolbarButton>\n\n      <Divider />\n\n      {/* Text formatting - Visible on desktop, dropdown on mobile */}\n      <div className=\"hidden sm:flex items-center gap-0.5\">\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleBold().run()}\n          isActive={editorState?.isBold}\n          tooltip=\"Bold (Ctrl+B)\"\n        >\n          <Bold size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleItalic().run()}\n          isActive={editorState?.isItalic}\n          tooltip=\"Italic (Ctrl+I)\"\n        >\n          <Italic size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleUnderline().run()}\n          isActive={editorState?.isUnderline}\n          tooltip=\"Underline (Ctrl+U)\"\n        >\n          <Underline size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleStrike().run()}\n          isActive={editorState?.isStrike}\n          tooltip=\"Strikethrough\"\n        >\n          <Strikethrough size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleCode().run()}\n          isActive={editorState?.isCode}\n          tooltip=\"Inline Code (Ctrl+E)\"\n        >\n          <Code size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleHighlight().run()}\n          isActive={editorState?.isHighlight}\n          tooltip=\"Highlight\"\n        >\n          <Highlighter size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => onOpenLinkPopover?.()}\n          isActive={editorState?.isLink}\n          tooltip=\"Link (Ctrl+K)\"\n        >\n          <Link size={16} />\n        </ToolbarButton>\n      </div>\n\n      {/* Mobile: Text formatting dropdown */}\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-9 w-9 p-0 sm:hidden\">\n            <Type size={18} />\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"start\" className=\"w-48\">\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleBold().run()}>\n            <Bold size={16} className=\"mr-2\" /> Bold\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleItalic().run()}>\n            <Italic size={16} className=\"mr-2\" /> Italic\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleUnderline().run()}>\n            <Underline size={16} className=\"mr-2\" /> Underline\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleStrike().run()}>\n            <Strikethrough size={16} className=\"mr-2\" /> Strikethrough\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleCode().run()}>\n            <Code size={16} className=\"mr-2\" /> Inline Code\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleHighlight().run()}>\n            <Highlighter size={16} className=\"mr-2\" /> Highlight\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => onOpenLinkPopover?.()}>\n            <Link size={16} className=\"mr-2\" /> Link\n          </DropdownMenuItem>\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      <Divider />\n\n      {/* Headings dropdown */}\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-9 sm:h-8 px-1.5 sm:px-2 gap-1\">\n            <Heading1 size={18} className=\"sm:w-4 sm:h-4\" />\n            <span className=\"text-xs hidden sm:inline\">Heading</span>\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"start\">\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleHeading({ level: 1 }).run()}>\n            <Heading1 size={16} className=\"mr-2\" /> Heading 1\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleHeading({ level: 2 }).run()}>\n            <Heading2 size={16} className=\"mr-2\" /> Heading 2\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleHeading({ level: 3 }).run()}>\n            <Heading3 size={16} className=\"mr-2\" /> Heading 3\n          </DropdownMenuItem>\n          <DropdownMenuSeparator />\n          <DropdownMenuItem onClick={() => editor.chain().focus().setParagraph().run()}>\n            <FileText size={16} className=\"mr-2\" /> Paragraph\n          </DropdownMenuItem>\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      <Divider />\n\n      {/* Lists - Visible on desktop, dropdown on mobile */}\n      <div className=\"hidden md:flex items-center gap-0.5\">\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleBulletList().run()}\n          isActive={editorState?.isBulletList}\n          tooltip=\"Bullet List\"\n        >\n          <List size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleOrderedList().run()}\n          isActive={editorState?.isOrderedList}\n          tooltip=\"Numbered List\"\n        >\n          <ListOrdered size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleTaskList().run()}\n          isActive={editorState?.isTaskList}\n          tooltip=\"Task List\"\n        >\n          <CheckSquare size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleBlockquote().run()}\n          isActive={editorState?.isBlockquote}\n          tooltip=\"Quote\"\n        >\n          <Quote size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleCodeBlock().run()}\n          isActive={editorState?.isCodeBlock}\n          tooltip=\"Code Block\"\n        >\n          <Code2 size={16} />\n        </ToolbarButton>\n        <Divider />\n        <ToolbarButton\n          onClick={() => {\n            // Check if in task list or regular list and indent accordingly\n            if (editorState?.isTaskList) {\n              editor.chain().focus().sinkListItem('taskItem').run();\n            } else if (editorState?.isBulletList || editorState?.isOrderedList) {\n              editor.chain().focus().sinkListItem('listItem').run();\n            }\n          }}\n          disabled={!editorState?.isBulletList && !editorState?.isOrderedList && !editorState?.isTaskList}\n          tooltip=\"Indent (Tab)\"\n        >\n          <IndentIncrease size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => {\n            // Check if in task list or regular list and outdent accordingly\n            if (editorState?.isTaskList) {\n              editor.chain().focus().liftListItem('taskItem').run();\n            } else if (editorState?.isBulletList || editorState?.isOrderedList) {\n              editor.chain().focus().liftListItem('listItem').run();\n            }\n          }}\n          disabled={!editorState?.isBulletList && !editorState?.isOrderedList && !editorState?.isTaskList}\n          tooltip=\"Outdent (Shift+Tab)\"\n        >\n          <IndentDecrease size={16} />\n        </ToolbarButton>\n      </div>\n\n      {/* Mobile: Lists dropdown */}\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-9 w-9 p-0 md:hidden\">\n            <ListIcon size={18} />\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"start\" className=\"w-48\">\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleBulletList().run()}>\n            <List size={16} className=\"mr-2\" /> Bullet List\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleOrderedList().run()}>\n            <ListOrdered size={16} className=\"mr-2\" /> Numbered List\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleTaskList().run()}>\n            <CheckSquare size={16} className=\"mr-2\" /> Task List\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleBlockquote().run()}>\n            <Quote size={16} className=\"mr-2\" /> Quote\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => editor.chain().focus().toggleCodeBlock().run()}>\n            <Code2 size={16} className=\"mr-2\" /> Code Block\n          </DropdownMenuItem>\n          <DropdownMenuSeparator />\n          <DropdownMenuItem \n            onClick={() => {\n              if (editorState?.isTaskList) {\n                editor.chain().focus().sinkListItem('taskItem').run();\n              } else if (editorState?.isBulletList || editorState?.isOrderedList) {\n                editor.chain().focus().sinkListItem('listItem').run();\n              }\n            }}\n            disabled={!editorState?.isBulletList && !editorState?.isOrderedList && !editorState?.isTaskList}\n          >\n            <IndentIncrease size={16} className=\"mr-2\" /> Indent\n          </DropdownMenuItem>\n          <DropdownMenuItem \n            onClick={() => {\n              if (editorState?.isTaskList) {\n                editor.chain().focus().liftListItem('taskItem').run();\n              } else if (editorState?.isBulletList || editorState?.isOrderedList) {\n                editor.chain().focus().liftListItem('listItem').run();\n              }\n            }}\n            disabled={!editorState?.isBulletList && !editorState?.isOrderedList && !editorState?.isTaskList}\n          >\n            <IndentDecrease size={16} className=\"mr-2\" /> Outdent\n          </DropdownMenuItem>\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      <Divider />\n\n      {/* Insert elements - Inline on large screens, dropdown on smaller screens */}\n      {/* Desktop: Show Table, Image, HR, and Callout buttons inline */}\n      <div className=\"hidden lg:flex items-center gap-0.5\">\n        <ToolbarButton\n          onClick={addTable}\n          tooltip=\"Insert Table (3×3)\"\n        >\n          <Table size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => setShowImageInput(true)}\n          tooltip=\"Insert Image\"\n        >\n          <Image size={16} />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().setHorizontalRule().run()}\n          tooltip=\"Horizontal Rule\"\n        >\n          <Minus size={16} />\n        </ToolbarButton>\n        {/* Callout dropdown for desktop inline */}\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <button\n              className=\"flex items-center justify-center w-8 h-8 rounded-md transition-all duration-100 ease-out touch-manipulation bg-transparent text-foreground hover:bg-secondary active:bg-secondary/80\"\n              title=\"Insert Callout\"\n            >\n              <Info size={16} />\n            </button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"start\">\n            <DropdownMenuItem onClick={() => addCallout('info')}>\n              <Info size={16} className=\"mr-2 text-blue-400\" /> Info\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => addCallout('warning')}>\n              <AlertTriangle size={16} className=\"mr-2 text-yellow-400\" /> Warning\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => addCallout('error')}>\n              <AlertCircle size={16} className=\"mr-2 text-red-400\" /> Error\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => addCallout('success')}>\n              <CheckCircle size={16} className=\"mr-2 text-green-400\" /> Success\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => addCallout('note')}>\n              <FileText size={16} className=\"mr-2 text-purple-400\" /> Note\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n\n      {/* Mobile/Tablet: Insert elements dropdown */}\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-9 sm:h-8 px-1.5 sm:px-2 gap-1 lg:hidden\">\n            <PlusCircle size={18} className=\"sm:w-4 sm:h-4\" />\n            <span className=\"text-xs hidden sm:inline\">Insert</span>\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"start\" className=\"w-56\">\n          <DropdownMenuItem onClick={addTable}>\n            <Table size={16} className=\"mr-2\" /> Table (3×3)\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => setShowImageInput(true)}>\n            <Image size={16} className=\"mr-2\" /> Image\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={() => editor.chain().focus().setHorizontalRule().run()}>\n            <Minus size={16} className=\"mr-2\" /> Horizontal Rule\n          </DropdownMenuItem>\n          <DropdownMenuSeparator />\n          <DropdownMenuSub>\n            <DropdownMenuSubTrigger>\n              <Info size={16} className=\"mr-2\" /> Callout\n            </DropdownMenuSubTrigger>\n            <DropdownMenuSubContent>\n              <DropdownMenuItem onClick={() => addCallout('info')}>\n                <Info size={16} className=\"mr-2 text-blue-400\" /> Info\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => addCallout('warning')}>\n                <AlertTriangle size={16} className=\"mr-2 text-yellow-400\" /> Warning\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => addCallout('error')}>\n                <AlertCircle size={16} className=\"mr-2 text-red-400\" /> Error\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => addCallout('success')}>\n                <CheckCircle size={16} className=\"mr-2 text-green-400\" /> Success\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => addCallout('note')}>\n                <FileText size={16} className=\"mr-2 text-purple-400\" /> Note\n              </DropdownMenuItem>\n            </DropdownMenuSubContent>\n          </DropdownMenuSub>\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      {/* Table controls dropdown - Only when in table */}\n      {editor.isActive('table') && (\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button \n              variant=\"ghost\" \n              size=\"sm\" \n              className=\"h-9 sm:h-8 px-1.5 sm:px-2 gap-1 bg-primary/10\"\n            >\n              <Table size={18} className=\"sm:w-4 sm:h-4\" />\n              <span className=\"text-xs hidden sm:inline\">Table</span>\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"start\" className=\"w-56\">\n            <DropdownMenuItem \n              onClick={() => editor.chain().focus().addColumnBefore().run()}\n              disabled={!editor.can().addColumnBefore()}\n            >\n              <Columns size={16} className=\"mr-2\" /> Add Column Before\n            </DropdownMenuItem>\n            <DropdownMenuItem \n              onClick={() => editor.chain().focus().addColumnAfter().run()}\n              disabled={!editor.can().addColumnAfter()}\n            >\n              <Columns size={16} className=\"mr-2\" /> Add Column After\n            </DropdownMenuItem>\n            <DropdownMenuItem \n              onClick={() => editor.chain().focus().deleteColumn().run()}\n              disabled={!editor.can().deleteColumn()}\n            >\n              <Trash2 size={16} className=\"mr-2 text-destructive\" /> Delete Column\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem \n              onClick={() => editor.chain().focus().addRowBefore().run()}\n              disabled={!editor.can().addRowBefore()}\n            >\n              <Rows size={16} className=\"mr-2\" /> Add Row Before\n            </DropdownMenuItem>\n            <DropdownMenuItem \n              onClick={() => editor.chain().focus().addRowAfter().run()}\n              disabled={!editor.can().addRowAfter()}\n            >\n              <Rows size={16} className=\"mr-2\" /> Add Row After\n            </DropdownMenuItem>\n            <DropdownMenuItem \n              onClick={() => editor.chain().focus().deleteRow().run()}\n              disabled={!editor.can().deleteRow()}\n            >\n              <Trash2 size={16} className=\"mr-2 text-destructive\" /> Delete Row\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem \n              onClick={() => editor.chain().focus().toggleHeaderRow().run()}\n              disabled={!editor.can().toggleHeaderRow()}\n            >\n              <ToggleLeft size={16} className=\"mr-2\" /> Toggle Header Row\n            </DropdownMenuItem>\n            <DropdownMenuItem \n              onClick={() => editor.chain().focus().toggleHeaderColumn().run()}\n              disabled={!editor.can().toggleHeaderColumn()}\n            >\n              <ToggleLeft size={16} className=\"mr-2\" /> Toggle Header Column\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuSub>\n              <DropdownMenuSubTrigger>\n                <Palette size={16} className=\"mr-2\" /> Cell Background\n              </DropdownMenuSubTrigger>\n              <DropdownMenuSubContent className=\"w-48\">\n                <div className=\"p-2\">\n                  <div className=\"text-xs text-muted-foreground mb-2\">Quick Colors</div>\n                  <div className=\"grid grid-cols-6 gap-1 mb-2\">\n                    {[\n                      { color: '#ef4444', name: 'Red' },\n                      { color: '#f97316', name: 'Orange' },\n                      { color: '#eab308', name: 'Yellow' },\n                      { color: '#22c55e', name: 'Green' },\n                      { color: '#3b82f6', name: 'Blue' },\n                      { color: '#8b5cf6', name: 'Purple' },\n                      { color: '#ec4899', name: 'Pink' },\n                      { color: '#14b8a6', name: 'Teal' },\n                      { color: '#6366f1', name: 'Indigo' },\n                      { color: '#64748b', name: 'Slate' },\n                      { color: '#1e293b', name: 'Dark' },\n                      { color: '#f1f5f9', name: 'Light' },\n                    ].map(({ color, name }) => (\n                      <button\n                        key={color}\n                        onClick={() => editor.chain().focus().setCellBackground(color).run()}\n                        className=\"w-6 h-6 rounded border border-border hover:scale-110 transition-transform touch-manipulation\"\n                        style={{ backgroundColor: color }}\n                        title={name}\n                      />\n                    ))}\n                  </div>\n                  <div className=\"text-xs text-muted-foreground mb-1\">Custom Color</div>\n                  <input\n                    type=\"color\"\n                    defaultValue=\"#3b82f6\"\n                    onChange={(e) => editor.chain().focus().setCellBackground(e.target.value).run()}\n                    className=\"w-full h-8 rounded cursor-pointer border border-border\"\n                    style={{ backgroundColor: 'transparent' }}\n                  />\n                </div>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem onClick={() => editor.chain().focus().unsetCellBackground().run()}>\n                  <X size={16} className=\"mr-2\" /> Remove Background\n                </DropdownMenuItem>\n              </DropdownMenuSubContent>\n            </DropdownMenuSub>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem \n              onClick={() => editor.chain().focus().deleteTable().run()}\n              disabled={!editor.can().deleteTable()}\n              className=\"text-destructive\"\n            >\n              <Trash2 size={16} className=\"mr-2\" /> Delete Table\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      )}\n\n      {/* Image URL input modal */}\n      {showImageInput && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 sm:relative sm:inset-auto sm:bg-transparent sm:p-0\">\n          <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 p-4 sm:p-0 bg-card sm:bg-secondary rounded-lg sm:rounded-md w-full max-w-sm sm:max-w-none sm:w-auto\">\n            <input\n              type=\"url\"\n              placeholder=\"Image URL...\"\n              value={imageUrl}\n              onChange={(e) => setImageUrl(e.target.value)}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter') {\n                  e.preventDefault();\n                  addImage();\n                }\n                if (e.key === 'Escape') {\n                  setShowImageInput(false);\n                  setImageUrl('');\n                }\n              }}\n              className=\"bg-secondary sm:bg-transparent border sm:border-none rounded px-3 py-2 sm:py-0 outline-none text-sm w-full sm:w-40\"\n              autoFocus\n            />\n            <div className=\"flex gap-2 sm:gap-1\">\n              <button\n                onClick={addImage}\n                className=\"flex-1 sm:flex-none px-4 sm:px-2 py-2 sm:py-0.5 text-sm sm:text-xs bg-primary text-primary-foreground rounded\"\n              >\n                Add\n              </button>\n              <button\n                onClick={() => {\n                  setShowImageInput(false);\n                  setImageUrl('');\n                }}\n                className=\"flex-1 sm:flex-none px-4 sm:px-2 py-2 sm:py-0.5 text-sm sm:text-xs text-muted-foreground bg-secondary sm:bg-transparent rounded\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Spacer */}\n      <div className=\"flex-1 min-w-2\" />\n\n      {/* Copy as Markdown */}\n      {onCopyMarkdown && (\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button \n              variant=\"ghost\" \n              size=\"sm\" \n              className=\"h-9 sm:h-8 px-2 gap-1 shrink-0\" \n              onClick={onCopyMarkdown}\n            >\n              <Copy size={18} className=\"sm:w-4 sm:h-4\" />\n              <span className=\"text-xs hidden md:inline\">Copy MD</span>\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent side=\"bottom\" className=\"text-xs\">\n            Copy content as Markdown\n          </TooltipContent>\n        </Tooltip>\n      )}\n    </div>\n  );\n});\n\nexport default EditorToolbar;\n","import { Editor } from '@tiptap/react';\nimport { useCallback, useEffect, useState, useRef } from 'react';\nimport {\n  Search,\n  Replace,\n  ChevronUp,\n  ChevronDown,\n  X,\n  CaseSensitive,\n  Regex,\n  ReplaceAll,\n  WholeWord,\n  MousePointerClick,\n} from 'lucide-react';\n\n/*\n * DESIGN: Dark Mode Craftsman\n * Find and Replace panel with regex support, Select All Occurrences\n * Glassmorphic styling with keyboard navigation\n */\n\ninterface FindReplaceProps {\n  editor: Editor;\n  isOpen: boolean;\n  onClose: () => void;\n  focusTrigger?: number;\n  initialSearchQuery?: string;\n}\n\ninterface SearchMatch {\n  from: number;\n  to: number;\n  text: string;\n}\n\nexport function FindReplace({ editor, isOpen, onClose, focusTrigger = 0, initialSearchQuery }: FindReplaceProps) {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [replaceQuery, setReplaceQuery] = useState('');\n  const [caseSensitive, setCaseSensitive] = useState(false);\n  const [useRegex, setUseRegex] = useState(false);\n  const [wholeWord, setWholeWord] = useState(false);\n  const [showReplace, setShowReplace] = useState(false);\n  const [matches, setMatches] = useState<SearchMatch[]>([]);\n  const [currentMatchIndex, setCurrentMatchIndex] = useState(0);\n  const [regexError, setRegexError] = useState<string | null>(null);\n  const [isSelectAllActive, setIsSelectAllActive] = useState(false);\n  const closedBySelectAllRef = useRef(false);\n  \n  const searchInputRef = useRef<HTMLInputElement>(null);\n  const replaceInputRef = useRef<HTMLInputElement>(null);\n  const isNavigatingRef = useRef(false);\n\n  // Auto-fill search query from initialSearchQuery prop (when Cmd+F with selected text)\n  useEffect(() => {\n    if (isOpen && initialSearchQuery && initialSearchQuery.trim()) {\n      setSearchQuery(initialSearchQuery);\n    }\n  }, [isOpen, initialSearchQuery, focusTrigger]);\n\n  // Find all matches in the document\n  const findMatches = useCallback(() => {\n    if (!searchQuery || !editor) {\n      setMatches([]);\n      setCurrentMatchIndex(0);\n      setRegexError(null);\n      return;\n    }\n\n    const { doc } = editor.state;\n    const foundMatches: SearchMatch[] = [];\n    let searchPattern: RegExp;\n\n    try {\n      if (useRegex) {\n        searchPattern = new RegExp(searchQuery, caseSensitive ? 'g' : 'gi');\n      } else {\n        // Escape special regex characters for literal search\n        let escaped = searchQuery.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n        // Add word boundaries if whole word matching is enabled\n        if (wholeWord) {\n          escaped = `\\\\b${escaped}\\\\b`;\n        }\n        searchPattern = new RegExp(escaped, caseSensitive ? 'g' : 'gi');\n      }\n      setRegexError(null);\n    } catch (e) {\n      setRegexError((e as Error).message);\n      setMatches([]);\n      return;\n    }\n\n    // Search through all text nodes\n    doc.descendants((node, pos) => {\n      if (node.isText && node.text) {\n        let match;\n        while ((match = searchPattern.exec(node.text)) !== null) {\n          foundMatches.push({\n            from: pos + match.index,\n            to: pos + match.index + match[0].length,\n            text: match[0],\n          });\n        }\n      }\n      return true;\n    });\n\n    setMatches(foundMatches);\n    if (foundMatches.length > 0 && currentMatchIndex >= foundMatches.length) {\n      setCurrentMatchIndex(0);\n    }\n  }, [searchQuery, caseSensitive, useRegex, wholeWord, editor, currentMatchIndex]);\n\n  // Update matches when search parameters change\n  useEffect(() => {\n    findMatches();\n  }, [findMatches]);\n\n  // Update search highlighting in the editor\n  useEffect(() => {\n    if (!editor) return;\n    \n    // Check if the SearchHighlight extension is available\n    const hasSearchHighlight = typeof editor.commands.setSearchHighlight === 'function';\n    \n    if (isOpen && searchQuery && hasSearchHighlight) {\n      editor.commands.setSearchHighlight({\n        searchTerm: searchQuery,\n        caseSensitive,\n        useRegex,\n        currentMatchIndex,\n      });\n    } else if (hasSearchHighlight) {\n      editor.commands.clearSearchHighlight();\n    }\n  }, [editor, isOpen, searchQuery, caseSensitive, useRegex, currentMatchIndex]);\n\n  // Clear highlighting when panel closes\n  useEffect(() => {\n    if (!isOpen && editor) {\n      // Check if the SearchHighlight extension is available\n      const hasSearchHighlight = typeof editor.commands.clearSearchHighlight === 'function';\n      if (hasSearchHighlight) {\n        editor.commands.clearSearchHighlight();\n      }\n      // Only clear select-all-occurrences if the panel was NOT closed by the Select All action\n      if (!closedBySelectAllRef.current) {\n        const hasClearAll = typeof editor.commands.clearAllOccurrences === 'function';\n        if (hasClearAll) {\n          editor.commands.clearAllOccurrences();\n          setIsSelectAllActive(false);\n        }\n      }\n      closedBySelectAllRef.current = false;\n    }\n  }, [isOpen, editor]);\n\n  // Scroll to current match in editor (without selecting text to avoid floating toolbar)\n  useEffect(() => {\n    if (matches.length > 0 && currentMatchIndex < matches.length) {\n      const match = matches[currentMatchIndex];\n      \n      // Scroll to the match\n      const domAtPos = editor.view.domAtPos(match.from);\n      if (domAtPos.node) {\n        const element = domAtPos.node.parentElement;\n        element?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n      \n      // Reset navigation flag\n      if (isNavigatingRef.current) {\n        isNavigatingRef.current = false;\n      }\n    }\n  }, [currentMatchIndex, matches, editor]);\n\n  // Focus search input when opened or when focusTrigger changes\n  useEffect(() => {\n    if (isOpen && searchInputRef.current) {\n      searchInputRef.current.focus();\n      searchInputRef.current.select();\n    }\n  }, [isOpen, focusTrigger]);\n\n  // Navigate to next match\n  const goToNextMatch = useCallback(() => {\n    if (matches.length === 0) return;\n    isNavigatingRef.current = true;\n    setCurrentMatchIndex((prev) => (prev + 1) % matches.length);\n  }, [matches.length]);\n\n  // Navigate to previous match\n  const goToPrevMatch = useCallback(() => {\n    if (matches.length === 0) return;\n    isNavigatingRef.current = true;\n    setCurrentMatchIndex((prev) => (prev - 1 + matches.length) % matches.length);\n  }, [matches.length]);\n\n  // Replace current match\n  const replaceCurrent = useCallback(() => {\n    if (matches.length === 0 || currentMatchIndex >= matches.length) return;\n    \n    const match = matches[currentMatchIndex];\n    \n    editor\n      .chain()\n      .focus()\n      .setTextSelection({ from: match.from, to: match.to })\n      .deleteSelection()\n      .insertContent(replaceQuery)\n      .run();\n    \n    // Re-find matches after replacement\n    setTimeout(findMatches, 10);\n  }, [matches, currentMatchIndex, replaceQuery, editor, findMatches]);\n\n  // Replace all matches\n  const replaceAll = useCallback(() => {\n    if (matches.length === 0) return;\n    \n    // Replace from end to start to preserve positions\n    const sortedMatches = [...matches].sort((a, b) => b.from - a.from);\n    \n    editor.chain().focus();\n    \n    sortedMatches.forEach((match) => {\n      editor\n        .chain()\n        .setTextSelection({ from: match.from, to: match.to })\n        .deleteSelection()\n        .insertContent(replaceQuery)\n        .run();\n    });\n    \n    // Re-find matches after replacement\n    setTimeout(findMatches, 10);\n  }, [matches, replaceQuery, editor, findMatches]);\n\n  // Select All Occurrences - highlight all matches for batch operations\n  const selectAllOccurrences = useCallback(() => {\n    if (matches.length === 0 || !searchQuery) return;\n    \n    const hasCommand = typeof editor.commands.selectAllOccurrences === 'function';\n    if (!hasCommand) return;\n\n    const success = editor.commands.selectAllOccurrences({\n      searchTerm: searchQuery,\n      caseSensitive,\n      useRegex,\n      wholeWord,\n    });\n\n    if (success) {\n      setIsSelectAllActive(true);\n      // Mark that we're closing via Select All so the cleanup effect doesn't clear our decorations\n      closedBySelectAllRef.current = true;\n      // Clear the search highlight (yellow) but keep the select-all-occurrence highlight (blue)\n      const hasSearchHighlight = typeof editor.commands.clearSearchHighlight === 'function';\n      if (hasSearchHighlight) {\n        editor.commands.clearSearchHighlight();\n      }\n      onClose();\n      editor.commands.focus();\n    }\n  }, [matches, searchQuery, caseSensitive, useRegex, wholeWord, editor, onClose]);\n\n  // Handle keyboard shortcuts\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      if (e.shiftKey) {\n        goToPrevMatch();\n      } else {\n        goToNextMatch();\n      }\n      // Keep focus on search input after navigating\n      searchInputRef.current?.focus();\n    } else if (e.key === 'Escape') {\n      e.preventDefault();\n      onClose();\n    } else if (e.key === 'h' && (e.ctrlKey || e.metaKey)) {\n      e.preventDefault();\n      setShowReplace((prev) => !prev);\n    } else if (e.key === 'l' && (e.ctrlKey || e.metaKey) && e.shiftKey) {\n      // Cmd+Shift+L to select all occurrences\n      e.preventDefault();\n      selectAllOccurrences();\n    }\n  }, [goToNextMatch, goToPrevMatch, onClose, selectAllOccurrences]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div \n      className=\"find-replace-panel\"\n      onKeyDown={handleKeyDown}\n    >\n      {/* Search Row */}\n      <div className=\"find-replace-row\">\n        <div className=\"find-replace-input-wrapper\">\n          <Search size={14} className=\"find-replace-icon\" />\n          <input\n            ref={searchInputRef}\n            type=\"text\"\n            placeholder=\"Find...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className={`find-replace-input ${regexError ? 'has-error' : ''}`}\n          />\n          {regexError && (\n            <span className=\"find-replace-error\" title={regexError}>!</span>\n          )}\n        </div>\n        \n        {/* Match count */}\n        <span className=\"find-replace-count\">\n          {matches.length > 0 \n            ? `${currentMatchIndex + 1} of ${matches.length}`\n            : searchQuery ? 'No results' : ''\n          }\n        </span>\n        \n        {/* Navigation buttons */}\n        <button\n          onClick={goToPrevMatch}\n          disabled={matches.length === 0}\n          className=\"find-replace-btn\"\n          title=\"Previous match (Shift+Enter)\"\n        >\n          <ChevronUp size={16} />\n        </button>\n        <button\n          onClick={goToNextMatch}\n          disabled={matches.length === 0}\n          className=\"find-replace-btn\"\n          title=\"Next match (Enter)\"\n        >\n          <ChevronDown size={16} />\n        </button>\n        \n        {/* Select All Occurrences button */}\n        <button\n          onClick={selectAllOccurrences}\n          disabled={matches.length === 0}\n          className={`find-replace-btn ${isSelectAllActive ? 'active' : ''}`}\n          title={`Select all occurrences (${navigator.platform?.includes('Mac') ? '⌘' : 'Ctrl'}+Shift+L) — Apply formatting to all ${matches.length} matches`}\n        >\n          <MousePointerClick size={16} />\n        </button>\n\n        {/* Separator */}\n        <div className=\"find-replace-separator\" />\n        \n        {/* Options */}\n        <button\n          onClick={() => setCaseSensitive((prev) => !prev)}\n          className={`find-replace-btn ${caseSensitive ? 'active' : ''}`}\n          title=\"Match case\"\n        >\n          <CaseSensitive size={16} />\n        </button>\n        <button\n          onClick={() => setWholeWord((prev) => !prev)}\n          className={`find-replace-btn ${wholeWord ? 'active' : ''}`}\n          title=\"Match whole word\"\n        >\n          <WholeWord size={16} />\n        </button>\n        <button\n          onClick={() => setUseRegex((prev) => !prev)}\n          className={`find-replace-btn ${useRegex ? 'active' : ''}`}\n          title=\"Use regex\"\n        >\n          <Regex size={16} />\n        </button>\n        \n        {/* Toggle replace */}\n        <button\n          onClick={() => setShowReplace((prev) => !prev)}\n          className={`find-replace-btn ${showReplace ? 'active' : ''}`}\n          title=\"Toggle replace (Ctrl+H)\"\n        >\n          <Replace size={16} />\n        </button>\n        \n        {/* Close button */}\n        <button\n          onClick={onClose}\n          className=\"find-replace-btn\"\n          title=\"Close (Escape)\"\n        >\n          <X size={16} />\n        </button>\n      </div>\n      \n      {/* Replace Row */}\n      {showReplace && (\n        <div className=\"find-replace-row\">\n          <div className=\"find-replace-input-wrapper\">\n            <Replace size={14} className=\"find-replace-icon\" />\n            <input\n              ref={replaceInputRef}\n              type=\"text\"\n              placeholder=\"Replace with...\"\n              value={replaceQuery}\n              onChange={(e) => setReplaceQuery(e.target.value)}\n              className=\"find-replace-input\"\n            />\n          </div>\n          \n          <button\n            onClick={replaceCurrent}\n            disabled={matches.length === 0}\n            className=\"find-replace-btn replace-btn\"\n            title=\"Replace current\"\n          >\n            Replace\n          </button>\n          <button\n            onClick={replaceAll}\n            disabled={matches.length === 0}\n            className=\"find-replace-btn replace-btn\"\n            title=\"Replace all\"\n          >\n            <ReplaceAll size={14} />\n            All\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default FindReplace;\n","import { Editor } from '@tiptap/react';\nimport { memo, useCallback, useEffect, useState } from 'react';\nimport {\n  Bold,\n  Italic,\n  Underline,\n  Strikethrough,\n  Trash2,\n  X,\n  Type,\n  Plus,\n} from 'lucide-react';\nimport type { SelectAllOccurrencesStorage } from './extensions/SelectAllOccurrences';\n\n/*\n * SelectAllActionBar\n * \n * A floating action bar that appears above the editor when \"Select All Occurrences\"\n * mode is active. Shows the count of selected occurrences and provides quick-action\n * buttons for Bold, Italic, Underline, Strikethrough, Delete, and Exit.\n * \n * Also shows a live preview of the typed replacement text when the user starts typing.\n * In incremental (Cmd+D) mode, shows \"N of M\" count and a \"Select Next\" button.\n */\n\ninterface SelectAllActionBarProps {\n  editor: Editor;\n}\n\nconst isMac = typeof navigator !== 'undefined' && /Mac|iPod|iPhone|iPad/.test(navigator.platform);\nconst modKey = isMac ? '⌘' : 'Ctrl';\n\nconst SelectAllActionBarInner = ({ editor }: SelectAllActionBarProps) => {\n  const [isActive, setIsActive] = useState(false);\n  const [count, setCount] = useState(0);\n  const [totalMatches, setTotalMatches] = useState(0);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [typedBuffer, setTypedBuffer] = useState('');\n  const [isTypingReplace, setIsTypingReplace] = useState(false);\n  const [isIncremental, setIsIncremental] = useState(false);\n\n  // Poll the extension storage for state changes\n  useEffect(() => {\n    if (!editor) return;\n\n    const checkState = () => {\n      const storage = (editor.storage as any).selectAllOccurrences as SelectAllOccurrencesStorage | undefined;\n      if (storage) {\n        setIsActive(storage.isActive);\n        setCount(storage.ranges.length);\n        setTotalMatches(storage.allMatches.length);\n        setSearchTerm(storage.searchTerm);\n        setTypedBuffer(storage.typedBuffer);\n        setIsTypingReplace(storage.isTypingReplace);\n        setIsIncremental(storage.isIncremental);\n      } else {\n        setIsActive(false);\n        setCount(0);\n        setTotalMatches(0);\n      }\n    };\n\n    // Check on every transaction\n    const onTransaction = () => {\n      checkState();\n    };\n\n    editor.on('transaction', onTransaction);\n    checkState();\n\n    return () => {\n      editor.off('transaction', onTransaction);\n    };\n  }, [editor]);\n\n  const handleBold = useCallback(() => {\n    editor.commands.toggleMarkOnAllOccurrences('bold');\n    editor.commands.focus();\n  }, [editor]);\n\n  const handleItalic = useCallback(() => {\n    editor.commands.toggleMarkOnAllOccurrences('italic');\n    editor.commands.focus();\n  }, [editor]);\n\n  const handleUnderline = useCallback(() => {\n    editor.commands.toggleMarkOnAllOccurrences('underline');\n    editor.commands.focus();\n  }, [editor]);\n\n  const handleStrikethrough = useCallback(() => {\n    editor.commands.toggleMarkOnAllOccurrences('strike');\n    editor.commands.focus();\n  }, [editor]);\n\n  const handleDelete = useCallback(() => {\n    editor.commands.deleteAllOccurrences();\n    editor.commands.focus();\n  }, [editor]);\n\n  const handleExit = useCallback(() => {\n    editor.commands.clearAllOccurrences();\n    editor.commands.focus();\n  }, [editor]);\n\n  const handleSelectNext = useCallback(() => {\n    editor.commands.selectNextOccurrence();\n    editor.commands.focus();\n  }, [editor]);\n\n  const handleSelectAll = useCallback(() => {\n    // Select all remaining occurrences at once\n    if (searchTerm) {\n      editor.commands.selectAllOccurrences({\n        searchTerm,\n        caseSensitive: false,\n        useRegex: false,\n        wholeWord: false,\n      });\n      editor.commands.focus();\n    }\n  }, [editor, searchTerm]);\n\n  if (!isActive || count === 0) return null;\n\n  return (\n    <div className=\"select-all-action-bar\">\n      <div className=\"select-all-action-bar-inner\">\n        {/* Count badge */}\n        <div className=\"select-all-action-bar-count\">\n          <span className=\"select-all-action-bar-count-number\">\n            {isIncremental && totalMatches > 0 ? `${count}/${totalMatches}` : count}\n          </span>\n          <span className=\"select-all-action-bar-count-label\">selected</span>\n        </div>\n\n        {/* Search term / typed buffer preview */}\n        <div className=\"select-all-action-bar-preview\">\n          {isTypingReplace ? (\n            <>\n              <Type size={12} className=\"select-all-action-bar-preview-icon\" />\n              <span className=\"select-all-action-bar-preview-old\">{searchTerm}</span>\n              <span className=\"select-all-action-bar-preview-arrow\">→</span>\n              <span className=\"select-all-action-bar-preview-new\">{typedBuffer || '∅'}</span>\n            </>\n          ) : (\n            <>\n              <span className=\"select-all-action-bar-preview-term\">\"{searchTerm}\"</span>\n            </>\n          )}\n        </div>\n\n        {/* Separator */}\n        <div className=\"select-all-action-bar-separator\" />\n\n        {/* Incremental mode: Select Next button */}\n        {isIncremental && count < totalMatches && (\n          <>\n            <button\n              onClick={handleSelectNext}\n              className=\"select-all-action-bar-btn select-all-action-bar-btn-primary\"\n              title={`Select next occurrence (${modKey}+D)`}\n            >\n              <Plus size={14} />\n            </button>\n            <button\n              onClick={handleSelectAll}\n              className=\"select-all-action-bar-btn select-all-action-bar-btn-secondary\"\n              title={`Select all remaining (${modKey}+Shift+L)`}\n            >\n              All\n            </button>\n            <div className=\"select-all-action-bar-separator\" />\n          </>\n        )}\n\n        {/* Formatting buttons */}\n        <button\n          onClick={handleBold}\n          className=\"select-all-action-bar-btn\"\n          title={`Bold all occurrences (${modKey}+B)`}\n        >\n          <Bold size={14} />\n        </button>\n        <button\n          onClick={handleItalic}\n          className=\"select-all-action-bar-btn\"\n          title={`Italic all occurrences (${modKey}+I)`}\n        >\n          <Italic size={14} />\n        </button>\n        <button\n          onClick={handleUnderline}\n          className=\"select-all-action-bar-btn\"\n          title={`Underline all occurrences (${modKey}+U)`}\n        >\n          <Underline size={14} />\n        </button>\n        <button\n          onClick={handleStrikethrough}\n          className=\"select-all-action-bar-btn\"\n          title=\"Strikethrough all occurrences\"\n        >\n          <Strikethrough size={14} />\n        </button>\n\n        {/* Separator */}\n        <div className=\"select-all-action-bar-separator\" />\n\n        {/* Delete */}\n        <button\n          onClick={handleDelete}\n          className=\"select-all-action-bar-btn select-all-action-bar-btn-danger\"\n          title=\"Delete all occurrences\"\n        >\n          <Trash2 size={14} />\n        </button>\n\n        {/* Exit */}\n        <button\n          onClick={handleExit}\n          className=\"select-all-action-bar-btn\"\n          title=\"Exit select all mode (Escape)\"\n        >\n          <X size={14} />\n        </button>\n      </div>\n\n      {/* Hint text */}\n      <div className=\"select-all-action-bar-hint\">\n        {isIncremental && count < totalMatches ? (\n          <>\n            <kbd>{modKey}+D</kbd> next · <kbd>{modKey}+Shift+L</kbd> all · Type to replace · <kbd>Esc</kbd> to exit · <kbd>{modKey}+Z</kbd> undo\n          </>\n        ) : (\n          <>\n            Type to replace all · <kbd>Esc</kbd> to exit · <kbd>Backspace</kbd> to delete · <kbd>{modKey}+Z</kbd> undo\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport const SelectAllActionBar = memo(SelectAllActionBarInner);\nexport default SelectAllActionBar;\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { Editor } from '@tiptap/react';\n\n/*\n * useAutoSave Hook\n * Automatically saves editor content to localStorage with debouncing\n * Provides recovery on page load and visual save status indicators\n */\n\nexport interface AutoSaveOptions {\n  /** Unique key for localStorage (default: 'manus-editor-content') */\n  storageKey?: string;\n  /** Debounce delay in milliseconds (default: 1000) */\n  debounceMs?: number;\n  /** Whether auto-save is enabled (default: true) */\n  enabled?: boolean;\n  /** Callback when content is saved */\n  onSave?: (content: string) => void;\n  /** Callback when content is recovered */\n  onRecover?: (content: string) => void;\n}\n\nexport interface AutoSaveState {\n  /** Current save status */\n  status: 'idle' | 'saving' | 'saved' | 'error';\n  /** Last save timestamp */\n  lastSaved: Date | null;\n  /** Whether there's recoverable content */\n  hasRecoverableContent: boolean;\n  /** Error message if save failed */\n  error: string | null;\n}\n\nexport interface AutoSaveReturn extends AutoSaveState {\n  /** Manually trigger a save */\n  save: () => void;\n  /** Clear saved content from localStorage */\n  clear: () => void;\n  /** Recover content from localStorage */\n  recover: () => string | null;\n  /** Dismiss recovery prompt */\n  dismissRecovery: () => void;\n}\n\nconst RECOVERY_DISMISSED_KEY_SUFFIX = '-dismissed';\n\n// Simple hash function for quick content comparison (faster than full string compare)\nfunction simpleHash(str: string): number {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i);\n    hash = ((hash << 5) - hash) + char;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return hash;\n}\n\nexport function useAutoSave(\n  editor: Editor | null,\n  options: AutoSaveOptions = {}\n): AutoSaveReturn {\n  const {\n    storageKey = 'manus-editor-content',\n    debounceMs = 1000,\n    enabled = true,\n    onSave,\n    onRecover,\n  } = options;\n\n  const [state, setState] = useState<AutoSaveState>({\n    status: 'idle',\n    lastSaved: null,\n    hasRecoverableContent: false,\n    error: null,\n  });\n\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastContentRef = useRef<string>('');\n  const lastContentHashRef = useRef<number>(0);\n\n  // Check for recoverable content on mount\n  useEffect(() => {\n    if (!enabled) return;\n    // Skip on initial render when editor is not ready\n    if (!editor || editor.isDestroyed) return;\n\n    try {\n      const savedContent = localStorage.getItem(storageKey);\n      const dismissed = localStorage.getItem(storageKey + RECOVERY_DISMISSED_KEY_SUFFIX);\n      \n      if (savedContent && !dismissed) {\n        // Check if saved content is different from current\n        let currentContent = '';\n        try {\n          currentContent = editor.getHTML() || '';\n        } catch {\n          // Editor might not be ready yet\n          return;\n        }\n        if (savedContent !== currentContent && savedContent.length > 50) {\n          setState(prev => ({ ...prev, hasRecoverableContent: true }));\n        }\n      }\n    } catch (error) {\n      console.warn('useAutoSave: Error checking for recoverable content', error);\n    }\n  }, [editor, storageKey, enabled]);\n\n  // Save content to localStorage\n  const saveContent = useCallback(() => {\n    if (!editor || !enabled || editor.isDestroyed) return;\n\n    try {\n      const content = editor.getHTML();\n      \n      // Don't save if content hasn't changed (use hash for faster comparison)\n      const contentHash = simpleHash(content);\n      if (contentHash === lastContentHashRef.current && content.length === lastContentRef.current.length) {\n        setState(prev => ({ ...prev, status: 'saved' }));\n        return;\n      }\n\n      // Don't save empty or minimal content\n      if (content.length < 20) {\n        return;\n      }\n\n      setState(prev => ({ ...prev, status: 'saving' }));\n\n      localStorage.setItem(storageKey, content);\n      localStorage.setItem(storageKey + '-timestamp', new Date().toISOString());\n      \n      lastContentRef.current = content;\n      lastContentHashRef.current = contentHash;\n      \n      setState(prev => ({\n        ...prev,\n        status: 'saved',\n        lastSaved: new Date(),\n        error: null,\n      }));\n\n      onSave?.(content);\n\n      // Reset to idle after a short delay\n      setTimeout(() => {\n        setState(prev => prev.status === 'saved' ? { ...prev, status: 'idle' } : prev);\n      }, 2000);\n\n    } catch (error) {\n      console.error('useAutoSave: Error saving content', error);\n      setState(prev => ({\n        ...prev,\n        status: 'error',\n        error: error instanceof Error ? error.message : 'Failed to save',\n      }));\n    }\n  }, [editor, storageKey, enabled, onSave]);\n\n  // Debounced save on content change\n  useEffect(() => {\n    if (!editor || !enabled || editor.isDestroyed) return;\n\n    const handleUpdate = () => {\n      // Skip if editor is destroyed\n      if (editor.isDestroyed) return;\n      // Clear existing timeout\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n\n      // Set new timeout for debounced save\n      saveTimeoutRef.current = setTimeout(() => {\n        saveContent();\n      }, debounceMs);\n    };\n\n    editor.on('update', handleUpdate);\n\n    return () => {\n      editor.off('update', handleUpdate);\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [editor, debounceMs, enabled, saveContent]);\n\n  // Save on page unload\n  useEffect(() => {\n    if (!editor || !enabled || editor.isDestroyed) return;\n\n    const handleBeforeUnload = () => {\n      // Immediate save without debounce\n      if (editor.isDestroyed) return;\n      try {\n        const content = editor.getHTML();\n        if (content.length >= 20) {\n          localStorage.setItem(storageKey, content);\n          localStorage.setItem(storageKey + '-timestamp', new Date().toISOString());\n        }\n      } catch (error) {\n        console.warn('useAutoSave: Error saving on unload', error);\n      }\n    };\n\n    window.addEventListener('beforeunload', handleBeforeUnload);\n\n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    };\n  }, [editor, storageKey, enabled]);\n\n  // Manual save function\n  const save = useCallback(() => {\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n    saveContent();\n  }, [saveContent]);\n\n  // Clear saved content\n  const clear = useCallback(() => {\n    try {\n      localStorage.removeItem(storageKey);\n      localStorage.removeItem(storageKey + '-timestamp');\n      localStorage.removeItem(storageKey + RECOVERY_DISMISSED_KEY_SUFFIX);\n      lastContentRef.current = '';\n      setState({\n        status: 'idle',\n        lastSaved: null,\n        hasRecoverableContent: false,\n        error: null,\n      });\n    } catch (error) {\n      console.warn('useAutoSave: Error clearing content', error);\n    }\n  }, [storageKey]);\n\n  // Recover content from localStorage\n  const recover = useCallback((): string | null => {\n    if (!editor || editor.isDestroyed) return null;\n    try {\n      const content = localStorage.getItem(storageKey);\n      if (content && editor && !editor.isDestroyed) {\n        // Use requestAnimationFrame to prevent UI blocking\n        // and allow the browser to update before heavy operation\n        setState(prev => ({ ...prev, hasRecoverableContent: false }));\n        \n        // Use queueMicrotask to defer the setContent operation\n        // This avoids the flushSync error when ReactNodeViewRenderer is used\n        // by ensuring the call happens after React's render cycle completes\n        queueMicrotask(() => {\n          if (editor && !editor.isDestroyed) {\n            try {\n              editor.commands.setContent(content);\n              lastContentRef.current = content;\n              localStorage.removeItem(storageKey + RECOVERY_DISMISSED_KEY_SUFFIX);\n              onRecover?.(content);\n            } catch (err) {\n              console.warn('useAutoSave: Error setting content during recovery', err);\n            }\n          }\n        });\n        \n        return content;\n      }\n      return null;\n    } catch (error) {\n      console.warn('useAutoSave: Error recovering content', error);\n      return null;\n    }\n  }, [editor, storageKey, onRecover]);\n\n  // Dismiss recovery prompt\n  const dismissRecovery = useCallback(() => {\n    try {\n      localStorage.setItem(storageKey + RECOVERY_DISMISSED_KEY_SUFFIX, 'true');\n      setState(prev => ({ ...prev, hasRecoverableContent: false }));\n    } catch (error) {\n      console.warn('useAutoSave: Error dismissing recovery', error);\n    }\n  }, [storageKey]);\n\n  return {\n    ...state,\n    save,\n    clear,\n    recover,\n    dismissRecovery,\n  };\n}\n\nexport default useAutoSave;\n","import { useState, useEffect, useRef, useCallback } from 'react';\nimport { Editor } from '@tiptap/react';\n\n/**\n * useWordCount Hook\n * \n * Provides debounced word and character count calculation for performance.\n * Only recalculates after a delay to avoid blocking the main thread during typing.\n */\n\nexport interface WordCountResult {\n  words: number;\n  characters: number;\n  charactersWithSpaces: number;\n  paragraphs: number;\n  sentences: number;\n  readingTime: number; // in minutes\n  isCalculating: boolean;\n}\n\nexport interface UseWordCountOptions {\n  /** Debounce delay in milliseconds (default: 500) */\n  debounceMs?: number;\n  /** Whether to calculate extended stats like sentences (default: false for performance) */\n  extendedStats?: boolean;\n  /** Whether the hook is enabled (default: true) */\n  enabled?: boolean;\n}\n\nconst DEFAULT_READING_SPEED = 200; // words per minute\n\nexport function useWordCount(\n  editor: Editor | null,\n  options: UseWordCountOptions = {}\n): WordCountResult {\n  const {\n    debounceMs = 500,\n    extendedStats = false,\n    enabled = true,\n  } = options;\n\n  const [result, setResult] = useState<WordCountResult>({\n    words: 0,\n    characters: 0,\n    charactersWithSpaces: 0,\n    paragraphs: 0,\n    sentences: 0,\n    readingTime: 0,\n    isCalculating: false,\n  });\n\n  const timeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n  const lastTextRef = useRef<string>('');\n\n  // Calculate word count\n  const calculateWordCount = useCallback((text: string): WordCountResult => {\n    // Basic counts (fast)\n    const trimmedText = text.trim();\n    const words = trimmedText.length > 0 \n      ? trimmedText.split(/\\s+/).filter(word => word.length > 0).length \n      : 0;\n    const characters = trimmedText.replace(/\\s/g, '').length;\n    const charactersWithSpaces = text.length;\n\n    // Extended stats (slower, optional)\n    let paragraphs = 0;\n    let sentences = 0;\n\n    if (extendedStats) {\n      // Count paragraphs (separated by double newlines or more)\n      paragraphs = trimmedText.length > 0 \n        ? trimmedText.split(/\\n\\s*\\n/).filter(p => p.trim().length > 0).length \n        : 0;\n      \n      // Count sentences (ends with . ! ?)\n      sentences = trimmedText.length > 0 \n        ? (trimmedText.match(/[.!?]+/g) || []).length \n        : 0;\n    }\n\n    // Calculate reading time\n    const readingTime = Math.max(1, Math.ceil(words / DEFAULT_READING_SPEED));\n\n    return {\n      words,\n      characters,\n      charactersWithSpaces,\n      paragraphs,\n      sentences,\n      readingTime,\n      isCalculating: false,\n    };\n  }, [extendedStats]);\n\n  // Debounced update\n  useEffect(() => {\n    if (!editor || !enabled) return;\n\n    const handleUpdate = () => {\n      // Clear existing timeout\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n\n      // Mark as calculating\n      setResult(prev => ({ ...prev, isCalculating: true }));\n\n      // Debounce the calculation\n      timeoutRef.current = setTimeout(() => {\n        try {\n          const text = editor.getText();\n          \n          // Skip if text hasn't changed\n          if (text === lastTextRef.current) {\n            setResult(prev => ({ ...prev, isCalculating: false }));\n            return;\n          }\n          \n          lastTextRef.current = text;\n          const newResult = calculateWordCount(text);\n          setResult(newResult);\n        } catch (error) {\n          console.warn('useWordCount: Error calculating word count', error);\n          setResult(prev => ({ ...prev, isCalculating: false }));\n        }\n      }, debounceMs);\n    };\n\n    // Initial calculation\n    handleUpdate();\n\n    // Listen for updates\n    editor.on('update', handleUpdate);\n\n    return () => {\n      editor.off('update', handleUpdate);\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, [editor, debounceMs, enabled, calculateWordCount]);\n\n  return result;\n}\n\nexport default useWordCount;\n","import React from 'react';\nimport { Check, Cloud, CloudOff, Loader2 } from 'lucide-react';\n\n/*\n * AutoSaveIndicator Component\n * Displays the current save status with visual feedback\n */\n\nexport interface AutoSaveIndicatorProps {\n  status: 'idle' | 'saving' | 'saved' | 'error';\n  lastSaved: Date | null;\n  className?: string;\n}\n\nexport function AutoSaveIndicator({ status, lastSaved, className = '' }: AutoSaveIndicatorProps) {\n  const formatLastSaved = (date: Date | null): string => {\n    if (!date) return '';\n    \n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffSecs = Math.floor(diffMs / 1000);\n    const diffMins = Math.floor(diffSecs / 60);\n    const diffHours = Math.floor(diffMins / 60);\n    \n    if (diffSecs < 10) return 'Just now';\n    if (diffSecs < 60) return `${diffSecs}s ago`;\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    \n    return date.toLocaleDateString();\n  };\n\n  return (\n    <div \n      className={`auto-save-indicator flex items-center gap-1.5 text-xs ${className}`}\n      title={lastSaved ? `Last saved: ${lastSaved.toLocaleString()}` : 'Not saved yet'}\n    >\n      {status === 'idle' && lastSaved && (\n        <>\n          <Cloud className=\"w-3.5 h-3.5 text-muted-foreground\" />\n          <span className=\"text-muted-foreground\">Saved {formatLastSaved(lastSaved)}</span>\n        </>\n      )}\n      \n      {status === 'saving' && (\n        <>\n          <Loader2 className=\"w-3.5 h-3.5 text-cyan-500 animate-spin\" />\n          <span className=\"text-cyan-500\">Saving...</span>\n        </>\n      )}\n      \n      {status === 'saved' && (\n        <>\n          <Check className=\"w-3.5 h-3.5 text-emerald-500\" />\n          <span className=\"text-emerald-500\">Saved</span>\n        </>\n      )}\n      \n      {status === 'error' && (\n        <>\n          <CloudOff className=\"w-3.5 h-3.5 text-red-500\" />\n          <span className=\"text-red-500\">Save failed</span>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default AutoSaveIndicator;\n","import React from 'react';\nimport { AlertCircle, RotateCcw, X } from 'lucide-react';\n\n/*\n * RecoveryBanner Component\n * Displays a banner when there's recoverable content from a previous session\n * Uses CSS classes for proper light/dark theme support\n */\n\nexport interface RecoveryBannerProps {\n  onRecover: () => void;\n  onDismiss: () => void;\n  className?: string;\n}\n\nexport function RecoveryBanner({ onRecover, onDismiss, className = '' }: RecoveryBannerProps) {\n  return (\n    <div \n      className={`recovery-banner flex items-center justify-between gap-4 px-4 py-3 rounded-lg ${className}`}\n    >\n      <div className=\"flex items-center gap-3 min-w-0\">\n        <AlertCircle className=\"w-5 h-5 recovery-banner-icon flex-shrink-0\" />\n        <span className=\"text-sm recovery-banner-text\">\n          We found unsaved content from your last session.\n        </span>\n      </div>\n      \n      <div className=\"flex items-center gap-3 flex-shrink-0\">\n        <button\n          onClick={onRecover}\n          className=\"recovery-banner-btn flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-md transition-colors duration-150\"\n        >\n          <RotateCcw className=\"w-4 h-4\" />\n          Recover\n        </button>\n        \n        <button\n          onClick={onDismiss}\n          className=\"recovery-banner-dismiss p-2 rounded-md transition-colors duration-150\"\n          title=\"Dismiss\"\n          aria-label=\"Dismiss recovery banner\"\n        >\n          <X className=\"w-5 h-5\" />\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default RecoveryBanner;\n","import { Mark, mergeAttributes } from '@tiptap/core';\nimport { InputRule } from '@tiptap/core';\n\n/*\n * WikiLink Extension (Mobile-Safe Version)\n * Supports [[page name]] wiki-style internal links\n * Uses InputRules instead of handleTextInput for better mobile compatibility\n */\n\nexport interface WikiLinkOptions {\n  HTMLAttributes: Record<string, unknown>;\n  onWikiLinkClick?: (pageName: string) => void;\n  validateLink?: (pageName: string) => boolean;\n  linkClass?: string;\n  invalidLinkClass?: string;\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    wikiLink: {\n      setWikiLink: (attributes: { pageName: string }) => ReturnType;\n      unsetWikiLink: () => ReturnType;\n    };\n  }\n}\n\n// Regex to match [[page name]] pattern\nconst wikiLinkRegex = /\\[\\[([^\\[\\]]+)\\]\\]$/;\n\nexport const WikiLinkSafe = Mark.create<WikiLinkOptions>({\n  name: 'wikiLink',\n\n  addOptions() {\n    return {\n      HTMLAttributes: {},\n      onWikiLinkClick: undefined,\n      validateLink: undefined,\n      linkClass: 'wiki-link',\n      invalidLinkClass: 'wiki-link-invalid',\n    };\n  },\n\n  addAttributes() {\n    return {\n      pageName: {\n        default: null,\n        parseHTML: (element) => element.getAttribute('data-page-name'),\n        renderHTML: (attributes) => {\n          if (!attributes.pageName) {\n            return {};\n          }\n          return {\n            'data-page-name': attributes.pageName,\n          };\n        },\n      },\n    };\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: 'span[data-wiki-link]',\n      },\n    ];\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    const pageName = HTMLAttributes['data-page-name'] || '';\n    const isValid = this.options.validateLink ? this.options.validateLink(pageName) : true;\n    \n    return [\n      'span',\n      mergeAttributes(\n        this.options.HTMLAttributes,\n        HTMLAttributes,\n        {\n          'data-wiki-link': '',\n          class: isValid ? this.options.linkClass : `${this.options.linkClass} ${this.options.invalidLinkClass}`,\n        }\n      ),\n      0,\n    ];\n  },\n\n  addCommands() {\n    return {\n      setWikiLink:\n        (attributes) =>\n        ({ commands }) => {\n          return commands.setMark(this.name, attributes);\n        },\n      unsetWikiLink:\n        () =>\n        ({ commands }) => {\n          return commands.unsetMark(this.name);\n        },\n    };\n  },\n\n  addInputRules() {\n    const markType = this.type;\n    \n    return [\n      new InputRule({\n        find: wikiLinkRegex,\n        handler: ({ state, range, match }) => {\n          try {\n            const pageName = match[1];\n            if (!pageName) return;\n\n            const { tr } = state;\n            const start = range.from;\n            const end = range.to;\n            \n            // Delete the [[pageName]] text and insert just the page name with the mark\n            tr.delete(start, end);\n            \n            // Create the marked content\n            const mark = markType.create({ pageName });\n            const textNode = state.schema.text(pageName, [mark]);\n            tr.insert(start, textNode);\n            \n            // Dispatch the transaction\n            this.editor.view.dispatch(tr);\n          } catch (error) {\n            console.warn('WikiLinkSafe: Error in input rule', error);\n          }\n        },\n      }),\n    ];\n  },\n\n  // Handle clicks on wiki links using native event delegation\n  onCreate() {\n    const { onWikiLinkClick } = this.options;\n    if (!onWikiLinkClick) return;\n\n    const handleClick = (event: MouseEvent) => {\n      const target = event.target as HTMLElement;\n      if (target.hasAttribute('data-wiki-link')) {\n        const pageName = target.getAttribute('data-page-name');\n        if (pageName) {\n          event.preventDefault();\n          onWikiLinkClick(pageName);\n        }\n      }\n    };\n\n    // Use event delegation on the editor element\n    this.editor.view.dom.addEventListener('click', handleClick);\n    \n    // Store cleanup function\n    (this as any)._clickHandler = handleClick;\n  },\n\n  onDestroy() {\n    const handleClick = (this as any)._clickHandler;\n    if (handleClick) {\n      this.editor.view.dom.removeEventListener('click', handleClick);\n    }\n  },\n});\n\nexport default WikiLinkSafe;\n","import { Extension } from '@tiptap/core';\nimport { Plugin, PluginKey } from '@tiptap/pm/state';\n\nexport interface MarkdownPasteOptions {\n  enableMarkdownPaste: boolean;\n}\n\n// Pre-compiled regex patterns for better performance\nconst MARKDOWN_PATTERNS = {\n  header: /^#{1,6}\\s+/m,\n  bold: /\\*\\*[^*]+\\*\\*/,\n  codeBlock: /```[\\s\\S]*?```/,\n  list: /^\\s*[-*]\\s+/m,\n  taskList: /^\\s*[-*]\\s*\\[[ x]\\]/im,\n  link: /\\[.+\\]\\(.+\\)/,\n  // Table pattern: header row with pipes, separator row with dashes, optional data rows\n  // Allow headers and separators with or without trailing pipes\n  table: /^\\|[^\\n]+\\n\\|[-:\\s|]+/m,\n  // Callout pattern: ```info, ```warning, ```error, ```success, ```note\n  callout: /```(?:info|warning|error|success|note)\\s*\\n[\\s\\S]*?```/,\n};\n\n// Callout types for parsing\nconst CALLOUT_TYPES = ['info', 'warning', 'error', 'success', 'note'];\n\n// Quick check if text looks like markdown (optimized - check most common patterns first)\nfunction looksLikeMarkdown(text: string): boolean {\n  // Check length first - very short text unlikely to be markdown\n  if (text.length < 3) return false;\n  \n  // Check most common patterns first for early exit\n  if (MARKDOWN_PATTERNS.header.test(text)) return true;\n  if (MARKDOWN_PATTERNS.bold.test(text)) return true;\n  if (MARKDOWN_PATTERNS.list.test(text)) return true;\n  if (MARKDOWN_PATTERNS.taskList.test(text)) return true;\n  if (MARKDOWN_PATTERNS.codeBlock.test(text)) return true;\n  if (MARKDOWN_PATTERNS.callout.test(text)) return true;\n  if (MARKDOWN_PATTERNS.link.test(text)) return true;\n  if (MARKDOWN_PATTERNS.table.test(text)) return true;\n  \n  return false;\n}\n\n// Parse markdown table to HTML\nfunction parseMarkdownTable(tableText: string): string {\n  const lines = tableText.trim().split('\\n');\n  if (lines.length < 2) return '';\n  \n  // Parse header row\n  const headerLine = lines[0];\n  const headerCells = headerLine\n    .split('|')\n    .map(cell => cell.trim())\n    .filter(cell => cell.length > 0);\n  \n  if (headerCells.length === 0) return '';\n  \n  // Verify separator row\n  const separatorLine = lines[1];\n  if (!separatorLine.includes('-')) return '';\n  \n  // Parse data rows\n  const dataRows = lines.slice(2);\n  \n  // Build HTML table\n  let html = '<table><thead><tr>';\n  \n  for (const cell of headerCells) {\n    html += '<th><p>' + cell + '</p></th>';\n  }\n  \n  html += '</tr></thead><tbody>';\n  \n  for (const row of dataRows) {\n    if (!row.trim()) continue;\n    \n    const rawCells = row.split('|');\n    const filteredCells: string[] = [];\n    \n    for (let i = 0; i < rawCells.length; i++) {\n      const cell = rawCells[i].trim();\n      // Skip empty cells at start/end if row starts/ends with |\n      if (i === 0 && cell === '' && row.trim().startsWith('|')) continue;\n      if (i === rawCells.length - 1 && cell === '' && row.trim().endsWith('|')) continue;\n      filteredCells.push(cell);\n    }\n    \n    if (filteredCells.length === 0) continue;\n    \n    html += '<tr>';\n    \n    for (let i = 0; i < headerCells.length; i++) {\n      const cellContent = filteredCells[i] || '';\n      html += '<td><p>' + cellContent + '</p></td>';\n    }\n    \n    html += '</tr>';\n  }\n  \n  html += '</tbody></table>';\n  \n  return html;\n}\n\n// Optimized markdown to HTML converter\n// Uses a single pass approach where possible\nfunction markdownToHtml(markdown: string): string {\n  let html = markdown;\n  \n  // Tables first - find and replace markdown tables with HTML tables\n  // Pattern matches consecutive lines starting with | (header, separator, data rows)\n  const tablePattern = /^(\\|[^\\n]*(?:\\n\\|[^\\n]*)*)/gm;\n  const tablePlaceholders: string[] = [];\n  \n  html = html.replace(tablePattern, (match) => {\n    // Validate that this is actually a table (has separator row with dashes)\n    const lines = match.split('\\n');\n    if (lines.length >= 2) {\n      const separatorLine = lines[1];\n      // Check if second line is a separator (contains |, -, :, and spaces)\n      // Allow separators with or without trailing pipes\n      if (/^\\|?[\\s\\-:|]+\\|?$/.test(separatorLine) && separatorLine.includes('-')) {\n        const tableHtml = parseMarkdownTable(match);\n        if (tableHtml) {\n          // Use a unique placeholder that won't be affected by markdown parsing (no underscores)\n          const placeholder = `MANUSTABLEPLACEHOLDER${tablePlaceholders.length}END`;\n          tablePlaceholders.push(tableHtml);\n          return placeholder;\n        }\n      }\n    }\n    return match;\n  });\n  \n  // Callout blocks (before regular code blocks)\n  // Convert ```info, ```warning, etc. to callout HTML\n  CALLOUT_TYPES.forEach(type => {\n    const calloutRegex = new RegExp(`\\`\\`\\`${type}\\\\s*\\\\n([\\\\s\\\\S]*?)\\`\\`\\``, 'g');\n    html = html.replace(calloutRegex, (_, content) => {\n      // Process the content inside the callout (convert markdown to HTML)\n      let innerHtml = content.trim();\n      // Apply basic markdown formatting to inner content\n      innerHtml = innerHtml.replace(/\\*\\*([^*]+)\\*\\*/g, '<strong>$1</strong>');\n      innerHtml = innerHtml.replace(/__([^_]+)__/g, '<strong>$1</strong>');\n      innerHtml = innerHtml.replace(/(?<!\\*)\\*([^*]+)\\*(?!\\*)/g, '<em>$1</em>');\n      innerHtml = innerHtml.replace(/(?<!_)_([^_]+)_(?!_)/g, '<em>$1</em>');\n      innerHtml = innerHtml.replace(/`([^`]+)`/g, '<code>$1</code>');\n      // Wrap in paragraph if not already wrapped\n      if (!innerHtml.startsWith('<')) {\n        innerHtml = `<p>${innerHtml}</p>`;\n      }\n      return `<div data-callout=\"\" data-type=\"${type}\" class=\"callout callout-${type}\">${innerHtml}</div>`;\n    });\n  });\n  \n  // Code blocks (preserve content inside) - skip callout types\n  html = html.replace(/```(\\w*)\\n([\\s\\S]*?)```/g, (_, lang, code) => {\n    // Skip if this is a callout type (already processed)\n    if (CALLOUT_TYPES.includes(lang)) {\n      return `<div data-callout=\"\" data-type=\"${lang}\" class=\"callout callout-${lang}\"><p>${code.trim()}</p></div>`;\n    }\n    const language = lang || 'plaintext';\n    const escapedCode = code.trim()\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;');\n    return `<pre><code class=\"language-${language}\">${escapedCode}</code></pre>`;\n  });\n  \n  // Inline code (before other inline formatting)\n  html = html.replace(/`([^`]+)`/g, '<code>$1</code>');\n  \n  // Headers (single pass with callback)\n  html = html.replace(/^(#{1,6})\\s+(.+)$/gm, (_, hashes, content) => {\n    const level = hashes.length;\n    return `<h${level}>${content}</h${level}>`;\n  });\n  \n  // Task lists\n  html = html.replace(/^(\\s*)[-*]\\s*\\[x\\]\\s+(.+)$/gim, '$1<li data-type=\"taskItem\" data-checked=\"true\"><p>$2</p></li>');\n  html = html.replace(/^(\\s*)[-*]\\s*\\[\\s*\\]\\s+(.+)$/gim, '$1<li data-type=\"taskItem\" data-checked=\"false\"><p>$2</p></li>');\n  \n  // Unordered lists\n  html = html.replace(/^(\\s*)[-*]\\s+(?!\\[)(.+)$/gm, '$1<li><p>$2</p></li>');\n  \n  // Ordered lists\n  html = html.replace(/^(\\s*)\\d+\\.\\s+(.+)$/gm, '$1<li><p>$2</p></li>');\n  \n  // Wrap consecutive list items\n  html = html.replace(/(<li data-type=\"taskItem\"[^>]*>[\\s\\S]*?<\\/li>\\n?)+/g, '<ul data-type=\"taskList\">$&</ul>');\n  html = html.replace(/(<li><p>[\\s\\S]*?<\\/p><\\/li>\\n?)+/g, '<ul>$&</ul>');\n  \n  // Blockquotes\n  html = html.replace(/^>\\s+(.+)$/gm, '<blockquote><p>$1</p></blockquote>');\n  \n  // Horizontal rules\n  html = html.replace(/^[-*_]{3,}$/gm, '<hr>');\n  \n  // Bold and italic (combined pass)\n  html = html.replace(/\\*\\*([^*]+)\\*\\*/g, '<strong>$1</strong>');\n  html = html.replace(/__([^_]+)__/g, '<strong>$1</strong>');\n  html = html.replace(/(?<!\\*)\\*([^*]+)\\*(?!\\*)/g, '<em>$1</em>');\n  html = html.replace(/(?<!_)_([^_]+)_(?!_)/g, '<em>$1</em>');\n  \n  // Strikethrough\n  html = html.replace(/~~([^~]+)~~/g, '<s>$1</s>');\n  \n  // Links and images\n  html = html.replace(/!\\[([^\\]]*)\\]\\(([^)]+)\\)/g, '<img src=\"$2\" alt=\"$1\">');\n  html = html.replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, '<a href=\"$2\">$1</a>');\n  \n  // Wrap remaining lines in paragraphs\n  const lines = html.split('\\n');\n  const processedLines = lines.map(line => {\n    const trimmed = line.trim();\n    if (!trimmed) return '';\n    // Skip lines that are already wrapped in HTML tags or are placeholders\n    if (/^<[a-z]/.test(trimmed) || /^<\\//.test(trimmed)) return line;\n    if (trimmed.startsWith('MANUSTABLEPLACEHOLDER')) return line;\n    return `<p>${trimmed}</p>`;\n  });\n  \n  html = processedLines.join('\\n');\n  \n  // Clean up empty paragraphs\n  html = html.replace(/<p>\\s*<\\/p>/g, '');\n  \n  // Restore table placeholders\n  for (let i = 0; i < tablePlaceholders.length; i++) {\n    html = html.replace(`MANUSTABLEPLACEHOLDER${i}END`, tablePlaceholders[i]);\n  }\n  \n  return html;\n}\n\nexport const MarkdownPasteSafe = Extension.create<MarkdownPasteOptions>({\n  name: 'markdownPasteSafe',\n\n  addOptions() {\n    return {\n      enableMarkdownPaste: true,\n    };\n  },\n\n  addProseMirrorPlugins() {\n    if (!this.options.enableMarkdownPaste) {\n      return [];\n    }\n\n    const editor = this.editor;\n\n    return [\n      new Plugin({\n        key: new PluginKey('markdownPaste'),\n        props: {\n          handlePaste(view, event, slice) {\n            const clipboardData = event.clipboardData;\n            if (!clipboardData) return false;\n\n            // If HTML content exists, let default handler deal with it\n            const htmlContent = clipboardData.getData('text/html');\n            if (htmlContent && htmlContent.trim()) {\n              return false;\n            }\n\n            // Get plain text\n            const text = clipboardData.getData('text/plain');\n            if (!text) return false;\n\n            // Quick check if it looks like markdown\n            if (!looksLikeMarkdown(text)) {\n              return false;\n            }\n\n            // Prevent default and convert\n            event.preventDefault();\n\n            // Convert markdown to HTML\n            const html = markdownToHtml(text);\n\n            // Insert using TipTap's optimized insertContent\n            editor.commands.insertContent(html, {\n              parseOptions: {\n                preserveWhitespace: false,\n              },\n            });\n\n            return true;\n          },\n        },\n      }),\n    ];\n  },\n});\n\nexport default MarkdownPasteSafe;\n","import { Extension } from '@tiptap/core';\nimport { Plugin, PluginKey } from '@tiptap/pm/state';\nimport type { Node as ProseMirrorNode } from '@tiptap/pm/model';\nimport { Decoration, DecorationSet, EditorView } from '@tiptap/pm/view';\n\nexport interface CollapsibleHeadingOptions {\n  levels: number[];\n}\n\nexport interface CollapsibleHeadingStorage {\n  collapsedHeadings: Set<string>;\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    collapsibleHeading: {\n      toggleHeadingCollapse: (pos: number) => ReturnType;\n      expandAllHeadings: () => ReturnType;\n      collapseAllHeadings: () => ReturnType;\n    };\n  }\n}\n\nconst collapsibleHeadingPluginKey = new PluginKey('collapsibleHeading');\n\n// Generate a stable ID for a heading based on its content and position\nfunction getHeadingId(node: { textContent: string }, level: number, pos: number): string {\n  // Include position to handle duplicate heading text\n  return `h${level}-${pos}-${node.textContent.slice(0, 50)}`;\n}\n\n// Store view reference for click handlers\nlet currentView: EditorView | null = null;\n\n/**\n * Performance: Extract decoration building into a standalone function.\n * This is called from plugin state management, which caches the result\n * and only rebuilds when the document structure changes or collapse state toggles.\n * Previously, this ran 3 full doc.descendants() passes on EVERY transaction.\n */\nfunction buildDecorations(\n  doc: ProseMirrorNode,\n  storage: CollapsibleHeadingStorage,\n  options: CollapsibleHeadingOptions\n): DecorationSet {\n  const decorations: Decoration[] = [];\n\n  // First pass: collect all headings\n  const headings: Array<{\n    pos: number;\n    level: number;\n    id: string;\n    isCollapsed: boolean;\n    nodeSize: number;\n  }> = [];\n\n  doc.descendants((node, pos) => {\n    if (node.type.name === 'heading' && options.levels.includes(node.attrs.level)) {\n      const headingId = getHeadingId(node, node.attrs.level, pos);\n      headings.push({\n        pos,\n        level: node.attrs.level,\n        id: headingId,\n        isCollapsed: storage.collapsedHeadings.has(headingId),\n        nodeSize: node.nodeSize,\n      });\n    }\n  });\n\n  // Second pass: determine hidden ranges\n  const hiddenRanges: Array<{ start: number; end: number }> = [];\n  for (let i = 0; i < headings.length; i++) {\n    const heading = headings[i];\n    if (heading.isCollapsed) {\n      const startHidePos = heading.pos + heading.nodeSize;\n      let endHidePos = doc.content.size;\n      for (let j = i + 1; j < headings.length; j++) {\n        if (headings[j].level <= heading.level) {\n          endHidePos = headings[j].pos;\n          break;\n        }\n      }\n      if (startHidePos < endHidePos) {\n        hiddenRanges.push({ start: startHidePos, end: endHidePos });\n      }\n    }\n  }\n\n  // Merge overlapping hidden ranges\n  const mergedRanges: Array<{ start: number; end: number }> = [];\n  for (const range of hiddenRanges) {\n    if (mergedRanges.length === 0) {\n      mergedRanges.push(range);\n    } else {\n      const last = mergedRanges[mergedRanges.length - 1];\n      if (range.start <= last.end) {\n        last.end = Math.max(last.end, range.end);\n      } else {\n        mergedRanges.push(range);\n      }\n    }\n  }\n\n  function isHidden(pos: number): boolean {\n    for (const range of mergedRanges) {\n      if (pos >= range.start && pos < range.end) return true;\n    }\n    return false;\n  }\n\n  // Third pass: add decorations\n  doc.descendants((node, pos) => {\n    if (node.type.name === 'heading' && options.levels.includes(node.attrs.level)) {\n      const headingId = getHeadingId(node, node.attrs.level, pos);\n      const isCollapsed = storage.collapsedHeadings.has(headingId);\n      const headingIsHidden = isHidden(pos);\n\n      decorations.push(\n        Decoration.node(pos, pos + node.nodeSize, {\n          class: `collapsible-heading collapsible-heading-level-${node.attrs.level} ${isCollapsed ? 'is-collapsed' : 'is-expanded'}${headingIsHidden ? ' collapsible-heading-hidden' : ''}`,\n          'data-heading-id': headingId,\n          'data-heading-level': String(node.attrs.level),\n        })\n      );\n\n      const chevronWidget = Decoration.widget(pos + node.nodeSize - 1, () => {\n        const existingButton = document.querySelector(`button.collapsible-heading-chevron[data-heading-id=\"${headingId}\"]`) as HTMLButtonElement | null;\n        if (existingButton) {\n          const wasCollapsed = existingButton.classList.contains('collapsed');\n          if (wasCollapsed !== isCollapsed) {\n            existingButton.classList.remove('collapsed', 'expanded');\n            existingButton.classList.add(isCollapsed ? 'collapsed' : 'expanded');\n            existingButton.title = isCollapsed ? 'Click to expand' : 'Click to collapse';\n          }\n          const existingWrapper = existingButton.parentElement;\n          if (existingWrapper) return existingWrapper;\n        }\n\n        const wrapper = document.createElement('span');\n        wrapper.className = 'collapsible-heading-chevron-wrapper';\n        wrapper.setAttribute('contenteditable', 'false');\n\n        const button = document.createElement('button');\n        button.className = `collapsible-heading-chevron ${isCollapsed ? 'collapsed' : 'expanded'}`;\n        button.setAttribute('data-heading-id', headingId);\n        button.setAttribute('data-heading-level', String(node.attrs.level));\n        button.setAttribute('contenteditable', 'false');\n        button.setAttribute('tabindex', '-1');\n        button.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"9 18 15 12 9 6\"></polyline></svg>`;\n        button.title = isCollapsed ? 'Click to expand' : 'Click to collapse';\n\n        button.addEventListener('click', (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          const wasCollapsed = button.classList.contains('collapsed');\n          button.classList.remove('collapsed', 'expanded');\n          button.classList.add(wasCollapsed ? 'expanded' : 'collapsed');\n          button.title = wasCollapsed ? 'Click to collapse' : 'Click to expand';\n          if (storage.collapsedHeadings.has(headingId)) {\n            storage.collapsedHeadings.delete(headingId);\n          } else {\n            storage.collapsedHeadings.add(headingId);\n          }\n          if (currentView) {\n            currentView.dispatch(currentView.state.tr.setMeta('collapsibleHeading', { toggled: headingId }));\n          }\n        });\n\n        wrapper.appendChild(button);\n        return wrapper;\n      }, { side: 1, key: `chevron-${headingId}` });\n\n      decorations.push(chevronWidget);\n    } else if (node.isBlock && isHidden(pos)) {\n      decorations.push(\n        Decoration.node(pos, pos + node.nodeSize, {\n          class: 'collapsible-heading-hidden',\n        })\n      );\n    }\n  });\n\n  return DecorationSet.create(doc, decorations);\n}\n\nexport const CollapsibleHeading = Extension.create<CollapsibleHeadingOptions, CollapsibleHeadingStorage>({\n  name: 'collapsibleHeading',\n\n  addOptions() {\n    return {\n      levels: [1, 2, 3, 4, 5, 6],\n    };\n  },\n\n  addStorage() {\n    return {\n      collapsedHeadings: new Set<string>(),\n    };\n  },\n\n  addCommands() {\n    return {\n      toggleHeadingCollapse:\n        (pos: number) =>\n        ({ editor, tr }) => {\n          const storage = this.storage as CollapsibleHeadingStorage;\n          const node = tr.doc.nodeAt(pos);\n          \n          if (!node || node.type.name !== 'heading') {\n            return false;\n          }\n\n          const headingId = getHeadingId(node, node.attrs.level, pos);\n          \n          if (storage.collapsedHeadings.has(headingId)) {\n            storage.collapsedHeadings.delete(headingId);\n          } else {\n            storage.collapsedHeadings.add(headingId);\n          }\n\n          editor.view.dispatch(tr.setMeta('collapsibleHeading', { toggled: headingId }));\n          \n          return true;\n        },\n      expandAllHeadings:\n        () =>\n        ({ editor, tr }) => {\n          const storage = this.storage as CollapsibleHeadingStorage;\n          storage.collapsedHeadings.clear();\n          editor.view.dispatch(tr.setMeta('collapsibleHeading', { expandAll: true }));\n          return true;\n        },\n      collapseAllHeadings:\n        () =>\n        ({ editor, tr }) => {\n          const storage = this.storage as CollapsibleHeadingStorage;\n          const doc = tr.doc;\n          \n          doc.descendants((node, pos) => {\n            if (node.type.name === 'heading') {\n              storage.collapsedHeadings.add(getHeadingId(node, node.attrs.level, pos));\n            }\n          });\n          \n          editor.view.dispatch(tr.setMeta('collapsibleHeading', { collapseAll: true }));\n          return true;\n        },\n    };\n  },\n\n  addProseMirrorPlugins() {\n    const storage = this.storage as CollapsibleHeadingStorage;\n    const options = this.options;\n\n    return [\n      new Plugin({\n        key: collapsibleHeadingPluginKey,\n        view(view) {\n          currentView = view;\n          return {\n            update(view) {\n              currentView = view;\n            },\n            destroy() {\n              currentView = null;\n            },\n          };\n        },\n        state: {\n          init(_, state) {\n            return {\n              collapsedHeadings: new Set<string>(),\n              decorations: buildDecorations(state.doc, storage, options),\n              docVersion: 0,\n            };\n          },\n          apply(tr, value, _oldState, newState) {\n            const meta = tr.getMeta('collapsibleHeading');\n            // Performance: Only rebuild decorations when doc changes or collapse state changes\n            // This avoids 3 full doc traversals on every keystroke\n            if (meta || tr.docChanged) {\n              return {\n                collapsedHeadings: new Set(storage.collapsedHeadings),\n                decorations: buildDecorations(newState.doc, storage, options),\n                docVersion: value.docVersion + 1,\n              };\n            }\n            // If doc hasn't changed and no collapse toggle, reuse existing decorations\n            // but map them through the transaction to adjust positions\n            return {\n              ...value,\n              decorations: value.decorations.map(tr.mapping, tr.doc),\n            };\n          },\n        },\n        props: {\n          decorations(state) {\n            // Performance: Return cached decorations from plugin state\n            // Only falls back to fresh build if plugin state is unavailable\n            const pluginState = collapsibleHeadingPluginKey.getState(state);\n            if (pluginState?.decorations) {\n              return pluginState.decorations;\n            }\n            return buildDecorations(state.doc, storage, options);\n          },\n        },\n      }),\n    ];\n  },\n});\n\nexport default CollapsibleHeading;\n","import { Extension } from '@tiptap/core';\nimport { InputRule } from '@tiptap/core';\nimport { Plugin, PluginKey } from '@tiptap/pm/state';\n\n/**\n * Extension to automatically convert markdown link syntax [text](url) to actual links\n * Also handles pasting URLs to auto-create links\n */\n\n// Regex to match markdown link syntax: [text](url)\n// This matches when the user types the closing parenthesis\nconst markdownLinkRegex = /\\[([^\\]]+)\\]\\(([^)]+)\\)$/;\n\n// Regex to detect URLs\nconst urlRegex = /^(https?:\\/\\/|www\\.)[^\\s]+$/i;\n\nexport const MarkdownLinkInputRule = Extension.create({\n  name: 'markdownLinkInputRule',\n\n  addInputRules() {\n    return [\n      new InputRule({\n        find: markdownLinkRegex,\n        handler: ({ state, range, match, chain }) => {\n          const linkText = match[1];\n          let linkUrl = match[2];\n          \n          // Ensure URL has protocol\n          if (linkUrl && !linkUrl.startsWith('http://') && !linkUrl.startsWith('https://')) {\n            if (linkUrl.startsWith('www.')) {\n              linkUrl = 'https://' + linkUrl;\n            } else {\n              linkUrl = 'https://' + linkUrl;\n            }\n          }\n\n          // Use chain to delete the markdown syntax and insert linked text\n          chain()\n            .deleteRange(range)\n            .insertContent({\n              type: 'text',\n              text: linkText,\n              marks: [\n                {\n                  type: 'link',\n                  attrs: {\n                    href: linkUrl,\n                    target: '_blank',\n                    rel: 'noopener noreferrer',\n                  },\n                },\n              ],\n            })\n            .run();\n        },\n      }),\n    ];\n  },\n\n  addProseMirrorPlugins() {\n    const editor = this.editor;\n    \n    return [\n      new Plugin({\n        key: new PluginKey('pasteUrlAsLink'),\n        props: {\n          handlePaste(view, event) {\n            const clipboardData = event.clipboardData;\n            if (!clipboardData) return false;\n\n            const text = clipboardData.getData('text/plain');\n            if (!text) return false;\n\n            // Check if the pasted text is a URL\n            const trimmedText = text.trim();\n            if (!urlRegex.test(trimmedText)) return false;\n\n            // Get the current selection\n            const { state } = view;\n            const { selection } = state;\n            const { from, to, empty } = selection;\n\n            // Ensure URL has protocol\n            let url = trimmedText;\n            if (!url.startsWith('http://') && !url.startsWith('https://')) {\n              if (url.startsWith('www.')) {\n                url = 'https://' + url;\n              } else {\n                url = 'https://' + url;\n              }\n            }\n\n            // If there's selected text, convert it to a link\n            if (!empty) {\n              const selectedText = state.doc.textBetween(from, to);\n              if (selectedText) {\n                editor\n                  .chain()\n                  .focus()\n                  .extendMarkRange('link')\n                  .setLink({ href: url })\n                  .run();\n                return true;\n              }\n            }\n\n            // If no selection, insert the URL as a clickable link\n            const linkMark = state.schema.marks.link.create({ href: url });\n            const tr = state.tr;\n            \n            // Insert the URL text with link mark\n            tr.insertText(url, from, to);\n            tr.addMark(from, from + url.length, linkMark);\n            \n            view.dispatch(tr);\n            return true;\n          },\n        },\n      }),\n    ];\n  },\n});\n","import { Extension } from '@tiptap/core';\nimport { Plugin, PluginKey, TextSelection } from '@tiptap/pm/state';\nimport { Fragment } from '@tiptap/pm/model';\n\n/**\n * CalloutInputRule Extension\n * \n * Auto-detects callout syntax when user types:\n * ```info (followed by Enter)\n * ```warning (followed by Enter)\n * ```error (followed by Enter)\n * ```success (followed by Enter)\n * ```note (followed by Enter)\n * \n * This converts the code block fence into a callout block.\n */\n\nconst CALLOUT_TYPES = ['info', 'warning', 'error', 'success', 'note'] as const;\ntype CalloutType = typeof CALLOUT_TYPES[number];\n\nexport const CalloutInputRule = Extension.create({\n  name: 'calloutInputRule',\n\n  addProseMirrorPlugins() {\n    const editor = this.editor;\n    \n    return [\n      new Plugin({\n        key: new PluginKey('calloutInputRule'),\n        props: {\n          handleKeyDown(view, event) {\n            // Only handle Enter key\n            if (event.key !== 'Enter') return false;\n            \n            const { state } = view;\n            const { selection, doc } = state;\n            const { $from } = selection;\n            \n            // Get the current line text\n            const lineStart = $from.start();\n            const lineEnd = $from.end();\n            const lineText = doc.textBetween(lineStart, $from.pos, '');\n            \n            // Check if line matches callout pattern\n            const trimmedLine = lineText.trim();\n            \n            for (const type of CALLOUT_TYPES) {\n              if (trimmedLine === `\\`\\`\\`${type}`) {\n                event.preventDefault();\n                \n                // Delete the typed pattern and insert callout\n                const tr = state.tr;\n                \n                // Find the actual start of the pattern in the line\n                const patternStart = lineStart + lineText.indexOf('```');\n                \n                // Delete from pattern start to current position\n                tr.delete(patternStart, $from.pos);\n                \n                // Create callout node with empty paragraph\n                const calloutType = editor.schema.nodes.callout;\n                const paragraphType = editor.schema.nodes.paragraph;\n                \n                if (calloutType && paragraphType) {\n                  const paragraph = paragraphType.create();\n                  const callout = calloutType.create({ type }, Fragment.from(paragraph));\n                  \n                  tr.insert(patternStart, callout);\n                  \n                  // Position cursor inside the callout paragraph\n                  const newPos = tr.doc.resolve(patternStart + 2);\n                  tr.setSelection(TextSelection.near(newPos));\n                  \n                  view.dispatch(tr);\n                }\n                \n                return true;\n              }\n            }\n            \n            return false;\n          },\n        },\n      }),\n    ];\n  },\n});\n\nexport default CalloutInputRule;\n","import { Extension } from '@tiptap/core';\nimport { Plugin, PluginKey } from '@tiptap/pm/state';\nimport { Decoration, DecorationSet } from '@tiptap/pm/view';\n\n/*\n * DESIGN: Dark Mode Craftsman\n * Search highlight extension to show all matches in the document\n * Uses decorations to highlight matches without modifying content\n */\n\nexport interface SearchHighlightOptions {\n  searchTerm: string;\n  caseSensitive: boolean;\n  useRegex: boolean;\n  currentMatchIndex: number;\n}\n\nexport interface SearchHighlightStorage {\n  searchTerm: string;\n  caseSensitive: boolean;\n  useRegex: boolean;\n  currentMatchIndex: number;\n}\n\nconst searchHighlightPluginKey = new PluginKey('searchHighlight');\n\nexport const SearchHighlight = Extension.create<SearchHighlightOptions, SearchHighlightStorage>({\n  name: 'searchHighlight',\n\n  addOptions() {\n    return {\n      searchTerm: '',\n      caseSensitive: false,\n      useRegex: false,\n      currentMatchIndex: 0,\n    };\n  },\n\n  addStorage() {\n    return {\n      searchTerm: '',\n      caseSensitive: false,\n      useRegex: false,\n      currentMatchIndex: 0,\n    };\n  },\n\n  addCommands() {\n    return {\n      setSearchHighlight: (options: Partial<SearchHighlightOptions>) => ({ editor, tr, dispatch }) => {\n        this.storage.searchTerm = options.searchTerm ?? this.storage.searchTerm;\n        this.storage.caseSensitive = options.caseSensitive ?? this.storage.caseSensitive;\n        this.storage.useRegex = options.useRegex ?? this.storage.useRegex;\n        this.storage.currentMatchIndex = options.currentMatchIndex ?? this.storage.currentMatchIndex;\n        \n        // Use setMeta to trigger plugin state update without modifying document\n        if (dispatch) {\n          dispatch(tr.setMeta(searchHighlightPluginKey, { update: true }));\n        }\n        return true;\n      },\n      clearSearchHighlight: () => ({ editor, tr, dispatch }) => {\n        this.storage.searchTerm = '';\n        this.storage.caseSensitive = false;\n        this.storage.useRegex = false;\n        this.storage.currentMatchIndex = 0;\n        \n        // Use setMeta to trigger plugin state update without modifying document\n        if (dispatch) {\n          dispatch(tr.setMeta(searchHighlightPluginKey, { update: true }));\n        }\n        return true;\n      },\n    };\n  },\n\n  addProseMirrorPlugins() {\n    const storage = this.storage;\n\n    return [\n      new Plugin({\n        key: searchHighlightPluginKey,\n        state: {\n          init() {\n            return DecorationSet.empty;\n          },\n          apply(tr, oldDecorations, oldState, newState) {\n            const { searchTerm, caseSensitive, useRegex, currentMatchIndex } = storage;\n\n            // Check if we need to update (either document changed or meta was set)\n            const meta = tr.getMeta(searchHighlightPluginKey);\n            const docChanged = tr.docChanged;\n            \n            // If no search term, return empty\n            if (!searchTerm) {\n              return DecorationSet.empty;\n            }\n\n            // If document didn't change and no meta update, map old decorations\n            if (!docChanged && !meta) {\n              return oldDecorations.map(tr.mapping, newState.doc);\n            }\n\n            const decorations: Decoration[] = [];\n            let matchIndex = 0;\n\n            try {\n              let searchPattern: RegExp;\n              if (useRegex) {\n                searchPattern = new RegExp(searchTerm, caseSensitive ? 'g' : 'gi');\n              } else {\n                const escaped = searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n                searchPattern = new RegExp(escaped, caseSensitive ? 'g' : 'gi');\n              }\n\n              newState.doc.descendants((node, pos) => {\n                if (node.isText && node.text) {\n                  let match;\n                  while ((match = searchPattern.exec(node.text)) !== null) {\n                    const from = pos + match.index;\n                    const to = pos + match.index + match[0].length;\n                    \n                    // Check if this is the current match\n                    const isCurrentMatch = matchIndex === currentMatchIndex;\n                    \n                    decorations.push(\n                      Decoration.inline(from, to, {\n                        class: isCurrentMatch ? 'search-highlight-current' : 'search-highlight',\n                      })\n                    );\n                    \n                    matchIndex++;\n                  }\n                }\n                return true;\n              });\n            } catch {\n              // Invalid regex, return empty decorations\n              return DecorationSet.empty;\n            }\n\n            return DecorationSet.create(newState.doc, decorations);\n          },\n        },\n        props: {\n          decorations(state) {\n            return this.getState(state);\n          },\n        },\n      }),\n    ];\n  },\n});\n\n// Extend TipTap commands type\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    searchHighlight: {\n      setSearchHighlight: (options: Partial<SearchHighlightOptions>) => ReturnType;\n      clearSearchHighlight: () => ReturnType;\n    };\n  }\n}\n","import { Extension } from '@tiptap/core';\nimport { Plugin, PluginKey } from '@tiptap/pm/state';\nimport { keymap } from '@tiptap/pm/keymap';\n\n/**\n * TabIndent Extension\n * Handles Tab and Shift+Tab for nesting/unnesting list items\n * \n * Key behavior:\n * - Tab in list: Nest the current list item (make it a child of the previous item)\n * - Shift+Tab in list: Unnest the current list item (move it up one level)\n * - Tab outside list: Prevent default browser behavior (no focus change)\n * - Shift+Tab outside list: Prevent default browser behavior\n * \n * Uses ProseMirror keymap plugin for reliable Tab key interception\n */\nexport const TabIndent = Extension.create({\n  name: 'tabIndent',\n\n  // Set higher priority to ensure this extension handles Tab before other extensions\n  priority: 1000,\n\n  addProseMirrorPlugins() {\n    const editor = this.editor;\n    \n    return [\n      keymap({\n        'Tab': (state, dispatch) => {\n          const { $from } = state.selection;\n          \n          // Check if we're in a list by looking at the parent nodes\n          let inList = false;\n          let isTaskList = false;\n          \n          for (let depth = $from.depth; depth >= 0; depth--) {\n            const node = $from.node(depth);\n            if (node.type.name === 'taskList') {\n              inList = true;\n              isTaskList = true;\n              break;\n            }\n            if (node.type.name === 'bulletList' || node.type.name === 'orderedList') {\n              inList = true;\n              break;\n            }\n          }\n          \n          if (inList) {\n            // Tab: Nest (sink list item)\n            if (isTaskList) {\n              editor.chain().focus().sinkListItem('taskItem').run();\n            } else {\n              editor.chain().focus().sinkListItem('listItem').run();\n            }\n          }\n          \n          // Always return true to prevent browser default Tab behavior\n          return true;\n        },\n        'Shift-Tab': (state, dispatch) => {\n          const { $from } = state.selection;\n          \n          // Check if we're in a list by looking at the parent nodes\n          let inList = false;\n          let isTaskList = false;\n          \n          for (let depth = $from.depth; depth >= 0; depth--) {\n            const node = $from.node(depth);\n            if (node.type.name === 'taskList') {\n              inList = true;\n              isTaskList = true;\n              break;\n            }\n            if (node.type.name === 'bulletList' || node.type.name === 'orderedList') {\n              inList = true;\n              break;\n            }\n          }\n          \n          if (inList) {\n            // Shift+Tab: Unnest (lift list item)\n            if (isTaskList) {\n              editor.chain().focus().liftListItem('taskItem').run();\n            } else {\n              editor.chain().focus().liftListItem('listItem').run();\n            }\n          }\n          \n          // Always return true to prevent browser default Shift+Tab behavior\n          return true;\n        },\n      }),\n    ];\n  },\n});\n","import { Extension } from '@tiptap/core';\nimport { Plugin, PluginKey } from '@tiptap/pm/state';\nimport { Decoration, DecorationSet } from '@tiptap/pm/view';\nimport { undo, redo } from '@tiptap/pm/history';\n\n/*\n * SelectAllOccurrences Extension\n * \n * Provides \"Select All Occurrences\" functionality similar to VS Code's Cmd+Shift+L,\n * plus \"Select Next Occurrence\" (Cmd+D) for incremental selection.\n * When activated, all matching text ranges are highlighted and any formatting\n * operation (bold, italic, etc.) is applied to ALL matches in a single transaction.\n * \n * Features:\n * - Visual highlighting via ProseMirror decorations\n * - Cmd+D incremental selection (add next occurrence one at a time)\n * - Cmd+Shift+L select all occurrences at once\n * - Batch mark toggle (bold, italic, underline, strikethrough)\n * - Batch delete\n * - Batch replace-with-typed-text (intercepts keystrokes to replace all occurrences)\n * - Regex-based matching support\n * - Floating action bar integration via storage state\n * - Proper undo/redo: each keystroke is one undo step, Cmd+Z reverts and Cmd+Shift+Z re-applies\n */\n\nexport interface OccurrenceRange {\n  from: number;\n  to: number;\n  text: string;\n}\n\nexport interface SelectAllOccurrencesStorage {\n  isActive: boolean;\n  ranges: OccurrenceRange[];\n  searchTerm: string;\n  caseSensitive: boolean;\n  useRegex: boolean;\n  wholeWord: boolean;\n  /** Tracks accumulated typed text for batch replace preview */\n  typedBuffer: string;\n  /** Whether we are in \"typing replacement\" mode */\n  isTypingReplace: boolean;\n  /** The original search term length, used for position tracking */\n  originalTermLength: number;\n  /** All matches in the document (for incremental Cmd+D) */\n  allMatches: OccurrenceRange[];\n  /** Index into allMatches for the next Cmd+D selection */\n  nextMatchIndex: number;\n  /** Whether we're in incremental (Cmd+D) mode vs select-all mode */\n  isIncremental: boolean;\n  /** Stack of previous typed buffers for undo tracking */\n  undoStack: string[];\n  /** Stack of forward typed buffers for redo tracking */\n  redoStack: string[];\n}\n\nconst selectAllOccurrencesPluginKey = new PluginKey('selectAllOccurrences');\n\n/**\n * Helper: find all matches of a search term in the document.\n */\nfunction findAllMatches(\n  doc: any,\n  searchTerm: string,\n  caseSensitive: boolean,\n  useRegex: boolean,\n  wholeWord: boolean,\n): OccurrenceRange[] {\n  const ranges: OccurrenceRange[] = [];\n  if (!searchTerm) return ranges;\n\n  let searchPattern: RegExp;\n  try {\n    if (useRegex) {\n      searchPattern = new RegExp(searchTerm, caseSensitive ? 'g' : 'gi');\n    } else {\n      let escaped = searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n      if (wholeWord) {\n        escaped = `\\\\b${escaped}\\\\b`;\n      }\n      searchPattern = new RegExp(escaped, caseSensitive ? 'g' : 'gi');\n    }\n  } catch {\n    return ranges;\n  }\n\n  doc.descendants((node: any, pos: number) => {\n    if (node.isText && node.text) {\n      let match;\n      while ((match = searchPattern.exec(node.text)) !== null) {\n        ranges.push({\n          from: pos + match.index,\n          to: pos + match.index + match[0].length,\n          text: match[0],\n        });\n      }\n    }\n    return true;\n  });\n\n  return ranges;\n}\n\n/**\n * Helper: rebuild ranges after a batch replacement by reading the actual\n * text at tracked positions. We use the decoration positions (which are\n * automatically mapped by ProseMirror) to know where the replaced text is.\n */\nfunction rebuildRangesFromDecorations(\n  view: any,\n  _storage: SelectAllOccurrencesStorage,\n): OccurrenceRange[] {\n  const pluginState = selectAllOccurrencesPluginKey.getState(view.state);\n  if (!pluginState) return [];\n\n  const ranges: OccurrenceRange[] = [];\n  pluginState.find().forEach((deco: any) => {\n    // Skip widget decorations (cursors) — they have from === to\n    if (deco.from === deco.to) return;\n    const text = view.state.doc.textBetween(deco.from, deco.to, '');\n    ranges.push({ from: deco.from, to: deco.to, text });\n  });\n  return ranges;\n}\n\n/**\n * Helper: find the closest match to the current cursor position.\n * Returns the index of the match that is at or after the cursor.\n */\nfunction findClosestMatchIndex(\n  matches: OccurrenceRange[],\n  cursorPos: number,\n): number {\n  for (let i = 0; i < matches.length; i++) {\n    if (matches[i].from >= cursorPos) return i;\n  }\n  // Wrap around to the first match\n  return 0;\n}\n\n/**\n * Helper: deactivate select all mode and clear storage.\n */\nfunction deactivateMode(storage: SelectAllOccurrencesStorage) {\n  storage.isActive = false;\n  storage.ranges = [];\n  storage.searchTerm = '';\n  storage.typedBuffer = '';\n  storage.isTypingReplace = false;\n  storage.allMatches = [];\n  storage.nextMatchIndex = 0;\n  storage.isIncremental = false;\n  storage.undoStack = [];\n  storage.redoStack = [];\n}\n\nexport const SelectAllOccurrences = Extension.create<{}, SelectAllOccurrencesStorage>({\n  name: 'selectAllOccurrences',\n\n  addStorage() {\n    return {\n      isActive: false,\n      ranges: [],\n      searchTerm: '',\n      caseSensitive: false,\n      useRegex: false,\n      wholeWord: false,\n      typedBuffer: '',\n      isTypingReplace: false,\n      originalTermLength: 0,\n      allMatches: [],\n      nextMatchIndex: 0,\n      isIncremental: false,\n      undoStack: [],\n      redoStack: [],\n    };\n  },\n\n  addCommands() {\n    return {\n      /**\n       * Activate \"Select All Occurrences\" mode — highlights ALL matches at once.\n       */\n      selectAllOccurrences: (options: {\n        searchTerm: string;\n        caseSensitive?: boolean;\n        useRegex?: boolean;\n        wholeWord?: boolean;\n      }) => ({ editor, tr, dispatch }) => {\n        const {\n          searchTerm,\n          caseSensitive = false,\n          useRegex = false,\n          wholeWord = false,\n        } = options;\n\n        if (!searchTerm) return false;\n\n        const ranges = findAllMatches(editor.state.doc, searchTerm, caseSensitive, useRegex, wholeWord);\n        if (ranges.length === 0) return false;\n\n        // Store state\n        this.storage.isActive = true;\n        this.storage.ranges = ranges;\n        this.storage.searchTerm = searchTerm;\n        this.storage.caseSensitive = caseSensitive;\n        this.storage.useRegex = useRegex;\n        this.storage.wholeWord = wholeWord;\n        this.storage.typedBuffer = '';\n        this.storage.isTypingReplace = false;\n        this.storage.originalTermLength = searchTerm.length;\n        this.storage.allMatches = ranges;\n        this.storage.nextMatchIndex = ranges.length; // All selected\n        this.storage.isIncremental = false;\n        this.storage.undoStack = [];\n        this.storage.redoStack = [];\n\n        if (dispatch) {\n          dispatch(tr.setMeta(selectAllOccurrencesPluginKey, { activate: true }));\n        }\n\n        return true;\n      },\n\n      /**\n       * Select the next occurrence incrementally (Cmd+D behavior).\n       * First call: selects the word under cursor or current selection.\n       * Subsequent calls: add the next match to the selection.\n       */\n      selectNextOccurrence: () => ({ editor, tr, dispatch }) => {\n        const storage = this.storage;\n\n        if (!storage.isActive) {\n          // First invocation: determine search term from selection or word under cursor\n          const { state } = editor;\n          const { from, to } = state.selection;\n          let searchTerm = '';\n\n          if (from !== to) {\n            // Use current text selection\n            searchTerm = state.doc.textBetween(from, to, '');\n          } else {\n            // Select the word under cursor\n            const $pos = state.doc.resolve(from);\n            const textNode = $pos.parent;\n            if (textNode.isTextblock) {\n              const textContent = textNode.textContent;\n              const offset = $pos.parentOffset;\n              // Find word boundaries\n              let start = offset;\n              let end = offset;\n              while (start > 0 && /\\w/.test(textContent[start - 1])) start--;\n              while (end < textContent.length && /\\w/.test(textContent[end])) end++;\n              if (start < end) {\n                searchTerm = textContent.slice(start, end);\n              }\n            }\n          }\n\n          if (!searchTerm) return false;\n\n          // Find all matches\n          const allMatches = findAllMatches(state.doc, searchTerm, false, false, false);\n          if (allMatches.length === 0) return false;\n\n          // Find the match closest to cursor to start from\n          const startIndex = findClosestMatchIndex(allMatches, from);\n          const firstMatch = allMatches[startIndex];\n\n          // Activate incremental mode with just the first match\n          storage.isActive = true;\n          storage.ranges = [firstMatch];\n          storage.searchTerm = searchTerm;\n          storage.caseSensitive = false;\n          storage.useRegex = false;\n          storage.wholeWord = false;\n          storage.typedBuffer = '';\n          storage.isTypingReplace = false;\n          storage.originalTermLength = searchTerm.length;\n          storage.allMatches = allMatches;\n          storage.nextMatchIndex = (startIndex + 1) % allMatches.length;\n          storage.isIncremental = true;\n          storage.undoStack = [];\n          storage.redoStack = [];\n\n          if (dispatch) {\n            dispatch(tr.setMeta(selectAllOccurrencesPluginKey, { activate: true }));\n          }\n\n          // Scroll to the first match\n          setTimeout(() => {\n            try {\n              const domAtPos = editor.view.domAtPos(firstMatch.from);\n              if (domAtPos.node) {\n                const element = domAtPos.node.parentElement;\n                element?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n              }\n            } catch { /* ignore */ }\n          }, 20);\n\n          return true;\n        }\n\n        // Already active in incremental mode: add the next match\n        if (storage.isIncremental && storage.allMatches.length > 0) {\n          const nextIndex = storage.nextMatchIndex;\n          const nextMatch = storage.allMatches[nextIndex];\n\n          // Check if this match is already in our ranges\n          const alreadySelected = storage.ranges.some(\n            r => r.from === nextMatch.from && r.to === nextMatch.to\n          );\n\n          if (alreadySelected) {\n            // All matches already selected\n            return false;\n          }\n\n          // Add the next match\n          storage.ranges = [...storage.ranges, nextMatch];\n          storage.nextMatchIndex = (nextIndex + 1) % storage.allMatches.length;\n\n          // Check if we've now selected all matches\n          if (storage.ranges.length >= storage.allMatches.length) {\n            storage.isIncremental = false; // Now in full select-all mode\n          }\n\n          if (dispatch) {\n            dispatch(tr.setMeta(selectAllOccurrencesPluginKey, { activate: true }));\n          }\n\n          // Scroll to the newly added match\n          setTimeout(() => {\n            try {\n              const domAtPos = editor.view.domAtPos(nextMatch.from);\n              if (domAtPos.node) {\n                const element = domAtPos.node.parentElement;\n                element?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n              }\n            } catch { /* ignore */ }\n          }, 20);\n\n          return true;\n        }\n\n        return false;\n      },\n\n      /**\n       * Deactivate \"Select All Occurrences\" mode and clear highlights.\n       */\n      clearAllOccurrences: () => ({ tr, dispatch }) => {\n        deactivateMode(this.storage);\n\n        if (dispatch) {\n          dispatch(tr.setMeta(selectAllOccurrencesPluginKey, { deactivate: true }));\n        }\n\n        return true;\n      },\n\n      /**\n       * Apply a mark (bold, italic, etc.) to all selected occurrences in one transaction.\n       * All changes are in a single transaction for proper undo/redo.\n       */\n      toggleMarkOnAllOccurrences: (markName: string) => ({ editor, tr, dispatch }) => {\n        if (!this.storage.isActive || this.storage.ranges.length === 0) return false;\n\n        const markType = editor.schema.marks[markName];\n        if (!markType) return false;\n\n        const { ranges } = this.storage;\n\n        // Check if ALL ranges already have this mark\n        const allHaveMark = ranges.every(range => {\n          let hasMark = true;\n          editor.state.doc.nodesBetween(range.from, range.to, (node) => {\n            if (node.isText && !markType.isInSet(node.marks)) {\n              hasMark = false;\n            }\n          });\n          return hasMark;\n        });\n\n        if (dispatch) {\n          // All mark changes go into a single transaction for atomic undo\n          for (const range of ranges) {\n            if (allHaveMark) {\n              tr.removeMark(range.from, range.to, markType);\n            } else {\n              tr.addMark(range.from, range.to, markType.create());\n            }\n          }\n          dispatch(tr);\n        }\n\n        // Refresh ranges after document change — use decoration mapping\n        setTimeout(() => {\n          try {\n            const view = (editor as any).view;\n            if (view) {\n              const newRanges = rebuildRangesFromDecorations(view, this.storage);\n              this.storage.ranges = newRanges;\n              if (newRanges.length === 0) {\n                deactivateMode(this.storage);\n              }\n            }\n          } catch { /* ignore */ }\n        }, 10);\n\n        return true;\n      },\n\n      /**\n       * Delete all selected occurrences in a single transaction.\n       */\n      deleteAllOccurrences: () => ({ editor, tr, dispatch }) => {\n        if (!this.storage.isActive || this.storage.ranges.length === 0) return false;\n\n        if (dispatch) {\n          // Sort in reverse order and delete in a single transaction\n          const sortedRanges = [...this.storage.ranges].sort((a, b) => b.from - a.from);\n          for (const range of sortedRanges) {\n            tr.delete(range.from, range.to);\n          }\n          dispatch(tr);\n        }\n\n        deactivateMode(this.storage);\n\n        return true;\n      },\n\n      /**\n       * Replace all selected occurrences with new text in a single transaction.\n       */\n      replaceAllOccurrences: (newText: string) => ({ editor, tr, dispatch }) => {\n        if (!this.storage.isActive || this.storage.ranges.length === 0) return false;\n\n        if (dispatch) {\n          // Sort in reverse order and replace in a single transaction\n          const sortedRanges = [...this.storage.ranges].sort((a, b) => b.from - a.from);\n          for (const range of sortedRanges) {\n            tr.replaceWith(range.from, range.to, editor.schema.text(newText));\n          }\n          dispatch(tr);\n        }\n\n        if (newText) {\n          // Refresh via decoration mapping\n          setTimeout(() => {\n            try {\n              const view = (editor as any).view;\n              if (view) {\n                const newRanges = rebuildRangesFromDecorations(view, this.storage);\n                this.storage.ranges = newRanges;\n                this.storage.searchTerm = newText;\n                if (newRanges.length === 0) {\n                  deactivateMode(this.storage);\n                }\n              }\n            } catch { /* ignore */ }\n          }, 10);\n        } else {\n          deactivateMode(this.storage);\n        }\n\n        return true;\n      },\n\n      /**\n       * Get the current state of Select All Occurrences mode.\n       */\n      getOccurrencesState: () => () => {\n        return true;\n      },\n    };\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      // Cmd+D / Ctrl+D: select next occurrence incrementally\n      'Mod-d': () => {\n        return this.editor.commands.selectNextOccurrence();\n      },\n    };\n  },\n\n  addProseMirrorPlugins() {\n    const storage = this.storage;\n\n    return [\n      new Plugin({\n        key: selectAllOccurrencesPluginKey,\n        state: {\n          init() {\n            return DecorationSet.empty;\n          },\n          apply(tr, oldDecorations, _oldState, newState) {\n            const meta = tr.getMeta(selectAllOccurrencesPluginKey);\n\n            if (meta?.deactivate || !storage.isActive) {\n              return DecorationSet.empty;\n            }\n\n            if (meta?.activate || meta?.refresh) {\n              const decorations: Decoration[] = [];\n              for (const range of storage.ranges) {\n                // Inline highlight for the matched text\n                decorations.push(\n                  Decoration.inline(range.from, range.to, {\n                    class: 'select-all-occurrence-highlight',\n                    'data-occurrence': 'true',\n                  })\n                );\n                // Widget cursor at the end of each occurrence\n                const cursorWidget = document.createElement('span');\n                cursorWidget.className = 'select-all-multi-cursor';\n                cursorWidget.setAttribute('aria-hidden', 'true');\n                decorations.push(\n                  Decoration.widget(range.to, cursorWidget, {\n                    side: 1,\n                    key: `cursor-${range.from}-${range.to}`,\n                  })\n                );\n              }\n              return DecorationSet.create(newState.doc, decorations);\n            }\n\n            // When the doc changes (e.g., from batch replace), map decorations\n            // to their new positions. This is the key to tracking ranges correctly.\n            if (tr.docChanged) {\n              const mapped = oldDecorations.map(tr.mapping, newState.doc);\n              return mapped;\n            }\n\n            return oldDecorations;\n          },\n        },\n        props: {\n          decorations(state) {\n            return this.getState(state);\n          },\n\n          // Clicking outside the highlighted ranges exits the mode\n          handleClick(view, pos) {\n            if (!storage.isActive) return false;\n\n            const isInsideRange = storage.ranges.some(\n              range => pos >= range.from && pos <= range.to\n            );\n\n            if (!isInsideRange) {\n              deactivateMode(storage);\n\n              const { tr } = view.state;\n              view.dispatch(tr.setMeta(selectAllOccurrencesPluginKey, { deactivate: true }));\n            }\n\n            return false;\n          },\n\n          /**\n           * Intercept keystrokes when Select All mode is active.\n           * - Escape: exit mode\n           * - Backspace: delete one char from typed buffer, or delete all occurrences if buffer empty\n           * - Cmd+Z / Ctrl+Z: undo the last batch replacement step\n           * - Formatting shortcuts (Cmd+B, Cmd+I, etc.): let them through for batch formatting\n           */\n          handleKeyDown(view, event) {\n            if (!storage.isActive) return false;\n\n            // Escape: exit mode\n            if (event.key === 'Escape') {\n              deactivateMode(storage);\n\n              const { tr } = view.state;\n              view.dispatch(tr.setMeta(selectAllOccurrencesPluginKey, { deactivate: true }));\n              return true;\n            }\n\n            // Cmd+Z / Ctrl+Z: undo within Select All mode\n            if ((event.metaKey || event.ctrlKey) && event.key === 'z' && !event.shiftKey) {\n              event.preventDefault();\n\n              if (storage.isTypingReplace && storage.undoStack.length > 0) {\n                // Save current buffer to redo stack before undoing\n                storage.redoStack.push(storage.typedBuffer);\n\n                // Pop the previous buffer state from the undo stack\n                const previousBuffer = storage.undoStack.pop()!;\n\n                // Update storage BEFORE calling undo so the action bar reads\n                // the correct state when the undo transaction triggers a re-render\n                storage.typedBuffer = previousBuffer;\n                if (previousBuffer === '') {\n                  storage.isTypingReplace = false;\n                }\n\n                // Use ProseMirror's undo to revert the last transaction\n                undo(view.state, view.dispatch);\n\n                // Rebuild ranges from the (now reverted) decorations\n                setTimeout(() => {\n                  const newRanges = rebuildRangesFromDecorations(view, storage);\n                  storage.ranges = newRanges;\n                  if (newRanges.length === 0) {\n                    deactivateMode(storage);\n                  }\n                }, 10);\n\n                return true;\n              }\n\n              // If not in typing replace mode, or undo stack is empty,\n              // exit select-all mode and let ProseMirror handle undo normally\n              deactivateMode(storage);\n              const { tr } = view.state;\n              view.dispatch(tr.setMeta(selectAllOccurrencesPluginKey, { deactivate: true }));\n              return false; // Let default undo proceed\n            }\n\n            // Cmd+Shift+Z / Ctrl+Y: redo within Select All mode\n            if ((event.metaKey || event.ctrlKey) && ((event.key === 'z' && event.shiftKey) || event.key === 'y')) {\n              event.preventDefault();\n\n              if (storage.redoStack.length > 0) {\n                // Save current buffer to undo stack before redoing\n                storage.undoStack.push(storage.isTypingReplace ? storage.typedBuffer : '');\n\n                // Pop the next buffer state from the redo stack\n                const nextBuffer = storage.redoStack.pop()!;\n\n                // Update storage BEFORE calling redo so the action bar reads\n                // the correct state when the redo transaction triggers a re-render\n                storage.typedBuffer = nextBuffer;\n                storage.isTypingReplace = true;\n\n                // Use ProseMirror's redo to re-apply the last undone transaction\n                redo(view.state, view.dispatch);\n\n                // Rebuild ranges from the (now re-applied) decorations\n                setTimeout(() => {\n                  const newRanges = rebuildRangesFromDecorations(view, storage);\n                  storage.ranges = newRanges;\n                  if (newRanges.length === 0) {\n                    deactivateMode(storage);\n                  }\n                }, 10);\n\n                return true;\n              }\n\n              // If redo stack is empty, exit select-all mode and let ProseMirror handle redo\n              deactivateMode(storage);\n              const { tr: redoTr } = view.state;\n              view.dispatch(redoTr.setMeta(selectAllOccurrencesPluginKey, { deactivate: true }));\n              return false; // Let default redo proceed\n            }\n\n            // Let formatting shortcuts through (Cmd+B, Cmd+I, Cmd+U, Cmd+Shift+X)\n            // Also let Cmd+D through for incremental selection\n            if (event.metaKey || event.ctrlKey) {\n              return false;\n            }\n\n            // Backspace handling\n            if (event.key === 'Backspace') {\n              event.preventDefault();\n\n              if (storage.isTypingReplace && storage.typedBuffer.length > 0) {\n                // Push current buffer to undo stack before modifying\n                storage.undoStack.push(storage.typedBuffer);\n\n                // Remove last char from typed buffer\n                storage.typedBuffer = storage.typedBuffer.slice(0, -1);\n\n                // Get current positions from decorations\n                const currentRanges = rebuildRangesFromDecorations(view, storage);\n                if (currentRanges.length === 0) {\n                  deactivateMode(storage);\n                  const { tr } = view.state;\n                  view.dispatch(tr.setMeta(selectAllOccurrencesPluginKey, { deactivate: true }));\n                  return true;\n                }\n\n                const newText = storage.typedBuffer.length > 0\n                  ? storage.typedBuffer\n                  : storage.searchTerm; // Restore original if buffer empty\n\n                // Replace all at current decoration positions in a single transaction\n                const sortedRanges = [...currentRanges].sort((a, b) => b.from - a.from);\n                const { tr } = view.state;\n                for (const range of sortedRanges) {\n                  tr.replaceWith(range.from, range.to, view.state.schema.text(newText));\n                }\n                view.dispatch(tr);\n\n                if (storage.typedBuffer.length === 0) {\n                  storage.isTypingReplace = false;\n                }\n\n                // Rebuild ranges from mapped decorations\n                setTimeout(() => {\n                  const newRanges = rebuildRangesFromDecorations(view, storage);\n                  storage.ranges = newRanges;\n                  if (newRanges.length === 0) {\n                    deactivateMode(storage);\n                  }\n                }, 10);\n\n              } else if (!storage.isTypingReplace) {\n                // Not in typing mode — delete all occurrences in a single transaction\n                const sortedRanges = [...storage.ranges].sort((a, b) => b.from - a.from);\n                const { tr } = view.state;\n                for (const range of sortedRanges) {\n                  tr.delete(range.from, range.to);\n                }\n                view.dispatch(tr);\n\n                deactivateMode(storage);\n\n                const { tr: clearTr } = view.state;\n                view.dispatch(clearTr.setMeta(selectAllOccurrencesPluginKey, { deactivate: true }));\n              }\n\n              return true;\n            }\n\n            // Delete key: delete all occurrences in a single transaction\n            if (event.key === 'Delete') {\n              event.preventDefault();\n\n              const sortedRanges = [...storage.ranges].sort((a, b) => b.from - a.from);\n              const { tr } = view.state;\n              for (const range of sortedRanges) {\n                tr.delete(range.from, range.to);\n              }\n              view.dispatch(tr);\n\n              deactivateMode(storage);\n\n              const { tr: clearTr } = view.state;\n              view.dispatch(clearTr.setMeta(selectAllOccurrencesPluginKey, { deactivate: true }));\n              return true;\n            }\n\n            // Arrow keys, Tab, etc. — exit mode\n            if (['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Tab', 'Home', 'End'].includes(event.key)) {\n              deactivateMode(storage);\n\n              const { tr } = view.state;\n              view.dispatch(tr.setMeta(selectAllOccurrencesPluginKey, { deactivate: true }));\n              return false; // Let the key event propagate for cursor movement\n            }\n\n            // Enter: exit mode and insert newline normally\n            if (event.key === 'Enter') {\n              deactivateMode(storage);\n\n              const { tr } = view.state;\n              view.dispatch(tr.setMeta(selectAllOccurrencesPluginKey, { deactivate: true }));\n              return false;\n            }\n\n            return false;\n          },\n\n          /**\n           * Intercept text input (typed characters) for batch replacement.\n           * \n           * Each keystroke creates a single transaction that replaces all occurrences,\n           * making each step individually undoable via Cmd+Z.\n           * \n           * KEY FIX: Instead of re-searching the document after replacement (which\n           * would find false matches), we rely on ProseMirror's decoration mapping\n           * to track where the replaced text lives.\n           */\n          handleTextInput(view, _from, _to, text) {\n            if (!storage.isActive) return false;\n            if (!text) return false;\n\n            // Get current positions from decorations (these are always accurate\n            // because ProseMirror maps them through transactions)\n            const currentRanges = rebuildRangesFromDecorations(view, storage);\n            if (currentRanges.length === 0) {\n              deactivateMode(storage);\n              const { tr } = view.state;\n              view.dispatch(tr.setMeta(selectAllOccurrencesPluginKey, { deactivate: true }));\n              return true;\n            }\n\n            // Push current buffer state to undo stack before modifying\n            storage.undoStack.push(storage.isTypingReplace ? storage.typedBuffer : '');\n\n            // Clear redo stack on new input (standard editor behavior:\n            // typing after undo invalidates the redo history)\n            storage.redoStack = [];\n\n            // Accumulate typed text\n            if (!storage.isTypingReplace) {\n              storage.isTypingReplace = true;\n              storage.typedBuffer = text;\n            } else {\n              storage.typedBuffer += text;\n            }\n\n            // Replace all occurrences at their current decoration positions\n            // with the accumulated buffer in a SINGLE transaction (atomic undo).\n            const sortedRanges = [...currentRanges].sort((a, b) => b.from - a.from);\n            const { tr } = view.state;\n            for (const range of sortedRanges) {\n              tr.replaceWith(range.from, range.to, view.state.schema.text(storage.typedBuffer));\n            }\n            view.dispatch(tr);\n\n            // After the transaction, decorations are automatically mapped.\n            // Rebuild storage.ranges from the mapped decorations.\n            setTimeout(() => {\n              const newRanges = rebuildRangesFromDecorations(view, storage);\n              storage.ranges = newRanges;\n              if (newRanges.length === 0) {\n                deactivateMode(storage);\n              }\n            }, 10);\n\n            return true; // Prevent default text insertion\n          },\n        },\n      }),\n    ];\n  },\n});\n\n// Extend TipTap commands type\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    selectAllOccurrences: {\n      selectAllOccurrences: (options: {\n        searchTerm: string;\n        caseSensitive?: boolean;\n        useRegex?: boolean;\n        wholeWord?: boolean;\n      }) => ReturnType;\n      selectNextOccurrence: () => ReturnType;\n      clearAllOccurrences: () => ReturnType;\n      toggleMarkOnAllOccurrences: (markName: string) => ReturnType;\n      deleteAllOccurrences: () => ReturnType;\n      replaceAllOccurrences: (newText: string) => ReturnType;\n      getOccurrencesState: () => ReturnType;\n    };\n  }\n}\n","import { Extension } from '@tiptap/core';\nimport { Plugin, PluginKey, TextSelection } from '@tiptap/pm/state';\n\nexport interface ImageUploadOptions {\n  /**\n   * Maximum file size in bytes (default: 5MB)\n   */\n  maxFileSize: number;\n  /**\n   * Allowed image MIME types\n   */\n  allowedMimeTypes: string[];\n  /**\n   * Enable image compression (default: true)\n   */\n  enableCompression: boolean;\n  /**\n   * Maximum width for compressed images (default: 1200px)\n   */\n  maxCompressedWidth: number;\n  /**\n   * JPEG quality for compression (0-1, default: 0.8)\n   */\n  compressionQuality: number;\n  /**\n   * Callback when upload starts\n   */\n  onUploadStart?: () => void;\n  /**\n   * Callback when upload completes\n   */\n  onUploadComplete?: () => void;\n  /**\n   * Callback when upload fails\n   */\n  onUploadError?: (error: string) => void;\n}\n\n/**\n * Convert a File to a base64 data URL\n */\nfunction fileToBase64(file: File): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n      if (typeof reader.result === 'string') {\n        resolve(reader.result);\n      } else {\n        reject(new Error('Failed to read file'));\n      }\n    };\n    reader.onerror = () => reject(new Error('Failed to read file'));\n    reader.readAsDataURL(file);\n  });\n}\n\n/**\n * Validate if a file is an allowed image type\n */\nfunction isValidImage(file: File, allowedTypes: string[]): boolean {\n  return allowedTypes.includes(file.type);\n}\n\n/**\n * Get image dimensions from a data URL\n */\nfunction getImageDimensions(dataUrl: string): Promise<{ width: number; height: number }> {\n  return new Promise((resolve) => {\n    const img = new Image();\n    img.onload = () => {\n      resolve({ width: img.width, height: img.height });\n    };\n    img.onerror = () => {\n      // Default dimensions if we can't load the image\n      resolve({ width: 400, height: 300 });\n    };\n    img.src = dataUrl;\n  });\n}\n\n/**\n * Compress an image file using canvas\n * Returns a compressed data URL\n */\nasync function compressImage(\n  file: File,\n  maxWidth: number,\n  quality: number\n): Promise<{ dataUrl: string; width: number; height: number }> {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    const reader = new FileReader();\n\n    reader.onload = (e) => {\n      img.src = e.target?.result as string;\n    };\n\n    reader.onerror = () => reject(new Error('Failed to read file'));\n\n    img.onload = () => {\n      // Calculate new dimensions\n      let width = img.width;\n      let height = img.height;\n\n      // Only resize if image is larger than maxWidth\n      if (width > maxWidth) {\n        const ratio = maxWidth / width;\n        width = maxWidth;\n        height = Math.round(height * ratio);\n      }\n\n      // Create canvas for compression\n      const canvas = document.createElement('canvas');\n      canvas.width = width;\n      canvas.height = height;\n\n      const ctx = canvas.getContext('2d');\n      if (!ctx) {\n        reject(new Error('Failed to get canvas context'));\n        return;\n      }\n\n      // Draw image with high quality\n      ctx.imageSmoothingEnabled = true;\n      ctx.imageSmoothingQuality = 'high';\n      ctx.drawImage(img, 0, 0, width, height);\n\n      // Determine output format\n      // Use JPEG for photos (better compression), PNG for images with transparency\n      const isTransparent = file.type === 'image/png' || file.type === 'image/gif';\n      const outputType = isTransparent ? 'image/png' : 'image/jpeg';\n      const outputQuality = isTransparent ? undefined : quality;\n\n      // Convert to data URL\n      const dataUrl = canvas.toDataURL(outputType, outputQuality);\n\n      resolve({ dataUrl, width, height });\n    };\n\n    img.onerror = () => reject(new Error('Failed to load image'));\n\n    reader.readAsDataURL(file);\n  });\n}\n\n/**\n * Process and insert an image file into the editor\n */\nasync function processAndInsertImage(\n  file: File,\n  editor: any,\n  options: ImageUploadOptions\n): Promise<boolean> {\n  // Validate file type\n  if (!isValidImage(file, options.allowedMimeTypes)) {\n    options.onUploadError?.(`Invalid file type: ${file.type}. Allowed types: ${options.allowedMimeTypes.join(', ')}`);\n    return false;\n  }\n\n  // Validate file size\n  if (file.size > options.maxFileSize) {\n    const maxSizeMB = (options.maxFileSize / (1024 * 1024)).toFixed(1);\n    const fileSizeMB = (file.size / (1024 * 1024)).toFixed(1);\n    options.onUploadError?.(`File too large: ${fileSizeMB}MB. Maximum size: ${maxSizeMB}MB`);\n    return false;\n  }\n\n  try {\n    options.onUploadStart?.();\n\n    let dataUrl: string;\n    let displayWidth: number;\n\n    // Check if compression is enabled and file is compressible\n    const isCompressible = ['image/jpeg', 'image/png', 'image/webp'].includes(file.type);\n    \n    if (options.enableCompression && isCompressible) {\n      // Compress the image\n      const compressed = await compressImage(\n        file,\n        options.maxCompressedWidth,\n        options.compressionQuality\n      );\n      dataUrl = compressed.dataUrl;\n      \n      // Calculate display width (max 600px for editor display)\n      const maxDisplayWidth = 600;\n      displayWidth = Math.min(compressed.width, maxDisplayWidth);\n    } else {\n      // No compression - use original\n      dataUrl = await fileToBase64(file);\n      const dimensions = await getImageDimensions(dataUrl);\n      const maxDisplayWidth = 600;\n      displayWidth = Math.min(dimensions.width, maxDisplayWidth);\n    }\n\n    // Insert the image using the resizableImage command\n    editor.chain().focus().setImage({\n      src: dataUrl,\n      alt: file.name,\n      width: displayWidth,\n    }).run();\n\n    options.onUploadComplete?.();\n    return true;\n  } catch (error) {\n    options.onUploadError?.(`Failed to process image: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    return false;\n  }\n}\n\n/**\n * Extract image files from a DataTransfer object\n */\nfunction getImageFiles(dataTransfer: DataTransfer): File[] {\n  const files: File[] = [];\n  \n  // Check items first (for drag events)\n  if (dataTransfer.items) {\n    for (let i = 0; i < dataTransfer.items.length; i++) {\n      const item = dataTransfer.items[i];\n      if (item.kind === 'file' && item.type.startsWith('image/')) {\n        const file = item.getAsFile();\n        if (file) files.push(file);\n      }\n    }\n  }\n  \n  // Fallback to files array\n  if (files.length === 0 && dataTransfer.files) {\n    for (let i = 0; i < dataTransfer.files.length; i++) {\n      const file = dataTransfer.files[i];\n      if (file.type.startsWith('image/')) {\n        files.push(file);\n      }\n    }\n  }\n  \n  return files;\n}\n\nexport const ImageUpload = Extension.create<ImageUploadOptions>({\n  name: 'imageUpload',\n\n  addOptions() {\n    return {\n      maxFileSize: 5 * 1024 * 1024, // 5MB default\n      allowedMimeTypes: [\n        'image/jpeg',\n        'image/png',\n        'image/gif',\n        'image/webp',\n        'image/svg+xml',\n      ],\n      enableCompression: true, // Enable compression by default\n      maxCompressedWidth: 1200, // Max width for compressed images\n      compressionQuality: 0.8, // JPEG quality (0-1)\n      onUploadStart: undefined,\n      onUploadComplete: undefined,\n      onUploadError: undefined,\n    };\n  },\n\n  addProseMirrorPlugins() {\n    const options = this.options;\n    const editor = this.editor;\n\n    return [\n      new Plugin({\n        key: new PluginKey('imageUpload'),\n        props: {\n          // Handle paste events with images\n          handlePaste(view, event) {\n            const clipboardData = event.clipboardData;\n            if (!clipboardData) return false;\n\n            // Check for image files in clipboard\n            const imageFiles = getImageFiles(clipboardData);\n            \n            if (imageFiles.length === 0) {\n              return false; // No images, let other handlers process\n            }\n\n            // Prevent default paste behavior\n            event.preventDefault();\n\n            // Process all images\n            imageFiles.forEach(file => {\n              processAndInsertImage(file, editor, options);\n            });\n\n            return true;\n          },\n\n          // Handle drop events with images\n          handleDrop(view, event, slice, moved) {\n            // Only handle external drops (not internal moves)\n            if (moved) return false;\n\n            const dataTransfer = event.dataTransfer;\n            if (!dataTransfer) return false;\n\n            // Check for image files\n            const imageFiles = getImageFiles(dataTransfer);\n            \n            if (imageFiles.length === 0) {\n              return false; // No images, let other handlers process\n            }\n\n            // Prevent default drop behavior\n            event.preventDefault();\n\n            // Get drop position and set cursor there\n            const coordinates = view.posAtCoords({\n              left: event.clientX,\n              top: event.clientY,\n            });\n\n            if (coordinates) {\n              // Move cursor to drop position\n              const tr = view.state.tr.setSelection(\n                TextSelection.near(view.state.doc.resolve(coordinates.pos))\n              );\n              view.dispatch(tr);\n            }\n\n            // Process all images\n            imageFiles.forEach(file => {\n              processAndInsertImage(file, editor, options);\n            });\n\n            return true;\n          },\n        },\n      }),\n    ];\n  },\n});\n\nexport default ImageUpload;\n","import { useState, useEffect, useCallback } from 'react';\nimport { ImagePlus } from 'lucide-react';\n\ninterface ImageDropZoneProps {\n  /**\n   * Reference to the container element to attach drag events to\n   */\n  containerRef: React.RefObject<HTMLElement | null>;\n  /**\n   * Whether the drop zone is enabled\n   */\n  enabled?: boolean;\n}\n\n/**\n * Visual overlay that appears when dragging images over the editor\n * Provides visual feedback for drag-and-drop image upload\n */\nexport function ImageDropZone({ containerRef, enabled = true }: ImageDropZoneProps) {\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragCounter, setDragCounter] = useState(0);\n\n  const handleDragEnter = useCallback((e: DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    // Check if the drag contains files\n    if (e.dataTransfer?.types.includes('Files')) {\n      setDragCounter(prev => prev + 1);\n      setIsDragging(true);\n    }\n  }, []);\n\n  const handleDragLeave = useCallback((e: DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    setDragCounter(prev => {\n      const newCount = prev - 1;\n      if (newCount === 0) {\n        setIsDragging(false);\n      }\n      return newCount;\n    });\n  }, []);\n\n  const handleDragOver = useCallback((e: DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n\n  const handleDrop = useCallback((e: DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n    setDragCounter(0);\n    // The actual drop handling is done by the ImageUpload extension\n  }, []);\n\n  useEffect(() => {\n    if (!enabled || !containerRef.current) return;\n\n    const container = containerRef.current;\n    \n    container.addEventListener('dragenter', handleDragEnter);\n    container.addEventListener('dragleave', handleDragLeave);\n    container.addEventListener('dragover', handleDragOver);\n    container.addEventListener('drop', handleDrop);\n\n    return () => {\n      container.removeEventListener('dragenter', handleDragEnter);\n      container.removeEventListener('dragleave', handleDragLeave);\n      container.removeEventListener('dragover', handleDragOver);\n      container.removeEventListener('drop', handleDrop);\n    };\n  }, [enabled, containerRef, handleDragEnter, handleDragLeave, handleDragOver, handleDrop]);\n\n  if (!isDragging) return null;\n\n  return (\n    <div className=\"image-drop-zone\">\n      <div className=\"image-drop-zone-content\">\n        <div className=\"image-drop-zone-icon\">\n          <ImagePlus className=\"w-12 h-12\" />\n        </div>\n        <div className=\"image-drop-zone-text\">\n          <span className=\"image-drop-zone-title\">Drop image here</span>\n          <span className=\"image-drop-zone-subtitle\">Release to insert image into the editor</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ImageDropZone;\n","import { useState, useEffect, useRef } from 'react';\nimport { X, Check, Link, Type, Trash2 } from 'lucide-react';\n\n/*\n * DESIGN: Dark Mode Craftsman\n * Image edit popover with clean, minimal design\n * Matches the editor's professional aesthetic\n */\n\ninterface ImageEditPopoverProps {\n  /**\n   * Current image source URL\n   */\n  src: string;\n  /**\n   * Current alt text\n   */\n  alt: string;\n  /**\n   * Position of the popover\n   */\n  position: { x: number; y: number };\n  /**\n   * Callback when save is clicked\n   */\n  onSave: (src: string, alt: string) => void;\n  /**\n   * Callback when delete is clicked\n   */\n  onDelete: () => void;\n  /**\n   * Callback when popover is closed\n   */\n  onClose: () => void;\n}\n\nexport function ImageEditPopover({\n  src,\n  alt,\n  position,\n  onSave,\n  onDelete,\n  onClose,\n}: ImageEditPopoverProps) {\n  const [editSrc, setEditSrc] = useState(src);\n  const [editAlt, setEditAlt] = useState(alt);\n  const popoverRef = useRef<HTMLDivElement>(null);\n  const srcInputRef = useRef<HTMLInputElement>(null);\n\n  // Focus the src input on mount\n  useEffect(() => {\n    srcInputRef.current?.focus();\n    srcInputRef.current?.select();\n  }, []);\n\n  // Handle click outside to close\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (popoverRef.current && !popoverRef.current.contains(e.target as Node)) {\n        onClose();\n      }\n    };\n\n    // Delay adding the listener to prevent immediate close\n    const timer = setTimeout(() => {\n      document.addEventListener('mousedown', handleClickOutside);\n    }, 100);\n\n    return () => {\n      clearTimeout(timer);\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [onClose]);\n\n  // Handle escape key\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        onClose();\n      } else if (e.key === 'Enter' && (e.metaKey || e.ctrlKey)) {\n        handleSave();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [editSrc, editAlt, onClose]);\n\n  const handleSave = () => {\n    if (editSrc.trim()) {\n      onSave(editSrc.trim(), editAlt.trim());\n    }\n  };\n\n  // Calculate position to keep popover in viewport\n  const calculatePosition = () => {\n    const popoverWidth = 320;\n    const popoverHeight = 200;\n    const padding = 16;\n\n    let x = position.x;\n    let y = position.y + 10; // Offset below the click point\n\n    // Keep within horizontal bounds\n    if (x + popoverWidth > window.innerWidth - padding) {\n      x = window.innerWidth - popoverWidth - padding;\n    }\n    if (x < padding) {\n      x = padding;\n    }\n\n    // Keep within vertical bounds\n    if (y + popoverHeight > window.innerHeight - padding) {\n      y = position.y - popoverHeight - 10; // Show above instead\n    }\n\n    return { left: x, top: y };\n  };\n\n  const pos = calculatePosition();\n\n  return (\n    <div\n      ref={popoverRef}\n      className=\"image-edit-popover\"\n      style={{\n        position: 'fixed',\n        left: pos.left,\n        top: pos.top,\n        zIndex: 1000,\n      }}\n    >\n      {/* Header */}\n      <div className=\"image-edit-popover-header\">\n        <span className=\"image-edit-popover-title\">Edit Image</span>\n        <button\n          onClick={onClose}\n          className=\"image-edit-popover-close\"\n          aria-label=\"Close\"\n        >\n          <X className=\"w-4 h-4\" />\n        </button>\n      </div>\n\n      {/* Content */}\n      <div className=\"image-edit-popover-content\">\n        {/* URL Input */}\n        <div className=\"image-edit-popover-field\">\n          <label className=\"image-edit-popover-label\">\n            <Link className=\"w-3.5 h-3.5\" />\n            <span>Image URL</span>\n          </label>\n          <input\n            ref={srcInputRef}\n            type=\"text\"\n            value={editSrc}\n            onChange={(e) => setEditSrc(e.target.value)}\n            placeholder=\"https://example.com/image.jpg\"\n            className=\"image-edit-popover-input\"\n          />\n        </div>\n\n        {/* Alt Text Input */}\n        <div className=\"image-edit-popover-field\">\n          <label className=\"image-edit-popover-label\">\n            <Type className=\"w-3.5 h-3.5\" />\n            <span>Alt Text</span>\n          </label>\n          <input\n            type=\"text\"\n            value={editAlt}\n            onChange={(e) => setEditAlt(e.target.value)}\n            placeholder=\"Describe the image...\"\n            className=\"image-edit-popover-input\"\n          />\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"image-edit-popover-footer\">\n        <button\n          onClick={onDelete}\n          className=\"image-edit-popover-btn image-edit-popover-btn-delete\"\n          title=\"Delete image\"\n        >\n          <Trash2 className=\"w-4 h-4\" />\n        </button>\n        <div className=\"image-edit-popover-actions\">\n          <button\n            onClick={onClose}\n            className=\"image-edit-popover-btn image-edit-popover-btn-cancel\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleSave}\n            className=\"image-edit-popover-btn image-edit-popover-btn-save\"\n            disabled={!editSrc.trim()}\n          >\n            <Check className=\"w-4 h-4\" />\n            Save\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useCallback, useEffect, useRef, useState, useMemo } from 'react';\n\n/*\n * DESIGN: Syntax Highlighted Markdown Editor\n * A textarea with an overlay that provides syntax highlighting for markdown\n * Supports headers, bold, italic, links, code, lists, and more\n */\n\ninterface SyntaxHighlightedMarkdownProps {\n  content: string;\n  onChange: (content: string) => void;\n  placeholder?: string;\n  editable?: boolean;\n  autofocus?: boolean;\n  className?: string;\n}\n\n// Token types for markdown syntax highlighting\ntype TokenType = \n  | 'heading1' | 'heading2' | 'heading3' | 'heading4' | 'heading5' | 'heading6'\n  | 'bold' | 'italic' | 'bold-italic' | 'strikethrough'\n  | 'code-inline' | 'code-block' | 'code-block-lang'\n  | 'link' | 'link-text' | 'link-url' | 'image'\n  | 'list-bullet' | 'list-number' | 'task-list' | 'task-checked'\n  | 'blockquote' | 'horizontal-rule'\n  | 'table-header' | 'table-separator' | 'table-cell'\n  | 'text';\n\ninterface Token {\n  type: TokenType;\n  content: string;\n  start: number;\n  end: number;\n}\n\n// Tokenize markdown content for syntax highlighting\nfunction tokenizeMarkdown(text: string): Token[] {\n  const tokens: Token[] = [];\n  const lines = text.split('\\n');\n  let pos = 0;\n  let inCodeBlock = false;\n  let codeBlockLang = '';\n\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    const lineStart = pos;\n    \n    // Code block handling\n    if (line.startsWith('```')) {\n      if (!inCodeBlock) {\n        inCodeBlock = true;\n        codeBlockLang = line.slice(3).trim();\n        tokens.push({\n          type: 'code-block',\n          content: '```',\n          start: lineStart,\n          end: lineStart + 3,\n        });\n        if (codeBlockLang) {\n          tokens.push({\n            type: 'code-block-lang',\n            content: codeBlockLang,\n            start: lineStart + 3,\n            end: lineStart + 3 + codeBlockLang.length,\n          });\n        }\n      } else {\n        inCodeBlock = false;\n        tokens.push({\n          type: 'code-block',\n          content: line,\n          start: lineStart,\n          end: lineStart + line.length,\n        });\n      }\n      pos += line.length + 1;\n      continue;\n    }\n\n    if (inCodeBlock) {\n      tokens.push({\n        type: 'code-block',\n        content: line,\n        start: lineStart,\n        end: lineStart + line.length,\n      });\n      pos += line.length + 1;\n      continue;\n    }\n\n    // Headings\n    const headingMatch = line.match(/^(#{1,6})\\s+(.*)$/);\n    if (headingMatch) {\n      const level = headingMatch[1].length;\n      tokens.push({\n        type: `heading${level}` as TokenType,\n        content: line,\n        start: lineStart,\n        end: lineStart + line.length,\n      });\n      pos += line.length + 1;\n      continue;\n    }\n\n    // Horizontal rule\n    if (/^(-{3,}|\\*{3,}|_{3,})$/.test(line.trim())) {\n      tokens.push({\n        type: 'horizontal-rule',\n        content: line,\n        start: lineStart,\n        end: lineStart + line.length,\n      });\n      pos += line.length + 1;\n      continue;\n    }\n\n    // Blockquote\n    if (line.startsWith('>')) {\n      tokens.push({\n        type: 'blockquote',\n        content: line,\n        start: lineStart,\n        end: lineStart + line.length,\n      });\n      pos += line.length + 1;\n      continue;\n    }\n\n    // Table separator line\n    if (/^\\|?[\\s-:|]+\\|?$/.test(line) && line.includes('-')) {\n      tokens.push({\n        type: 'table-separator',\n        content: line,\n        start: lineStart,\n        end: lineStart + line.length,\n      });\n      pos += line.length + 1;\n      continue;\n    }\n\n    // Table row (with pipes)\n    if (line.includes('|') && (line.startsWith('|') || line.trim().includes(' | '))) {\n      tokens.push({\n        type: 'table-cell',\n        content: line,\n        start: lineStart,\n        end: lineStart + line.length,\n      });\n      pos += line.length + 1;\n      continue;\n    }\n\n    // Task list\n    const taskMatch = line.match(/^(\\s*[-*+]\\s+)\\[([xX ])\\]\\s+(.*)$/);\n    if (taskMatch) {\n      const isChecked = taskMatch[2].toLowerCase() === 'x';\n      tokens.push({\n        type: isChecked ? 'task-checked' : 'task-list',\n        content: line,\n        start: lineStart,\n        end: lineStart + line.length,\n      });\n      pos += line.length + 1;\n      continue;\n    }\n\n    // Unordered list\n    const bulletMatch = line.match(/^(\\s*[-*+])\\s+(.*)$/);\n    if (bulletMatch) {\n      tokens.push({\n        type: 'list-bullet',\n        content: line,\n        start: lineStart,\n        end: lineStart + line.length,\n      });\n      pos += line.length + 1;\n      continue;\n    }\n\n    // Ordered list\n    const numberMatch = line.match(/^(\\s*\\d+\\.)\\s+(.*)$/);\n    if (numberMatch) {\n      tokens.push({\n        type: 'list-number',\n        content: line,\n        start: lineStart,\n        end: lineStart + line.length,\n      });\n      pos += line.length + 1;\n      continue;\n    }\n\n    // Process inline elements for regular lines\n    let linePos = 0;\n    let lastEnd = 0;\n    const inlineTokens: Token[] = [];\n\n    // Process inline patterns\n    const inlinePatterns = [\n      // Bold italic (must come before bold and italic)\n      { regex: /\\*\\*\\*(.+?)\\*\\*\\*|___(.+?)___/g, type: 'bold-italic' as TokenType },\n      // Bold\n      { regex: /\\*\\*(.+?)\\*\\*|__(.+?)__/g, type: 'bold' as TokenType },\n      // Italic\n      { regex: /\\*(.+?)\\*|_(.+?)_/g, type: 'italic' as TokenType },\n      // Strikethrough\n      { regex: /~~(.+?)~~/g, type: 'strikethrough' as TokenType },\n      // Inline code\n      { regex: /`([^`]+)`/g, type: 'code-inline' as TokenType },\n      // Images (must come before links)\n      { regex: /!\\[([^\\]]*)\\]\\(([^)]+)\\)/g, type: 'image' as TokenType },\n      // Links\n      { regex: /\\[([^\\]]+)\\]\\(([^)]+)\\)/g, type: 'link' as TokenType },\n    ];\n\n    // Collect all inline matches\n    const allMatches: { start: number; end: number; type: TokenType; content: string }[] = [];\n    \n    for (const pattern of inlinePatterns) {\n      let match;\n      pattern.regex.lastIndex = 0;\n      while ((match = pattern.regex.exec(line)) !== null) {\n        allMatches.push({\n          start: lineStart + match.index,\n          end: lineStart + match.index + match[0].length,\n          type: pattern.type,\n          content: match[0],\n        });\n      }\n    }\n\n    // Sort by position and remove overlaps\n    allMatches.sort((a, b) => a.start - b.start);\n    const nonOverlapping: typeof allMatches = [];\n    let lastMatchEnd = lineStart;\n    \n    for (const match of allMatches) {\n      if (match.start >= lastMatchEnd) {\n        nonOverlapping.push(match);\n        lastMatchEnd = match.end;\n      }\n    }\n\n    // Add tokens for inline matches\n    for (const match of nonOverlapping) {\n      if (match.start > lineStart + lastEnd) {\n        // Add text token before this match\n        tokens.push({\n          type: 'text',\n          content: line.substring(lastEnd, match.start - lineStart),\n          start: lineStart + lastEnd,\n          end: match.start,\n        });\n      }\n      tokens.push({\n        type: match.type,\n        content: match.content,\n        start: match.start,\n        end: match.end,\n      });\n      lastEnd = match.end - lineStart;\n    }\n\n    // Add remaining text\n    if (lastEnd < line.length) {\n      tokens.push({\n        type: 'text',\n        content: line.substring(lastEnd),\n        start: lineStart + lastEnd,\n        end: lineStart + line.length,\n      });\n    }\n\n    // If no inline tokens were added, add the whole line as text\n    if (nonOverlapping.length === 0 && line.length > 0) {\n      tokens.push({\n        type: 'text',\n        content: line,\n        start: lineStart,\n        end: lineStart + line.length,\n      });\n    }\n\n    pos += line.length + 1;\n  }\n\n  return tokens;\n}\n\n// Get CSS class for token type\nfunction getTokenClass(type: TokenType): string {\n  const classMap: Record<TokenType, string> = {\n    'heading1': 'md-heading md-h1',\n    'heading2': 'md-heading md-h2',\n    'heading3': 'md-heading md-h3',\n    'heading4': 'md-heading md-h4',\n    'heading5': 'md-heading md-h5',\n    'heading6': 'md-heading md-h6',\n    'bold': 'md-bold',\n    'italic': 'md-italic',\n    'bold-italic': 'md-bold-italic',\n    'strikethrough': 'md-strikethrough',\n    'code-inline': 'md-code-inline',\n    'code-block': 'md-code-block',\n    'code-block-lang': 'md-code-lang',\n    'link': 'md-link',\n    'link-text': 'md-link-text',\n    'link-url': 'md-link-url',\n    'image': 'md-image',\n    'list-bullet': 'md-list-bullet',\n    'list-number': 'md-list-number',\n    'task-list': 'md-task',\n    'task-checked': 'md-task-checked',\n    'blockquote': 'md-blockquote',\n    'horizontal-rule': 'md-hr',\n    'table-header': 'md-table-header',\n    'table-separator': 'md-table-separator',\n    'table-cell': 'md-table-cell',\n    'text': 'md-text',\n  };\n  return classMap[type] || 'md-text';\n}\n\n// Escape HTML entities\nfunction escapeHtml(text: string): string {\n  return text\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#039;');\n}\n\n// Render highlighted HTML from tokens\nfunction renderHighlightedHtml(content: string, tokens: Token[]): string {\n  if (tokens.length === 0) {\n    return escapeHtml(content);\n  }\n\n  let html = '';\n  let lastEnd = 0;\n  const lines = content.split('\\n');\n  let currentLine = 0;\n  let lineStart = 0;\n\n  // Group tokens by line for proper newline handling\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    const lineEnd = lineStart + line.length;\n    \n    // Find tokens for this line\n    const lineTokens = tokens.filter(t => t.start >= lineStart && t.start < lineEnd);\n    \n    let linePos = lineStart;\n    for (const token of lineTokens) {\n      // Add any gap before this token\n      if (token.start > linePos) {\n        html += escapeHtml(content.substring(linePos, token.start));\n      }\n      // Add the token with highlighting\n      html += `<span class=\"${getTokenClass(token.type)}\">${escapeHtml(token.content)}</span>`;\n      linePos = token.end;\n    }\n    \n    // Add remaining content on this line\n    if (linePos < lineEnd) {\n      html += escapeHtml(content.substring(linePos, lineEnd));\n    }\n    \n    // Add newline (except for last line)\n    if (i < lines.length - 1) {\n      html += '\\n';\n    }\n    \n    lineStart = lineEnd + 1;\n  }\n\n  return html;\n}\n\nexport function SyntaxHighlightedMarkdown({\n  content,\n  onChange,\n  placeholder = 'Write your markdown here...',\n  editable = true,\n  autofocus = false,\n  className = '',\n}: SyntaxHighlightedMarkdownProps) {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const highlightRef = useRef<HTMLDivElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Tokenize and render highlighted content\n  const highlightedHtml = useMemo(() => {\n    const tokens = tokenizeMarkdown(content);\n    return renderHighlightedHtml(content, tokens);\n  }, [content]);\n\n  // Auto-resize textarea to fit content\n  const adjustHeight = useCallback(() => {\n    const textarea = textareaRef.current;\n    const highlight = highlightRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      const newHeight = Math.max(textarea.scrollHeight, 200);\n      textarea.style.height = `${newHeight}px`;\n      if (highlight) {\n        highlight.style.height = `${newHeight}px`;\n      }\n    }\n  }, []);\n\n  // Sync scroll between textarea and highlight overlay\n  const syncScroll = useCallback(() => {\n    const textarea = textareaRef.current;\n    const highlight = highlightRef.current;\n    if (textarea && highlight) {\n      highlight.scrollTop = textarea.scrollTop;\n      highlight.scrollLeft = textarea.scrollLeft;\n    }\n  }, []);\n\n  useEffect(() => {\n    adjustHeight();\n  }, [content, adjustHeight]);\n\n  useEffect(() => {\n    if (autofocus && textareaRef.current) {\n      textareaRef.current.focus();\n    }\n  }, [autofocus]);\n\n  // Handle tab key for indentation\n  const handleKeyDown = useCallback((e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === 'Tab') {\n      e.preventDefault();\n      const textarea = e.currentTarget;\n      const start = textarea.selectionStart;\n      const end = textarea.selectionEnd;\n      const value = textarea.value;\n      \n      if (e.shiftKey) {\n        // Outdent\n        const beforeSelection = value.substring(0, start);\n        const selection = value.substring(start, end);\n        const afterSelection = value.substring(end);\n        \n        const lastNewline = beforeSelection.lastIndexOf('\\n');\n        const lineStart = lastNewline + 1;\n        const linesBefore = beforeSelection.substring(0, lineStart);\n        const currentLineStart = beforeSelection.substring(lineStart);\n        \n        const lines = (currentLineStart + selection).split('\\n');\n        const outdentedLines = lines.map(line => {\n          if (line.startsWith('  ')) return line.substring(2);\n          if (line.startsWith('\\t')) return line.substring(1);\n          return line;\n        });\n        \n        const newContent = linesBefore + outdentedLines.join('\\n') + afterSelection;\n        onChange(newContent);\n        \n        setTimeout(() => {\n          const removedChars = (currentLineStart + selection).length - outdentedLines.join('\\n').length;\n          textarea.selectionStart = Math.max(lineStart, start - (lines[0].length - outdentedLines[0].length));\n          textarea.selectionEnd = end - removedChars;\n        }, 0);\n      } else {\n        if (start === end) {\n          const newContent = value.substring(0, start) + '  ' + value.substring(end);\n          onChange(newContent);\n          setTimeout(() => {\n            textarea.selectionStart = textarea.selectionEnd = start + 2;\n          }, 0);\n        } else {\n          const beforeSelection = value.substring(0, start);\n          const selection = value.substring(start, end);\n          const afterSelection = value.substring(end);\n          \n          const lastNewline = beforeSelection.lastIndexOf('\\n');\n          const lineStart = lastNewline + 1;\n          const linesBefore = beforeSelection.substring(0, lineStart);\n          const currentLineStart = beforeSelection.substring(lineStart);\n          \n          const lines = (currentLineStart + selection).split('\\n');\n          const indentedLines = lines.map(line => '  ' + line);\n          \n          const newContent = linesBefore + indentedLines.join('\\n') + afterSelection;\n          onChange(newContent);\n          \n          setTimeout(() => {\n            textarea.selectionStart = start + 2;\n            textarea.selectionEnd = end + (lines.length * 2);\n          }, 0);\n        }\n      }\n    }\n  }, [onChange]);\n\n  return (\n    <div ref={containerRef} className={`syntax-highlighted-editor ${className}`}>\n      <div \n        ref={highlightRef}\n        className=\"syntax-highlight-overlay\"\n        dangerouslySetInnerHTML={{ __html: highlightedHtml || `<span class=\"md-placeholder\">${escapeHtml(placeholder)}</span>` }}\n        aria-hidden=\"true\"\n      />\n      <textarea\n        ref={textareaRef}\n        value={content}\n        onChange={(e) => onChange(e.target.value)}\n        onKeyDown={handleKeyDown}\n        onScroll={syncScroll}\n        placeholder=\"\"\n        disabled={!editable}\n        className=\"syntax-textarea\"\n        spellCheck={false}\n      />\n    </div>\n  );\n}\n\nexport default SyntaxHighlightedMarkdown;\n","import { useState, useEffect, useRef, useCallback, memo } from 'react';\nimport { Activity, X, Minimize2, Maximize2 } from 'lucide-react';\n\n/*\n * PERFORMANCE PROFILER OVERLAY\n * Dev-mode tool for monitoring editor performance in real-time.\n * Shows: FPS, frame times, render counts, memory usage, and transaction stats.\n * Visibility is fully controlled by the `visible` prop from the embedding application.\n * The embedding app can also listen to `onClose` to update its own state.\n */\n\ninterface PerformanceMetrics {\n  fps: number;\n  frameTime: number;\n  frameTimeMax: number;\n  memoryUsed: number;\n  memoryTotal: number;\n  renderCount: number;\n  transactionCount: number;\n  lastTransactionTime: number;\n  domNodes: number;\n  longFrames: number; // frames > 16.67ms\n}\n\ninterface FrameTimeSample {\n  time: number;\n  duration: number;\n}\n\nexport interface PerformanceProfilerProps {\n  /** Whether the profiler panel is visible. Fully controlled by the embedding application. */\n  visible: boolean;\n  /** Callback when the user clicks the close button inside the profiler. The embedding app should set `visible` to false. */\n  onClose?: () => void;\n  /** The TipTap editor instance to monitor transactions. */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  editor?: any;\n}\n\n// Global render counter that components can increment\nlet globalRenderCount = 0;\nlet globalTransactionCount = 0;\nlet globalLastTransactionTime = 0;\n\nexport function incrementRenderCount() {\n  globalRenderCount++;\n}\n\nexport function recordTransaction(duration: number) {\n  globalTransactionCount++;\n  globalLastTransactionTime = duration;\n}\n\nexport const PerformanceProfiler = memo(function PerformanceProfiler({\n  visible,\n  onClose,\n  editor,\n}: PerformanceProfilerProps) {\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [metrics, setMetrics] = useState<PerformanceMetrics>({\n    fps: 0,\n    frameTime: 0,\n    frameTimeMax: 0,\n    memoryUsed: 0,\n    memoryTotal: 0,\n    renderCount: 0,\n    transactionCount: 0,\n    lastTransactionTime: 0,\n    domNodes: 0,\n    longFrames: 0,\n  });\n  \n  const frameTimesRef = useRef<FrameTimeSample[]>([]);\n  const lastFrameTimeRef = useRef(performance.now());\n  const rafIdRef = useRef<number>(0);\n  const longFrameCountRef = useRef(0);\n  const renderCountSnapshotRef = useRef(0);\n  const transactionCountSnapshotRef = useRef(0);\n  \n  // FPS graph data (last 60 samples)\n  const [fpsHistory, setFpsHistory] = useState<number[]>(new Array(60).fill(0));\n  const [frameTimeHistory, setFrameTimeHistory] = useState<number[]>(new Array(60).fill(0));\n  \n  // Track editor transactions\n  useEffect(() => {\n    if (!visible || !editor) return;\n    \n    const handleTransaction = () => {\n      const start = performance.now();\n      // Measure time after microtask (after ProseMirror applies the transaction)\n      queueMicrotask(() => {\n        const duration = performance.now() - start;\n        recordTransaction(duration);\n      });\n    };\n    \n    editor.on('transaction', handleTransaction);\n    return () => {\n      editor.off('transaction', handleTransaction);\n    };\n  }, [visible, editor]);\n  \n  // Main measurement loop\n  useEffect(() => {\n    if (!visible) return;\n    \n    let frameCount = 0;\n    let lastSecond = performance.now();\n    let currentFps = 0;\n    \n    const measure = (now: number) => {\n      const delta = now - lastFrameTimeRef.current;\n      lastFrameTimeRef.current = now;\n      \n      // Track frame times\n      frameTimesRef.current.push({ time: now, duration: delta });\n      // Keep only last 120 samples\n      if (frameTimesRef.current.length > 120) {\n        frameTimesRef.current = frameTimesRef.current.slice(-120);\n      }\n      \n      // Count long frames (> 16.67ms = below 60fps)\n      if (delta > 16.67) {\n        longFrameCountRef.current++;\n      }\n      \n      frameCount++;\n      \n      // Update metrics every second\n      if (now - lastSecond >= 1000) {\n        currentFps = frameCount;\n        frameCount = 0;\n        lastSecond = now;\n        \n        // Calculate frame time stats\n        const recentFrames = frameTimesRef.current.slice(-60);\n        const avgFrameTime = recentFrames.length > 0\n          ? recentFrames.reduce((sum, f) => sum + f.duration, 0) / recentFrames.length\n          : 0;\n        const maxFrameTime = recentFrames.length > 0\n          ? Math.max(...recentFrames.map(f => f.duration))\n          : 0;\n        \n        // Memory info (Chrome only)\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const memInfo = (performance as any).memory;\n        const memUsed = memInfo ? memInfo.usedJSHeapSize / (1024 * 1024) : 0;\n        const memTotal = memInfo ? memInfo.jsHeapSizeLimit / (1024 * 1024) : 0;\n        \n        // DOM node count\n        const domNodes = document.querySelectorAll('*').length;\n        \n        // Render and transaction counts (delta since last snapshot)\n        const renderDelta = globalRenderCount - renderCountSnapshotRef.current;\n        const transactionDelta = globalTransactionCount - transactionCountSnapshotRef.current;\n        renderCountSnapshotRef.current = globalRenderCount;\n        transactionCountSnapshotRef.current = globalTransactionCount;\n        \n        setMetrics({\n          fps: currentFps,\n          frameTime: Math.round(avgFrameTime * 100) / 100,\n          frameTimeMax: Math.round(maxFrameTime * 100) / 100,\n          memoryUsed: Math.round(memUsed * 10) / 10,\n          memoryTotal: Math.round(memTotal),\n          renderCount: renderDelta,\n          transactionCount: transactionDelta,\n          lastTransactionTime: Math.round(globalLastTransactionTime * 100) / 100,\n          domNodes,\n          longFrames: longFrameCountRef.current,\n        });\n        \n        // Update history graphs\n        setFpsHistory(prev => [...prev.slice(1), currentFps]);\n        setFrameTimeHistory(prev => [...prev.slice(1), avgFrameTime]);\n        \n        // Reset long frame counter each second\n        longFrameCountRef.current = 0;\n      }\n      \n      rafIdRef.current = requestAnimationFrame(measure);\n    };\n    \n    rafIdRef.current = requestAnimationFrame(measure);\n    \n    return () => {\n      cancelAnimationFrame(rafIdRef.current);\n    };\n  }, [visible]);\n  \n  const handleClose = useCallback(() => {\n    onClose?.();\n  }, [onClose]);\n  \n  const toggleMinimize = useCallback(() => {\n    setIsMinimized(prev => !prev);\n  }, []);\n  \n  if (!visible) return null;\n  \n  // Get color based on FPS\n  const getFpsColor = (fps: number) => {\n    if (fps >= 55) return '#4ade80'; // green\n    if (fps >= 30) return '#fbbf24'; // yellow\n    return '#f87171'; // red\n  };\n  \n  const getFrameTimeColor = (ms: number) => {\n    if (ms <= 16.67) return '#4ade80';\n    if (ms <= 33.33) return '#fbbf24';\n    return '#f87171';\n  };\n  \n  // Mini sparkline SVG for FPS history\n  const renderSparkline = (data: number[], maxVal: number, color: string) => {\n    const width = 120;\n    const height = 24;\n    const points = data.map((val, i) => {\n      const x = (i / (data.length - 1)) * width;\n      const y = height - (Math.min(val, maxVal) / maxVal) * height;\n      return `${x},${y}`;\n    }).join(' ');\n    \n    return (\n      <svg width={width} height={height} className=\"perf-sparkline\">\n        <polyline\n          points={points}\n          fill=\"none\"\n          stroke={color}\n          strokeWidth=\"1.5\"\n          strokeLinejoin=\"round\"\n        />\n      </svg>\n    );\n  };\n  \n  return (\n    <div className=\"perf-profiler-overlay\">\n      {/* Header */}\n      <div className=\"perf-profiler-header\">\n        <div className=\"perf-profiler-title\">\n          <Activity size={14} />\n          <span>Performance</span>\n        </div>\n        <div className=\"perf-profiler-actions\">\n          <button onClick={toggleMinimize} title={isMinimized ? 'Expand' : 'Minimize'}>\n            {isMinimized ? <Maximize2 size={12} /> : <Minimize2 size={12} />}\n          </button>\n          <button onClick={handleClose} title=\"Close profiler\">\n            <X size={12} />\n          </button>\n        </div>\n      </div>\n      \n      {!isMinimized && (\n        <div className=\"perf-profiler-body\">\n          {/* FPS Section */}\n          <div className=\"perf-section\">\n            <div className=\"perf-row\">\n              <span className=\"perf-label\">FPS</span>\n              <span className=\"perf-value\" style={{ color: getFpsColor(metrics.fps) }}>\n                {metrics.fps}\n              </span>\n            </div>\n            {renderSparkline(fpsHistory, 70, getFpsColor(metrics.fps))}\n          </div>\n          \n          {/* Frame Time Section */}\n          <div className=\"perf-section\">\n            <div className=\"perf-row\">\n              <span className=\"perf-label\">Frame Time</span>\n              <span className=\"perf-value\" style={{ color: getFrameTimeColor(metrics.frameTime) }}>\n                {metrics.frameTime}ms\n              </span>\n            </div>\n            <div className=\"perf-row perf-row-sub\">\n              <span className=\"perf-label-sub\">Max</span>\n              <span className=\"perf-value-sub\" style={{ color: getFrameTimeColor(metrics.frameTimeMax) }}>\n                {metrics.frameTimeMax}ms\n              </span>\n            </div>\n            <div className=\"perf-row perf-row-sub\">\n              <span className=\"perf-label-sub\">Jank ({'>'} 16.7ms)</span>\n              <span className=\"perf-value-sub\" style={{ color: metrics.longFrames > 3 ? '#f87171' : '#4ade80' }}>\n                {metrics.longFrames}/s\n              </span>\n            </div>\n            {renderSparkline(frameTimeHistory, 50, getFrameTimeColor(metrics.frameTime))}\n          </div>\n          \n          {/* Editor Stats */}\n          <div className=\"perf-section\">\n            <div className=\"perf-row\">\n              <span className=\"perf-label\">Renders/s</span>\n              <span className=\"perf-value\">{metrics.renderCount}</span>\n            </div>\n            <div className=\"perf-row\">\n              <span className=\"perf-label\">Transactions/s</span>\n              <span className=\"perf-value\">{metrics.transactionCount}</span>\n            </div>\n            <div className=\"perf-row perf-row-sub\">\n              <span className=\"perf-label-sub\">Last TX time</span>\n              <span className=\"perf-value-sub\">{metrics.lastTransactionTime}ms</span>\n            </div>\n          </div>\n          \n          {/* System Stats */}\n          <div className=\"perf-section\">\n            <div className=\"perf-row\">\n              <span className=\"perf-label\">DOM Nodes</span>\n              <span className=\"perf-value\">{metrics.domNodes.toLocaleString()}</span>\n            </div>\n            {metrics.memoryTotal > 0 && (\n              <div className=\"perf-row\">\n                <span className=\"perf-label\">Memory</span>\n                <span className=\"perf-value\">{metrics.memoryUsed}MB / {metrics.memoryTotal}MB</span>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nexport default PerformanceProfiler;\n","import { useEffect, useState, useCallback, useRef } from 'react';\nimport { PanelRightClose, PanelRightOpen } from 'lucide-react';\nimport type { Editor } from '@tiptap/react';\nimport { memo } from 'react';\n\n/*\n * TABLE OF CONTENTS SIDEBAR\n * Modern, minimalistic component that displays document heading hierarchy\n * Supports click-to-scroll, active heading tracking, and collapsible sections\n */\n\nexport interface TocItem {\n  id: string;\n  text: string;\n  level: number;\n  pos: number;\n  element?: HTMLElement | null;\n  isCollapsed?: boolean;\n  children?: TocItem[];\n}\n\nexport interface TableOfContentsProps {\n  editor: Editor | null;\n  visible?: boolean;\n  onVisibilityChange?: (visible: boolean) => void;\n  title?: string;\n  minLevel?: number;\n  maxLevel?: number;\n  showLevelIndicators?: boolean;\n  highlightActive?: boolean;\n  treeView?: boolean;\n  className?: string;\n  width?: string;\n  position?: 'left' | 'right';\n  scrollOffset?: number;\n  onItemClick?: (item: TocItem) => void;\n  renderItem?: (item: TocItem, isActive: boolean, onClick: () => void) => React.ReactNode;\n  showToggleButton?: boolean;\n  scrollContainerRef?: React.RefObject<HTMLElement>;\n}\n\nfunction extractHeadings(editor: Editor, minLevel: number, maxLevel: number): TocItem[] {\n  const headings: TocItem[] = [];\n  const doc = editor.state.doc;\n  doc.descendants((node, pos) => {\n    if (node.type.name === 'heading') {\n      const level = node.attrs.level as number;\n      if (level >= minLevel && level <= maxLevel) {\n        const text = node.textContent;\n        if (text.trim()) {\n          headings.push({ id: `toc-heading-${pos}`, text: text.trim(), level, pos });\n        }\n      }\n    }\n  });\n  return headings;\n}\n\nfunction buildTree(headings: TocItem[]): TocItem[] {\n  if (headings.length === 0) return [];\n  const root: TocItem[] = [];\n  const stack: { item: TocItem; level: number }[] = [];\n  for (const heading of headings) {\n    const item: TocItem = { ...heading, children: [] };\n    while (stack.length > 0 && stack[stack.length - 1].level >= heading.level) {\n      stack.pop();\n    }\n    if (stack.length === 0) {\n      root.push(item);\n    } else {\n      const parent = stack[stack.length - 1].item;\n      if (!parent.children) parent.children = [];\n      parent.children.push(item);\n    }\n    stack.push({ item, level: heading.level });\n  }\n  return root;\n}\n\nfunction findHeadingElement(editor: Editor, pos: number): HTMLElement | null {\n  try {\n    const resolvedPos = editor.state.doc.resolve(pos);\n    const dom = editor.view.nodeDOM(resolvedPos.before(resolvedPos.depth + 1));\n    if (dom instanceof HTMLElement) return dom;\n    const directDom = editor.view.nodeDOM(pos);\n    if (directDom instanceof HTMLElement) return directDom;\n  } catch {\n    // fallback\n  }\n  return null;\n}\n\nexport const TableOfContents = memo(function TableOfContents({\n  editor,\n  visible = true,\n  onVisibilityChange,\n  title = '',\n  minLevel = 1,\n  maxLevel = 4,\n  showLevelIndicators = false,\n  highlightActive = true,\n  treeView = false,\n  className = '',\n  width = '220px',\n  position = 'right',\n  scrollOffset = 20,\n  onItemClick,\n  renderItem,\n  showToggleButton = true,\n  scrollContainerRef,\n}: TableOfContentsProps) {\n  const [headings, setHeadings] = useState<TocItem[]>([]);\n  const [activeId, setActiveId] = useState<string | null>(null);\n  const [isVisible, setIsVisible] = useState(visible);\n  const [collapsedSections, setCollapsedSections] = useState<Set<string>>(new Set());\n  const tocRef = useRef<HTMLDivElement>(null);\n  const updateTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  useEffect(() => {\n    setIsVisible(visible);\n  }, [visible]);\n\n  const updateHeadings = useCallback(() => {\n    if (!editor || editor.isDestroyed) return;\n    const newHeadings = extractHeadings(editor, minLevel, maxLevel);\n    setHeadings(newHeadings);\n    if (activeId && !newHeadings.find(h => h.id === activeId)) {\n      setActiveId(null);\n    }\n  }, [editor, minLevel, maxLevel, activeId]);\n\n  useEffect(() => {\n    if (!editor) return;\n    const handleUpdate = () => {\n      if (updateTimeoutRef.current) clearTimeout(updateTimeoutRef.current);\n      updateTimeoutRef.current = setTimeout(() => updateHeadings(), 300);\n    };\n    updateHeadings();\n    editor.on('update', handleUpdate);\n    editor.on('create', handleUpdate);\n    return () => {\n      editor.off('update', handleUpdate);\n      editor.off('create', handleUpdate);\n      if (updateTimeoutRef.current) clearTimeout(updateTimeoutRef.current);\n    };\n  }, [editor, updateHeadings]);\n\n  useEffect(() => {\n    if (!editor || !highlightActive || !isVisible || headings.length === 0) return;\n    const scrollContainer = scrollContainerRef?.current ||\n      editor.view.dom.closest('.editor-content-wrapper') as HTMLElement;\n    if (!scrollContainer) return;\n\n    const handleScroll = () => {\n      const containerRect = scrollContainer.getBoundingClientRect();\n      let currentActive: string | null = null;\n      for (let i = headings.length - 1; i >= 0; i--) {\n        const heading = headings[i];\n        const element = findHeadingElement(editor, heading.pos);\n        if (element) {\n          const elementRect = element.getBoundingClientRect();\n          const relativeTop = elementRect.top - containerRect.top;\n          if (relativeTop <= scrollOffset + 10) {\n            currentActive = heading.id;\n            break;\n          }\n        }\n      }\n      if (!currentActive && headings.length > 0) {\n        currentActive = headings[0].id;\n      }\n      setActiveId(currentActive);\n    };\n\n    let rafId: number;\n    const debouncedScroll = () => {\n      cancelAnimationFrame(rafId);\n      rafId = requestAnimationFrame(handleScroll);\n    };\n    scrollContainer.addEventListener('scroll', debouncedScroll, { passive: true });\n    handleScroll();\n    return () => {\n      scrollContainer.removeEventListener('scroll', debouncedScroll);\n      cancelAnimationFrame(rafId);\n    };\n  }, [editor, headings, highlightActive, isVisible, scrollOffset, scrollContainerRef]);\n\n  const handleItemClick = useCallback((item: TocItem) => {\n    if (!editor || editor.isDestroyed) return;\n    const element = findHeadingElement(editor, item.pos);\n    if (element) {\n      const scrollContainer = scrollContainerRef?.current ||\n        editor.view.dom.closest('.editor-content-wrapper') as HTMLElement;\n      if (scrollContainer) {\n        const containerRect = scrollContainer.getBoundingClientRect();\n        const elementRect = element.getBoundingClientRect();\n        const relativeTop = elementRect.top - containerRect.top + scrollContainer.scrollTop;\n        scrollContainer.scrollTo({ top: relativeTop - scrollOffset, behavior: 'smooth' });\n      } else {\n        element.scrollIntoView({ behavior: 'smooth', block: 'start' });\n      }\n    }\n    try {\n      editor.commands.setTextSelection(item.pos + 1);\n    } catch {\n      // Position might be invalid\n    }\n    setActiveId(item.id);\n    onItemClick?.(item);\n  }, [editor, scrollOffset, onItemClick, scrollContainerRef]);\n\n  const toggleVisibility = useCallback(() => {\n    const newVisible = !isVisible;\n    setIsVisible(newVisible);\n    onVisibilityChange?.(newVisible);\n  }, [isVisible, onVisibilityChange]);\n\n  const toggleCollapse = useCallback((id: string) => {\n    setCollapsedSections(prev => {\n      const next = new Set(prev);\n      if (next.has(id)) next.delete(id);\n      else next.add(id);\n      return next;\n    });\n  }, []);\n\n  const renderTocItem = useCallback((item: TocItem, isActive: boolean, depth: number = 0) => {\n    if (renderItem) {\n      return renderItem(item, isActive, () => handleItemClick(item));\n    }\n\n    const indent = (item.level - minLevel) * 14;\n    const hasChildren = treeView && item.children && item.children.length > 0;\n    const isCollapsed = collapsedSections.has(item.id);\n\n    return (\n      <div\n        key={item.id}\n        className={`toc-item ${isActive ? 'toc-item-active' : ''} toc-level-${item.level}`}\n        style={{ paddingLeft: `${indent + 10}px` }}\n      >\n        <button\n          className=\"toc-item-button\"\n          onClick={() => handleItemClick(item)}\n          title={item.text}\n        >\n          {hasChildren && (\n            <span\n              className=\"toc-collapse-toggle\"\n              onClick={(e) => {\n                e.stopPropagation();\n                toggleCollapse(item.id);\n              }}\n            >\n              <svg width=\"10\" height=\"10\" viewBox=\"0 0 10 10\" fill=\"none\">\n                {isCollapsed\n                  ? <path d=\"M3.5 2L7 5L3.5 8\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  : <path d=\"M2 3.5L5 7L8 3.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                }\n              </svg>\n            </span>\n          )}\n          {showLevelIndicators && (\n            <span className=\"toc-level-indicator\">H{item.level}</span>\n          )}\n          <span className=\"toc-item-text\">{item.text}</span>\n        </button>\n      </div>\n    );\n  }, [renderItem, handleItemClick, treeView, minLevel, showLevelIndicators, collapsedSections, toggleCollapse]);\n\n  const renderTree = useCallback((items: TocItem[], depth: number = 0): React.ReactNode => {\n    return items.map(item => {\n      const isActive = activeId === item.id;\n      const isCollapsed = collapsedSections.has(item.id);\n      const hasChildren = item.children && item.children.length > 0;\n      return (\n        <div key={item.id}>\n          {renderTocItem(item, isActive, depth)}\n          {hasChildren && !isCollapsed && (\n            <div className=\"toc-children\">\n              {renderTree(item.children!, depth + 1)}\n            </div>\n          )}\n        </div>\n      );\n    });\n  }, [activeId, collapsedSections, renderTocItem]);\n\n  const renderFlatList = useCallback(() => {\n    return headings.map(item => {\n      const isActive = activeId === item.id;\n      return renderTocItem(item, isActive);\n    });\n  }, [headings, activeId, renderTocItem]);\n\n  if (!editor) return null;\n\n  const treeItems = treeView ? buildTree(headings) : [];\n\n  return (\n    <>\n      {/* Toggle button */}\n      {showToggleButton && (\n        <button\n          className={`toc-toggle-button toc-toggle-${position}`}\n          onClick={toggleVisibility}\n          title={isVisible ? 'Hide Table of Contents' : 'Show Table of Contents'}\n        >\n          {isVisible ? <PanelRightClose size={16} /> : <PanelRightOpen size={16} />}\n        </button>\n      )}\n\n      {/* TOC Sidebar */}\n      <div\n        ref={tocRef}\n        className={`toc-sidebar ${isVisible ? 'toc-visible' : 'toc-hidden'} toc-${position} ${className}`}\n        style={{ width: isVisible ? width : '0px' }}\n      >\n        <div className=\"toc-inner\">\n          {/* Optional header - only show if title is provided */}\n          {title && (\n            <div className=\"toc-header\">\n              <span className=\"toc-title\">{title}</span>\n            </div>\n          )}\n\n          {/* Content */}\n          <div className=\"toc-content\">\n            {headings.length === 0 ? (\n              <div className=\"toc-empty\">\n                <p>No headings yet</p>\n                <p className=\"toc-empty-hint\">Add headings to see the outline.</p>\n              </div>\n            ) : (\n              <div className=\"toc-list\">\n                {treeView ? renderTree(treeItems) : renderFlatList()}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n});\n\nexport default TableOfContents;\n","function extend (destination) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) destination[key] = source[key];\n    }\n  }\n  return destination\n}\n\nfunction repeat (character, count) {\n  return Array(count + 1).join(character)\n}\n\nfunction trimLeadingNewlines (string) {\n  return string.replace(/^\\n*/, '')\n}\n\nfunction trimTrailingNewlines (string) {\n  // avoid match-at-end regexp bottleneck, see #370\n  var indexEnd = string.length;\n  while (indexEnd > 0 && string[indexEnd - 1] === '\\n') indexEnd--;\n  return string.substring(0, indexEnd)\n}\n\nfunction trimNewlines (string) {\n  return trimTrailingNewlines(trimLeadingNewlines(string))\n}\n\nvar blockElements = [\n  'ADDRESS', 'ARTICLE', 'ASIDE', 'AUDIO', 'BLOCKQUOTE', 'BODY', 'CANVAS',\n  'CENTER', 'DD', 'DIR', 'DIV', 'DL', 'DT', 'FIELDSET', 'FIGCAPTION', 'FIGURE',\n  'FOOTER', 'FORM', 'FRAMESET', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'HEADER',\n  'HGROUP', 'HR', 'HTML', 'ISINDEX', 'LI', 'MAIN', 'MENU', 'NAV', 'NOFRAMES',\n  'NOSCRIPT', 'OL', 'OUTPUT', 'P', 'PRE', 'SECTION', 'TABLE', 'TBODY', 'TD',\n  'TFOOT', 'TH', 'THEAD', 'TR', 'UL'\n];\n\nfunction isBlock (node) {\n  return is(node, blockElements)\n}\n\nvar voidElements = [\n  'AREA', 'BASE', 'BR', 'COL', 'COMMAND', 'EMBED', 'HR', 'IMG', 'INPUT',\n  'KEYGEN', 'LINK', 'META', 'PARAM', 'SOURCE', 'TRACK', 'WBR'\n];\n\nfunction isVoid (node) {\n  return is(node, voidElements)\n}\n\nfunction hasVoid (node) {\n  return has(node, voidElements)\n}\n\nvar meaningfulWhenBlankElements = [\n  'A', 'TABLE', 'THEAD', 'TBODY', 'TFOOT', 'TH', 'TD', 'IFRAME', 'SCRIPT',\n  'AUDIO', 'VIDEO'\n];\n\nfunction isMeaningfulWhenBlank (node) {\n  return is(node, meaningfulWhenBlankElements)\n}\n\nfunction hasMeaningfulWhenBlank (node) {\n  return has(node, meaningfulWhenBlankElements)\n}\n\nfunction is (node, tagNames) {\n  return tagNames.indexOf(node.nodeName) >= 0\n}\n\nfunction has (node, tagNames) {\n  return (\n    node.getElementsByTagName &&\n    tagNames.some(function (tagName) {\n      return node.getElementsByTagName(tagName).length\n    })\n  )\n}\n\nvar rules = {};\n\nrules.paragraph = {\n  filter: 'p',\n\n  replacement: function (content) {\n    return '\\n\\n' + content + '\\n\\n'\n  }\n};\n\nrules.lineBreak = {\n  filter: 'br',\n\n  replacement: function (content, node, options) {\n    return options.br + '\\n'\n  }\n};\n\nrules.heading = {\n  filter: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n\n  replacement: function (content, node, options) {\n    var hLevel = Number(node.nodeName.charAt(1));\n\n    if (options.headingStyle === 'setext' && hLevel < 3) {\n      var underline = repeat((hLevel === 1 ? '=' : '-'), content.length);\n      return (\n        '\\n\\n' + content + '\\n' + underline + '\\n\\n'\n      )\n    } else {\n      return '\\n\\n' + repeat('#', hLevel) + ' ' + content + '\\n\\n'\n    }\n  }\n};\n\nrules.blockquote = {\n  filter: 'blockquote',\n\n  replacement: function (content) {\n    content = trimNewlines(content).replace(/^/gm, '> ');\n    return '\\n\\n' + content + '\\n\\n'\n  }\n};\n\nrules.list = {\n  filter: ['ul', 'ol'],\n\n  replacement: function (content, node) {\n    var parent = node.parentNode;\n    if (parent.nodeName === 'LI' && parent.lastElementChild === node) {\n      return '\\n' + content\n    } else {\n      return '\\n\\n' + content + '\\n\\n'\n    }\n  }\n};\n\nrules.listItem = {\n  filter: 'li',\n\n  replacement: function (content, node, options) {\n    var prefix = options.bulletListMarker + '   ';\n    var parent = node.parentNode;\n    if (parent.nodeName === 'OL') {\n      var start = parent.getAttribute('start');\n      var index = Array.prototype.indexOf.call(parent.children, node);\n      prefix = (start ? Number(start) + index : index + 1) + '.  ';\n    }\n    var isParagraph = /\\n$/.test(content);\n    content = trimNewlines(content) + (isParagraph ? '\\n' : '');\n    content = content.replace(/\\n/gm, '\\n' + ' '.repeat(prefix.length)); // indent\n    return (\n      prefix + content + (node.nextSibling ? '\\n' : '')\n    )\n  }\n};\n\nrules.indentedCodeBlock = {\n  filter: function (node, options) {\n    return (\n      options.codeBlockStyle === 'indented' &&\n      node.nodeName === 'PRE' &&\n      node.firstChild &&\n      node.firstChild.nodeName === 'CODE'\n    )\n  },\n\n  replacement: function (content, node, options) {\n    return (\n      '\\n\\n    ' +\n      node.firstChild.textContent.replace(/\\n/g, '\\n    ') +\n      '\\n\\n'\n    )\n  }\n};\n\nrules.fencedCodeBlock = {\n  filter: function (node, options) {\n    return (\n      options.codeBlockStyle === 'fenced' &&\n      node.nodeName === 'PRE' &&\n      node.firstChild &&\n      node.firstChild.nodeName === 'CODE'\n    )\n  },\n\n  replacement: function (content, node, options) {\n    var className = node.firstChild.getAttribute('class') || '';\n    var language = (className.match(/language-(\\S+)/) || [null, ''])[1];\n    var code = node.firstChild.textContent;\n\n    var fenceChar = options.fence.charAt(0);\n    var fenceSize = 3;\n    var fenceInCodeRegex = new RegExp('^' + fenceChar + '{3,}', 'gm');\n\n    var match;\n    while ((match = fenceInCodeRegex.exec(code))) {\n      if (match[0].length >= fenceSize) {\n        fenceSize = match[0].length + 1;\n      }\n    }\n\n    var fence = repeat(fenceChar, fenceSize);\n\n    return (\n      '\\n\\n' + fence + language + '\\n' +\n      code.replace(/\\n$/, '') +\n      '\\n' + fence + '\\n\\n'\n    )\n  }\n};\n\nrules.horizontalRule = {\n  filter: 'hr',\n\n  replacement: function (content, node, options) {\n    return '\\n\\n' + options.hr + '\\n\\n'\n  }\n};\n\nrules.inlineLink = {\n  filter: function (node, options) {\n    return (\n      options.linkStyle === 'inlined' &&\n      node.nodeName === 'A' &&\n      node.getAttribute('href')\n    )\n  },\n\n  replacement: function (content, node) {\n    var href = node.getAttribute('href');\n    if (href) href = href.replace(/([()])/g, '\\\\$1');\n    var title = cleanAttribute(node.getAttribute('title'));\n    if (title) title = ' \"' + title.replace(/\"/g, '\\\\\"') + '\"';\n    return '[' + content + '](' + href + title + ')'\n  }\n};\n\nrules.referenceLink = {\n  filter: function (node, options) {\n    return (\n      options.linkStyle === 'referenced' &&\n      node.nodeName === 'A' &&\n      node.getAttribute('href')\n    )\n  },\n\n  replacement: function (content, node, options) {\n    var href = node.getAttribute('href');\n    var title = cleanAttribute(node.getAttribute('title'));\n    if (title) title = ' \"' + title + '\"';\n    var replacement;\n    var reference;\n\n    switch (options.linkReferenceStyle) {\n      case 'collapsed':\n        replacement = '[' + content + '][]';\n        reference = '[' + content + ']: ' + href + title;\n        break\n      case 'shortcut':\n        replacement = '[' + content + ']';\n        reference = '[' + content + ']: ' + href + title;\n        break\n      default:\n        var id = this.references.length + 1;\n        replacement = '[' + content + '][' + id + ']';\n        reference = '[' + id + ']: ' + href + title;\n    }\n\n    this.references.push(reference);\n    return replacement\n  },\n\n  references: [],\n\n  append: function (options) {\n    var references = '';\n    if (this.references.length) {\n      references = '\\n\\n' + this.references.join('\\n') + '\\n\\n';\n      this.references = []; // Reset references\n    }\n    return references\n  }\n};\n\nrules.emphasis = {\n  filter: ['em', 'i'],\n\n  replacement: function (content, node, options) {\n    if (!content.trim()) return ''\n    return options.emDelimiter + content + options.emDelimiter\n  }\n};\n\nrules.strong = {\n  filter: ['strong', 'b'],\n\n  replacement: function (content, node, options) {\n    if (!content.trim()) return ''\n    return options.strongDelimiter + content + options.strongDelimiter\n  }\n};\n\nrules.code = {\n  filter: function (node) {\n    var hasSiblings = node.previousSibling || node.nextSibling;\n    var isCodeBlock = node.parentNode.nodeName === 'PRE' && !hasSiblings;\n\n    return node.nodeName === 'CODE' && !isCodeBlock\n  },\n\n  replacement: function (content) {\n    if (!content) return ''\n    content = content.replace(/\\r?\\n|\\r/g, ' ');\n\n    var extraSpace = /^`|^ .*?[^ ].* $|`$/.test(content) ? ' ' : '';\n    var delimiter = '`';\n    var matches = content.match(/`+/gm) || [];\n    while (matches.indexOf(delimiter) !== -1) delimiter = delimiter + '`';\n\n    return delimiter + extraSpace + content + extraSpace + delimiter\n  }\n};\n\nrules.image = {\n  filter: 'img',\n\n  replacement: function (content, node) {\n    var alt = cleanAttribute(node.getAttribute('alt'));\n    var src = node.getAttribute('src') || '';\n    var title = cleanAttribute(node.getAttribute('title'));\n    var titlePart = title ? ' \"' + title + '\"' : '';\n    return src ? '![' + alt + ']' + '(' + src + titlePart + ')' : ''\n  }\n};\n\nfunction cleanAttribute (attribute) {\n  return attribute ? attribute.replace(/(\\n+\\s*)+/g, '\\n') : ''\n}\n\n/**\n * Manages a collection of rules used to convert HTML to Markdown\n */\n\nfunction Rules (options) {\n  this.options = options;\n  this._keep = [];\n  this._remove = [];\n\n  this.blankRule = {\n    replacement: options.blankReplacement\n  };\n\n  this.keepReplacement = options.keepReplacement;\n\n  this.defaultRule = {\n    replacement: options.defaultReplacement\n  };\n\n  this.array = [];\n  for (var key in options.rules) this.array.push(options.rules[key]);\n}\n\nRules.prototype = {\n  add: function (key, rule) {\n    this.array.unshift(rule);\n  },\n\n  keep: function (filter) {\n    this._keep.unshift({\n      filter: filter,\n      replacement: this.keepReplacement\n    });\n  },\n\n  remove: function (filter) {\n    this._remove.unshift({\n      filter: filter,\n      replacement: function () {\n        return ''\n      }\n    });\n  },\n\n  forNode: function (node) {\n    if (node.isBlank) return this.blankRule\n    var rule;\n\n    if ((rule = findRule(this.array, node, this.options))) return rule\n    if ((rule = findRule(this._keep, node, this.options))) return rule\n    if ((rule = findRule(this._remove, node, this.options))) return rule\n\n    return this.defaultRule\n  },\n\n  forEach: function (fn) {\n    for (var i = 0; i < this.array.length; i++) fn(this.array[i], i);\n  }\n};\n\nfunction findRule (rules, node, options) {\n  for (var i = 0; i < rules.length; i++) {\n    var rule = rules[i];\n    if (filterValue(rule, node, options)) return rule\n  }\n  return void 0\n}\n\nfunction filterValue (rule, node, options) {\n  var filter = rule.filter;\n  if (typeof filter === 'string') {\n    if (filter === node.nodeName.toLowerCase()) return true\n  } else if (Array.isArray(filter)) {\n    if (filter.indexOf(node.nodeName.toLowerCase()) > -1) return true\n  } else if (typeof filter === 'function') {\n    if (filter.call(rule, node, options)) return true\n  } else {\n    throw new TypeError('`filter` needs to be a string, array, or function')\n  }\n}\n\n/**\n * The collapseWhitespace function is adapted from collapse-whitespace\n * by Luc Thevenard.\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2014 Luc Thevenard <lucthevenard@gmail.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * collapseWhitespace(options) removes extraneous whitespace from an the given element.\n *\n * @param {Object} options\n */\nfunction collapseWhitespace (options) {\n  var element = options.element;\n  var isBlock = options.isBlock;\n  var isVoid = options.isVoid;\n  var isPre = options.isPre || function (node) {\n    return node.nodeName === 'PRE'\n  };\n\n  if (!element.firstChild || isPre(element)) return\n\n  var prevText = null;\n  var keepLeadingWs = false;\n\n  var prev = null;\n  var node = next(prev, element, isPre);\n\n  while (node !== element) {\n    if (node.nodeType === 3 || node.nodeType === 4) { // Node.TEXT_NODE or Node.CDATA_SECTION_NODE\n      var text = node.data.replace(/[ \\r\\n\\t]+/g, ' ');\n\n      if ((!prevText || / $/.test(prevText.data)) &&\n          !keepLeadingWs && text[0] === ' ') {\n        text = text.substr(1);\n      }\n\n      // `text` might be empty at this point.\n      if (!text) {\n        node = remove(node);\n        continue\n      }\n\n      node.data = text;\n\n      prevText = node;\n    } else if (node.nodeType === 1) { // Node.ELEMENT_NODE\n      if (isBlock(node) || node.nodeName === 'BR') {\n        if (prevText) {\n          prevText.data = prevText.data.replace(/ $/, '');\n        }\n\n        prevText = null;\n        keepLeadingWs = false;\n      } else if (isVoid(node) || isPre(node)) {\n        // Avoid trimming space around non-block, non-BR void elements and inline PRE.\n        prevText = null;\n        keepLeadingWs = true;\n      } else if (prevText) {\n        // Drop protection if set previously.\n        keepLeadingWs = false;\n      }\n    } else {\n      node = remove(node);\n      continue\n    }\n\n    var nextNode = next(prev, node, isPre);\n    prev = node;\n    node = nextNode;\n  }\n\n  if (prevText) {\n    prevText.data = prevText.data.replace(/ $/, '');\n    if (!prevText.data) {\n      remove(prevText);\n    }\n  }\n}\n\n/**\n * remove(node) removes the given node from the DOM and returns the\n * next node in the sequence.\n *\n * @param {Node} node\n * @return {Node} node\n */\nfunction remove (node) {\n  var next = node.nextSibling || node.parentNode;\n\n  node.parentNode.removeChild(node);\n\n  return next\n}\n\n/**\n * next(prev, current, isPre) returns the next node in the sequence, given the\n * current and previous nodes.\n *\n * @param {Node} prev\n * @param {Node} current\n * @param {Function} isPre\n * @return {Node}\n */\nfunction next (prev, current, isPre) {\n  if ((prev && prev.parentNode === current) || isPre(current)) {\n    return current.nextSibling || current.parentNode\n  }\n\n  return current.firstChild || current.nextSibling || current.parentNode\n}\n\n/*\n * Set up window for Node.js\n */\n\nvar root = (typeof window !== 'undefined' ? window : {});\n\n/*\n * Parsing HTML strings\n */\n\nfunction canParseHTMLNatively () {\n  var Parser = root.DOMParser;\n  var canParse = false;\n\n  // Adapted from https://gist.github.com/1129031\n  // Firefox/Opera/IE throw errors on unsupported types\n  try {\n    // WebKit returns null on unsupported types\n    if (new Parser().parseFromString('', 'text/html')) {\n      canParse = true;\n    }\n  } catch (e) {}\n\n  return canParse\n}\n\nfunction createHTMLParser () {\n  var Parser = function () {};\n\n  {\n    if (shouldUseActiveX()) {\n      Parser.prototype.parseFromString = function (string) {\n        var doc = new window.ActiveXObject('htmlfile');\n        doc.designMode = 'on'; // disable on-page scripts\n        doc.open();\n        doc.write(string);\n        doc.close();\n        return doc\n      };\n    } else {\n      Parser.prototype.parseFromString = function (string) {\n        var doc = document.implementation.createHTMLDocument('');\n        doc.open();\n        doc.write(string);\n        doc.close();\n        return doc\n      };\n    }\n  }\n  return Parser\n}\n\nfunction shouldUseActiveX () {\n  var useActiveX = false;\n  try {\n    document.implementation.createHTMLDocument('').open();\n  } catch (e) {\n    if (root.ActiveXObject) useActiveX = true;\n  }\n  return useActiveX\n}\n\nvar HTMLParser = canParseHTMLNatively() ? root.DOMParser : createHTMLParser();\n\nfunction RootNode (input, options) {\n  var root;\n  if (typeof input === 'string') {\n    var doc = htmlParser().parseFromString(\n      // DOM parsers arrange elements in the <head> and <body>.\n      // Wrapping in a custom element ensures elements are reliably arranged in\n      // a single element.\n      '<x-turndown id=\"turndown-root\">' + input + '</x-turndown>',\n      'text/html'\n    );\n    root = doc.getElementById('turndown-root');\n  } else {\n    root = input.cloneNode(true);\n  }\n  collapseWhitespace({\n    element: root,\n    isBlock: isBlock,\n    isVoid: isVoid,\n    isPre: options.preformattedCode ? isPreOrCode : null\n  });\n\n  return root\n}\n\nvar _htmlParser;\nfunction htmlParser () {\n  _htmlParser = _htmlParser || new HTMLParser();\n  return _htmlParser\n}\n\nfunction isPreOrCode (node) {\n  return node.nodeName === 'PRE' || node.nodeName === 'CODE'\n}\n\nfunction Node (node, options) {\n  node.isBlock = isBlock(node);\n  node.isCode = node.nodeName === 'CODE' || node.parentNode.isCode;\n  node.isBlank = isBlank(node);\n  node.flankingWhitespace = flankingWhitespace(node, options);\n  return node\n}\n\nfunction isBlank (node) {\n  return (\n    !isVoid(node) &&\n    !isMeaningfulWhenBlank(node) &&\n    /^\\s*$/i.test(node.textContent) &&\n    !hasVoid(node) &&\n    !hasMeaningfulWhenBlank(node)\n  )\n}\n\nfunction flankingWhitespace (node, options) {\n  if (node.isBlock || (options.preformattedCode && node.isCode)) {\n    return { leading: '', trailing: '' }\n  }\n\n  var edges = edgeWhitespace(node.textContent);\n\n  // abandon leading ASCII WS if left-flanked by ASCII WS\n  if (edges.leadingAscii && isFlankedByWhitespace('left', node, options)) {\n    edges.leading = edges.leadingNonAscii;\n  }\n\n  // abandon trailing ASCII WS if right-flanked by ASCII WS\n  if (edges.trailingAscii && isFlankedByWhitespace('right', node, options)) {\n    edges.trailing = edges.trailingNonAscii;\n  }\n\n  return { leading: edges.leading, trailing: edges.trailing }\n}\n\nfunction edgeWhitespace (string) {\n  var m = string.match(/^(([ \\t\\r\\n]*)(\\s*))(?:(?=\\S)[\\s\\S]*\\S)?((\\s*?)([ \\t\\r\\n]*))$/);\n  return {\n    leading: m[1], // whole string for whitespace-only strings\n    leadingAscii: m[2],\n    leadingNonAscii: m[3],\n    trailing: m[4], // empty for whitespace-only strings\n    trailingNonAscii: m[5],\n    trailingAscii: m[6]\n  }\n}\n\nfunction isFlankedByWhitespace (side, node, options) {\n  var sibling;\n  var regExp;\n  var isFlanked;\n\n  if (side === 'left') {\n    sibling = node.previousSibling;\n    regExp = / $/;\n  } else {\n    sibling = node.nextSibling;\n    regExp = /^ /;\n  }\n\n  if (sibling) {\n    if (sibling.nodeType === 3) {\n      isFlanked = regExp.test(sibling.nodeValue);\n    } else if (options.preformattedCode && sibling.nodeName === 'CODE') {\n      isFlanked = false;\n    } else if (sibling.nodeType === 1 && !isBlock(sibling)) {\n      isFlanked = regExp.test(sibling.textContent);\n    }\n  }\n  return isFlanked\n}\n\nvar reduce = Array.prototype.reduce;\nvar escapes = [\n  [/\\\\/g, '\\\\\\\\'],\n  [/\\*/g, '\\\\*'],\n  [/^-/g, '\\\\-'],\n  [/^\\+ /g, '\\\\+ '],\n  [/^(=+)/g, '\\\\$1'],\n  [/^(#{1,6}) /g, '\\\\$1 '],\n  [/`/g, '\\\\`'],\n  [/^~~~/g, '\\\\~~~'],\n  [/\\[/g, '\\\\['],\n  [/\\]/g, '\\\\]'],\n  [/^>/g, '\\\\>'],\n  [/_/g, '\\\\_'],\n  [/^(\\d+)\\. /g, '$1\\\\. ']\n];\n\nfunction TurndownService (options) {\n  if (!(this instanceof TurndownService)) return new TurndownService(options)\n\n  var defaults = {\n    rules: rules,\n    headingStyle: 'setext',\n    hr: '* * *',\n    bulletListMarker: '*',\n    codeBlockStyle: 'indented',\n    fence: '```',\n    emDelimiter: '_',\n    strongDelimiter: '**',\n    linkStyle: 'inlined',\n    linkReferenceStyle: 'full',\n    br: '  ',\n    preformattedCode: false,\n    blankReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' : ''\n    },\n    keepReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' + node.outerHTML + '\\n\\n' : node.outerHTML\n    },\n    defaultReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' + content + '\\n\\n' : content\n    }\n  };\n  this.options = extend({}, defaults, options);\n  this.rules = new Rules(this.options);\n}\n\nTurndownService.prototype = {\n  /**\n   * The entry point for converting a string or DOM node to Markdown\n   * @public\n   * @param {String|HTMLElement} input The string or DOM node to convert\n   * @returns A Markdown representation of the input\n   * @type String\n   */\n\n  turndown: function (input) {\n    if (!canConvert(input)) {\n      throw new TypeError(\n        input + ' is not a string, or an element/document/fragment node.'\n      )\n    }\n\n    if (input === '') return ''\n\n    var output = process.call(this, new RootNode(input, this.options));\n    return postProcess.call(this, output)\n  },\n\n  /**\n   * Add one or more plugins\n   * @public\n   * @param {Function|Array} plugin The plugin or array of plugins to add\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  use: function (plugin) {\n    if (Array.isArray(plugin)) {\n      for (var i = 0; i < plugin.length; i++) this.use(plugin[i]);\n    } else if (typeof plugin === 'function') {\n      plugin(this);\n    } else {\n      throw new TypeError('plugin must be a Function or an Array of Functions')\n    }\n    return this\n  },\n\n  /**\n   * Adds a rule\n   * @public\n   * @param {String} key The unique key of the rule\n   * @param {Object} rule The rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  addRule: function (key, rule) {\n    this.rules.add(key, rule);\n    return this\n  },\n\n  /**\n   * Keep a node (as HTML) that matches the filter\n   * @public\n   * @param {String|Array|Function} filter The unique key of the rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  keep: function (filter) {\n    this.rules.keep(filter);\n    return this\n  },\n\n  /**\n   * Remove a node that matches the filter\n   * @public\n   * @param {String|Array|Function} filter The unique key of the rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  remove: function (filter) {\n    this.rules.remove(filter);\n    return this\n  },\n\n  /**\n   * Escapes Markdown syntax\n   * @public\n   * @param {String} string The string to escape\n   * @returns A string with Markdown syntax escaped\n   * @type String\n   */\n\n  escape: function (string) {\n    return escapes.reduce(function (accumulator, escape) {\n      return accumulator.replace(escape[0], escape[1])\n    }, string)\n  }\n};\n\n/**\n * Reduces a DOM node down to its Markdown string equivalent\n * @private\n * @param {HTMLElement} parentNode The node to convert\n * @returns A Markdown representation of the node\n * @type String\n */\n\nfunction process (parentNode) {\n  var self = this;\n  return reduce.call(parentNode.childNodes, function (output, node) {\n    node = new Node(node, self.options);\n\n    var replacement = '';\n    if (node.nodeType === 3) {\n      replacement = node.isCode ? node.nodeValue : self.escape(node.nodeValue);\n    } else if (node.nodeType === 1) {\n      replacement = replacementForNode.call(self, node);\n    }\n\n    return join(output, replacement)\n  }, '')\n}\n\n/**\n * Appends strings as each rule requires and trims the output\n * @private\n * @param {String} output The conversion output\n * @returns A trimmed version of the ouput\n * @type String\n */\n\nfunction postProcess (output) {\n  var self = this;\n  this.rules.forEach(function (rule) {\n    if (typeof rule.append === 'function') {\n      output = join(output, rule.append(self.options));\n    }\n  });\n\n  return output.replace(/^[\\t\\r\\n]+/, '').replace(/[\\t\\r\\n\\s]+$/, '')\n}\n\n/**\n * Converts an element node to its Markdown equivalent\n * @private\n * @param {HTMLElement} node The node to convert\n * @returns A Markdown representation of the node\n * @type String\n */\n\nfunction replacementForNode (node) {\n  var rule = this.rules.forNode(node);\n  var content = process.call(this, node);\n  var whitespace = node.flankingWhitespace;\n  if (whitespace.leading || whitespace.trailing) content = content.trim();\n  return (\n    whitespace.leading +\n    rule.replacement(content, node, this.options) +\n    whitespace.trailing\n  )\n}\n\n/**\n * Joins replacement to the current output with appropriate number of new lines\n * @private\n * @param {String} output The current conversion output\n * @param {String} replacement The string to append to the output\n * @returns Joined output\n * @type String\n */\n\nfunction join (output, replacement) {\n  var s1 = trimTrailingNewlines(output);\n  var s2 = trimLeadingNewlines(replacement);\n  var nls = Math.max(output.length - s1.length, replacement.length - s2.length);\n  var separator = '\\n\\n'.substring(0, nls);\n\n  return s1 + separator + s2\n}\n\n/**\n * Determines whether an input can be converted\n * @private\n * @param {String|HTMLElement} input Describe this parameter\n * @returns Describe what it returns\n * @type String|Object|Array|Boolean|Number\n */\n\nfunction canConvert (input) {\n  return (\n    input != null && (\n      typeof input === 'string' ||\n      (input.nodeType && (\n        input.nodeType === 1 || input.nodeType === 9 || input.nodeType === 11\n      ))\n    )\n  )\n}\n\nexport default TurndownService;\n","var highlightRegExp = /highlight-(?:text|source)-([a-z0-9]+)/;\n\nfunction highlightedCodeBlock (turndownService) {\n  turndownService.addRule('highlightedCodeBlock', {\n    filter: function (node) {\n      var firstChild = node.firstChild;\n      return (\n        node.nodeName === 'DIV' &&\n        highlightRegExp.test(node.className) &&\n        firstChild &&\n        firstChild.nodeName === 'PRE'\n      )\n    },\n    replacement: function (content, node, options) {\n      var className = node.className || '';\n      var language = (className.match(highlightRegExp) || [null, ''])[1];\n\n      return (\n        '\\n\\n' + options.fence + language + '\\n' +\n        node.firstChild.textContent +\n        '\\n' + options.fence + '\\n\\n'\n      )\n    }\n  });\n}\n\nfunction strikethrough (turndownService) {\n  turndownService.addRule('strikethrough', {\n    filter: ['del', 's', 'strike'],\n    replacement: function (content) {\n      return '~' + content + '~'\n    }\n  });\n}\n\nvar indexOf = Array.prototype.indexOf;\nvar every = Array.prototype.every;\nvar rules = {};\n\nrules.tableCell = {\n  filter: ['th', 'td'],\n  replacement: function (content, node) {\n    return cell(content, node)\n  }\n};\n\nrules.tableRow = {\n  filter: 'tr',\n  replacement: function (content, node) {\n    var borderCells = '';\n    var alignMap = { left: ':--', right: '--:', center: ':-:' };\n\n    if (isHeadingRow(node)) {\n      for (var i = 0; i < node.childNodes.length; i++) {\n        var border = '---';\n        var align = (\n          node.childNodes[i].getAttribute('align') || ''\n        ).toLowerCase();\n\n        if (align) border = alignMap[align] || border;\n\n        borderCells += cell(border, node.childNodes[i]);\n      }\n    }\n    return '\\n' + content + (borderCells ? '\\n' + borderCells : '')\n  }\n};\n\nrules.table = {\n  // Only convert tables with a heading row.\n  // Tables with no heading row are kept using `keep` (see below).\n  filter: function (node) {\n    return node.nodeName === 'TABLE' && isHeadingRow(node.rows[0])\n  },\n\n  replacement: function (content) {\n    // Ensure there are no blank lines\n    content = content.replace('\\n\\n', '\\n');\n    return '\\n\\n' + content + '\\n\\n'\n  }\n};\n\nrules.tableSection = {\n  filter: ['thead', 'tbody', 'tfoot'],\n  replacement: function (content) {\n    return content\n  }\n};\n\n// A tr is a heading row if:\n// - the parent is a THEAD\n// - or if its the first child of the TABLE or the first TBODY (possibly\n//   following a blank THEAD)\n// - and every cell is a TH\nfunction isHeadingRow (tr) {\n  var parentNode = tr.parentNode;\n  return (\n    parentNode.nodeName === 'THEAD' ||\n    (\n      parentNode.firstChild === tr &&\n      (parentNode.nodeName === 'TABLE' || isFirstTbody(parentNode)) &&\n      every.call(tr.childNodes, function (n) { return n.nodeName === 'TH' })\n    )\n  )\n}\n\nfunction isFirstTbody (element) {\n  var previousSibling = element.previousSibling;\n  return (\n    element.nodeName === 'TBODY' && (\n      !previousSibling ||\n      (\n        previousSibling.nodeName === 'THEAD' &&\n        /^\\s*$/i.test(previousSibling.textContent)\n      )\n    )\n  )\n}\n\nfunction cell (content, node) {\n  var index = indexOf.call(node.parentNode.childNodes, node);\n  var prefix = ' ';\n  if (index === 0) prefix = '| ';\n  return prefix + content + ' |'\n}\n\nfunction tables (turndownService) {\n  turndownService.keep(function (node) {\n    return node.nodeName === 'TABLE' && !isHeadingRow(node.rows[0])\n  });\n  for (var key in rules) turndownService.addRule(key, rules[key]);\n}\n\nfunction taskListItems (turndownService) {\n  turndownService.addRule('taskListItems', {\n    filter: function (node) {\n      return node.type === 'checkbox' && node.parentNode.nodeName === 'LI'\n    },\n    replacement: function (content, node) {\n      return (node.checked ? '[x]' : '[ ]') + ' '\n    }\n  });\n}\n\nfunction gfm (turndownService) {\n  turndownService.use([\n    highlightedCodeBlock,\n    strikethrough,\n    tables,\n    taskListItems\n  ]);\n}\n\nexport { gfm, highlightedCodeBlock, strikethrough, tables, taskListItems };\n","/**\n * marked v17.0.1 - a markdown parser\n * Copyright (c) 2018-2025, MarkedJS. (MIT License)\n * Copyright (c) 2011-2018, Christopher Jeffrey. (MIT License)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\nfunction L(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T=L();function Z(u){T=u}var C={exec:()=>null};function k(u,e=\"\"){let t=typeof u==\"string\"?u:u.source,n={replace:(r,i)=>{let s=typeof i==\"string\"?i:i.source;return s=s.replace(m.caret,\"$1\"),t=t.replace(r,s),n},getRegex:()=>new RegExp(t,e)};return n}var me=(()=>{try{return!!new RegExp(\"(?<=1)(?<!1)\")}catch{return!1}})(),m={codeRemoveIndent:/^(?: {1,4}| {0,3}\\t)/gm,outputLinkReplace:/\\\\([\\[\\]])/g,indentCodeCompensation:/^(\\s+)(?:```)/,beginningSpace:/^\\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\\n/g,tabCharGlobal:/\\t/g,multipleSpaceGlobal:/\\s+/g,blankLine:/^[ \\t]*$/,doubleBlankLine:/\\n[ \\t]*\\n[ \\t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\\n {0,3}((?:=+|-+) *)(?=\\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \\t]?/gm,listReplaceTabs:/^\\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\\[[ xX]\\] +\\S/,listReplaceTask:/^\\[[ xX]\\] +/,listTaskCheckbox:/\\[[ xX]\\]/,anyLine:/\\n.*\\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\\||\\| *$/g,tableRowBlankLine:/\\n[ \\t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\\s|>)/i,endPreScriptTag:/^<\\/(pre|code|kbd|script)(\\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/,unicodeAlphaNumeric:/[\\p{L}\\p{N}]/u,escapeTest:/[&<>\"']/,escapeReplace:/[&<>\"']/g,escapeTestNoEncode:/[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/,escapeReplaceNoEncode:/[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/g,unescapeTest:/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig,caret:/(^|[^\\[])\\^/g,percentDecode:/%25/g,findPipe:/\\|/g,splitPipe:/ \\|/,slashPipe:/\\\\\\|/g,carriageReturn:/\\r\\n|\\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\\S*/,endingNewline:/\\n$/,listItemRegex:u=>new RegExp(`^( {0,3}${u})((?:[\t ][^\\\\n]*)?(?:\\\\n|$))`),nextBulletRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\\\d{1,9}[.)])((?:[ \t][^\\\\n]*)?(?:\\\\n|$))`),hrRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)`),fencesBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\\`\\`\\`|~~~)`),headingBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}#`),htmlBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}<(?:[a-z].*>|!--)`,\"i\")},xe=/^(?:[ \\t]*(?:\\n|$))+/,be=/^((?: {4}| {0,3}\\t)[^\\n]+(?:\\n(?:[ \\t]*(?:\\n|$))*)?)+/,Re=/^ {0,3}(`{3,}(?=[^`\\n]*(?:\\n|$))|~{3,})([^\\n]*)(?:\\n|$)(?:|([\\s\\S]*?)(?:\\n|$))(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,I=/^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,Te=/^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,N=/(?:[*+-]|\\d{1,9}[.)])/,re=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\\n(?!\\s*?\\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,se=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\\n>]+>\\n/).replace(/\\|table/g,\"\").getRegex(),Oe=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\\n>]+>\\n/).replace(/table/g,/ {0,3}\\|?(?:[:\\- ]*\\|)+[\\:\\- ]*\\n/).getRegex(),Q=/^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,we=/^[^\\n]+/,F=/(?!\\s*\\])(?:\\\\[\\s\\S]|[^\\[\\]\\\\])+/,ye=k(/^ {0,3}\\[(label)\\]: *(?:\\n[ \\t]*)?([^<\\s][^\\s]*|<.*?>)(?:(?: +(?:\\n[ \\t]*)?| *\\n[ \\t]*)(title))? *(?:\\n+|$)/).replace(\"label\",F).replace(\"title\",/(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/).getRegex(),Pe=k(/^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/).replace(/bull/g,N).getRegex(),v=\"address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul\",j=/<!--(?:-?>|[\\s\\S]*?(?:-->|$))/,Se=k(\"^ {0,3}(?:<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)|comment[^\\\\n]*(\\\\n+|$)|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$)|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$)|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$))\",\"i\").replace(\"comment\",j).replace(\"tag\",v).replace(\"attribute\",/ +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex(),ie=k(Q).replace(\"hr\",I).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"|lheading\",\"\").replace(\"|table\",\"\").replace(\"blockquote\",\" {0,3}>\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",v).getRegex(),$e=k(/^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/).replace(\"paragraph\",ie).getRegex(),U={blockquote:$e,code:be,def:ye,fences:Re,heading:Te,hr:I,html:Se,lheading:se,list:Pe,newline:xe,paragraph:ie,table:C,text:we},te=k(\"^ *([^\\\\n ].*)\\\\n {0,3}((?:\\\\| *)?:?-+:? *(?:\\\\| *:?-+:? *)*(?:\\\\| *)?)(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)\").replace(\"hr\",I).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"blockquote\",\" {0,3}>\").replace(\"code\",\"(?: {4}| {0,3}\t)[^\\\\n]\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",v).getRegex(),_e={...U,lheading:Oe,table:te,paragraph:k(Q).replace(\"hr\",I).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"|lheading\",\"\").replace(\"table\",te).replace(\"blockquote\",\" {0,3}>\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",v).getRegex()},Le={...U,html:k(`^ *(?:comment *(?:\\\\n|\\\\s*$)|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\\\s[^'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))`).replace(\"comment\",j).replace(/tag/g,\"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b\").getRegex(),def:/^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,heading:/^(#{1,6})(.*)(?:\\n+|$)/,fences:C,lheading:/^(.+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,paragraph:k(Q).replace(\"hr\",I).replace(\"heading\",` *#{1,6} *[^\n]`).replace(\"lheading\",se).replace(\"|table\",\"\").replace(\"blockquote\",\" {0,3}>\").replace(\"|fences\",\"\").replace(\"|list\",\"\").replace(\"|html\",\"\").replace(\"|tag\",\"\").getRegex()},Me=/^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,ze=/^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,oe=/^( {2,}|\\\\)\\n(?!\\s*$)/,Ae=/^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,D=/[\\p{P}\\p{S}]/u,K=/[\\s\\p{P}\\p{S}]/u,ae=/[^\\s\\p{P}\\p{S}]/u,Ce=k(/^((?![*_])punctSpace)/,\"u\").replace(/punctSpace/g,K).getRegex(),le=/(?!~)[\\p{P}\\p{S}]/u,Ie=/(?!~)[\\s\\p{P}\\p{S}]/u,Ee=/(?:[^\\s\\p{P}\\p{S}]|~)/u,Be=k(/link|precode-code|html/,\"g\").replace(\"link\",/\\[(?:[^\\[\\]`]|(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)/).replace(\"precode-\",me?\"(?<!`)()\":\"(^^|[^`])\").replace(\"code\",/(?<b>`+)[^`]+\\k<b>(?!`)/).replace(\"html\",/<(?! )[^<>]*?>/).getRegex(),ue=/^(?:\\*+(?:((?!\\*)punct)|[^\\s*]))|^_+(?:((?!_)punct)|([^\\s_]))/,qe=k(ue,\"u\").replace(/punct/g,D).getRegex(),ve=k(ue,\"u\").replace(/punct/g,le).getRegex(),pe=\"^[^_*]*?__[^_*]*?\\\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\\\*)punct(\\\\*+)(?=[\\\\s]|$)|notPunctSpace(\\\\*+)(?!\\\\*)(?=punctSpace|$)|(?!\\\\*)punctSpace(\\\\*+)(?=notPunctSpace)|[\\\\s](\\\\*+)(?!\\\\*)(?=punct)|(?!\\\\*)punct(\\\\*+)(?!\\\\*)(?=punct)|notPunctSpace(\\\\*+)(?=notPunctSpace)\",De=k(pe,\"gu\").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),He=k(pe,\"gu\").replace(/notPunctSpace/g,Ee).replace(/punctSpace/g,Ie).replace(/punct/g,le).getRegex(),Ze=k(\"^[^_*]*?\\\\*\\\\*[^_*]*?_[^_*]*?(?=\\\\*\\\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)\",\"gu\").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),Ge=k(/\\\\(punct)/,\"gu\").replace(/punct/g,D).getRegex(),Ne=k(/^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/).replace(\"scheme\",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace(\"email\",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qe=k(j).replace(\"(?:-->|$)\",\"-->\").getRegex(),Fe=k(\"^comment|^</[a-zA-Z][\\\\w:-]*\\\\s*>|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>|^<\\\\?[\\\\s\\\\S]*?\\\\?>|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\").replace(\"comment\",Qe).replace(\"attribute\",/\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/).getRegex(),q=/(?:\\[(?:\\\\[\\s\\S]|[^\\[\\]\\\\])*\\]|\\\\[\\s\\S]|`+[^`]*?`+(?!`)|[^\\[\\]\\\\`])*?/,je=k(/^!?\\[(label)\\]\\(\\s*(href)(?:(?:[ \\t]*(?:\\n[ \\t]*)?)(title))?\\s*\\)/).replace(\"label\",q).replace(\"href\",/<(?:\\\\.|[^\\n<>\\\\])+>|[^ \\t\\n\\x00-\\x1f]*/).replace(\"title\",/\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/).getRegex(),ce=k(/^!?\\[(label)\\]\\[(ref)\\]/).replace(\"label\",q).replace(\"ref\",F).getRegex(),he=k(/^!?\\[(ref)\\](?:\\[\\])?/).replace(\"ref\",F).getRegex(),Ue=k(\"reflink|nolink(?!\\\\()\",\"g\").replace(\"reflink\",ce).replace(\"nolink\",he).getRegex(),ne=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,W={_backpedal:C,anyPunctuation:Ge,autolink:Ne,blockSkip:Be,br:oe,code:ze,del:C,emStrongLDelim:qe,emStrongRDelimAst:De,emStrongRDelimUnd:Ze,escape:Me,link:je,nolink:he,punctuation:Ce,reflink:ce,reflinkSearch:Ue,tag:Fe,text:Ae,url:C},Ke={...W,link:k(/^!?\\[(label)\\]\\((.*?)\\)/).replace(\"label\",q).getRegex(),reflink:k(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace(\"label\",q).getRegex()},G={...W,emStrongRDelimAst:He,emStrongLDelim:ve,url:k(/^((?:protocol):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/).replace(\"protocol\",ne).replace(\"email\",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'\"~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'\"~)]+(?!$))+/,del:/^(~~?)(?=[^\\s~])((?:\\\\[\\s\\S]|[^\\\\])*?(?:\\\\[\\s\\S]|[^\\s~\\\\]))\\1(?=[^~]|$)/,text:k(/^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|protocol:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/).replace(\"protocol\",ne).getRegex()},We={...G,br:k(oe).replace(\"{2,}\",\"*\").getRegex(),text:k(G.text).replace(\"\\\\b_\",\"\\\\b_| {2,}\\\\n\").replace(/\\{2,\\}/g,\"*\").getRegex()},E={normal:U,gfm:_e,pedantic:Le},M={normal:W,gfm:G,breaks:We,pedantic:Ke};var Xe={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},ke=u=>Xe[u];function w(u,e){if(e){if(m.escapeTest.test(u))return u.replace(m.escapeReplace,ke)}else if(m.escapeTestNoEncode.test(u))return u.replace(m.escapeReplaceNoEncode,ke);return u}function X(u){try{u=encodeURI(u).replace(m.percentDecode,\"%\")}catch{return null}return u}function J(u,e){let t=u.replace(m.findPipe,(i,s,a)=>{let o=!1,l=s;for(;--l>=0&&a[l]===\"\\\\\";)o=!o;return o?\"|\":\" |\"}),n=t.split(m.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push(\"\");for(;r<n.length;r++)n[r]=n[r].trim().replace(m.slashPipe,\"|\");return n}function z(u,e,t){let n=u.length;if(n===0)return\"\";let r=0;for(;r<n;){let i=u.charAt(n-r-1);if(i===e&&!t)r++;else if(i!==e&&t)r++;else break}return u.slice(0,n-r)}function de(u,e){if(u.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<u.length;n++)if(u[n]===\"\\\\\")n++;else if(u[n]===e[0])t++;else if(u[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function ge(u,e,t,n,r){let i=e.href,s=e.title||null,a=u[1].replace(r.other.outputLinkReplace,\"$1\");n.state.inLink=!0;let o={type:u[0].charAt(0)===\"!\"?\"image\":\"link\",raw:t,href:i,title:s,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,o}function Je(u,e,t){let n=u.match(t.other.indentCodeCompensation);if(n===null)return e;let r=n[1];return e.split(`\n`).map(i=>{let s=i.match(t.other.beginningSpace);if(s===null)return i;let[a]=s;return a.length>=r.length?i.slice(r.length):i}).join(`\n`)}var y=class{options;rules;lexer;constructor(e){this.options=e||T}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:\"space\",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,\"\");return{type:\"code\",raw:t[0],codeBlockStyle:\"indented\",text:this.options.pedantic?n:z(n,`\n`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=Je(n,t[3]||\"\",this.rules);return{type:\"code\",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,\"$1\"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=z(n,\"#\");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:\"heading\",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:\"hr\",raw:z(t[0],`\n`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=z(t[0],`\n`).split(`\n`),r=\"\",i=\"\",s=[];for(;n.length>0;){let a=!1,o=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))o.push(n[l]),a=!0;else if(!a)o.push(n[l]);else break;n=n.slice(l);let p=o.join(`\n`),c=p.replace(this.rules.other.blockquoteSetextReplace,`\n    $1`).replace(this.rules.other.blockquoteSetextReplace2,\"\");r=r?`${r}\n${p}`:p,i=i?`${i}\n${c}`:c;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,s,!0),this.lexer.state.top=g,n.length===0)break;let h=s.at(-1);if(h?.type===\"code\")break;if(h?.type===\"blockquote\"){let R=h,f=R.raw+`\n`+n.join(`\n`),O=this.blockquote(f);s[s.length-1]=O,r=r.substring(0,r.length-R.raw.length)+O.raw,i=i.substring(0,i.length-R.text.length)+O.text;break}else if(h?.type===\"list\"){let R=h,f=R.raw+`\n`+n.join(`\n`),O=this.list(f);s[s.length-1]=O,r=r.substring(0,r.length-h.raw.length)+O.raw,i=i.substring(0,i.length-R.raw.length)+O.raw,n=f.substring(s.at(-1).raw.length).split(`\n`);continue}}return{type:\"blockquote\",raw:r,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:\"list\",raw:\"\",ordered:r,start:r?+n.slice(0,-1):\"\",loose:!1,items:[]};n=r?`\\\\d{1,9}\\\\${n.slice(-1)}`:`\\\\${n}`,this.options.pedantic&&(n=r?n:\"[*+-]\");let s=this.rules.other.listItemRegex(n),a=!1;for(;e;){let l=!1,p=\"\",c=\"\";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;p=t[0],e=e.substring(p.length);let g=t[2].split(`\n`,1)[0].replace(this.rules.other.listReplaceTabs,O=>\" \".repeat(3*O.length)),h=e.split(`\n`,1)[0],R=!g.trim(),f=0;if(this.options.pedantic?(f=2,c=g.trimStart()):R?f=t[1].length+1:(f=t[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,c=g.slice(f),f+=t[1].length),R&&this.rules.other.blankLine.test(h)&&(p+=h+`\n`,e=e.substring(h.length+1),l=!0),!l){let O=this.rules.other.nextBulletRegex(f),V=this.rules.other.hrRegex(f),Y=this.rules.other.fencesBeginRegex(f),ee=this.rules.other.headingBeginRegex(f),fe=this.rules.other.htmlBeginRegex(f);for(;e;){let H=e.split(`\n`,1)[0],A;if(h=H,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,\"  \"),A=h):A=h.replace(this.rules.other.tabCharGlobal,\"    \"),Y.test(h)||ee.test(h)||fe.test(h)||O.test(h)||V.test(h))break;if(A.search(this.rules.other.nonSpaceChar)>=f||!h.trim())c+=`\n`+A.slice(f);else{if(R||g.replace(this.rules.other.tabCharGlobal,\"    \").search(this.rules.other.nonSpaceChar)>=4||Y.test(g)||ee.test(g)||V.test(g))break;c+=`\n`+h}!R&&!h.trim()&&(R=!0),p+=H+`\n`,e=e.substring(H.length+1),g=A.slice(f)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(a=!0)),i.items.push({type:\"list_item\",raw:p,task:!!this.options.gfm&&this.rules.other.listIsTask.test(c),loose:!1,text:c,tokens:[]}),i.raw+=p}let o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l of i.items){if(this.lexer.state.top=!1,l.tokens=this.lexer.blockTokens(l.text,[]),l.task){if(l.text=l.text.replace(this.rules.other.listReplaceTask,\"\"),l.tokens[0]?.type===\"text\"||l.tokens[0]?.type===\"paragraph\"){l.tokens[0].raw=l.tokens[0].raw.replace(this.rules.other.listReplaceTask,\"\"),l.tokens[0].text=l.tokens[0].text.replace(this.rules.other.listReplaceTask,\"\");for(let c=this.lexer.inlineQueue.length-1;c>=0;c--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[c].src)){this.lexer.inlineQueue[c].src=this.lexer.inlineQueue[c].src.replace(this.rules.other.listReplaceTask,\"\");break}}let p=this.rules.other.listTaskCheckbox.exec(l.raw);if(p){let c={type:\"checkbox\",raw:p[0]+\" \",checked:p[0]!==\"[ ]\"};l.checked=c.checked,i.loose?l.tokens[0]&&[\"paragraph\",\"text\"].includes(l.tokens[0].type)&&\"tokens\"in l.tokens[0]&&l.tokens[0].tokens?(l.tokens[0].raw=c.raw+l.tokens[0].raw,l.tokens[0].text=c.raw+l.tokens[0].text,l.tokens[0].tokens.unshift(c)):l.tokens.unshift({type:\"paragraph\",raw:c.raw,text:c.raw,tokens:[c]}):l.tokens.unshift(c)}}if(!i.loose){let p=l.tokens.filter(g=>g.type===\"space\"),c=p.length>0&&p.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=c}}if(i.loose)for(let l of i.items){l.loose=!0;for(let p of l.tokens)p.type===\"text\"&&(p.type=\"paragraph\")}return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:\"html\",block:!0,raw:t[0],pre:t[1]===\"pre\"||t[1]===\"script\"||t[1]===\"style\",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal,\" \"),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,\"$1\").replace(this.rules.inline.anyPunctuation,\"$1\"):\"\",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,\"$1\"):t[3];return{type:\"def\",tag:n,raw:t[0],href:r,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=J(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,\"\").split(\"|\"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,\"\").split(`\n`):[],s={type:\"table\",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let a of r)this.rules.other.tableAlignRight.test(a)?s.align.push(\"right\"):this.rules.other.tableAlignCenter.test(a)?s.align.push(\"center\"):this.rules.other.tableAlignLeft.test(a)?s.align.push(\"left\"):s.align.push(null);for(let a=0;a<n.length;a++)s.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:s.align[a]});for(let a of i)s.rows.push(J(a,s.header.length).map((o,l)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:s.align[l]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:\"heading\",raw:t[0],depth:t[2].charAt(0)===\"=\"?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`\n`?t[1].slice(0,-1):t[1];return{type:\"paragraph\",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:\"text\",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:\"escape\",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:\"html\",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=z(n.slice(0,-1),\"\\\\\");if((n.length-s.length)%2===0)return}else{let s=de(t[2],\"()\");if(s===-2)return;if(s>-1){let o=(t[0].indexOf(\"!\")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=\"\"}}let r=t[2],i=\"\";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):\"\";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),ge(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,\"$1\"),title:i&&i.replace(this.rules.inline.anyPunctuation,\"$1\")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal,\" \"),i=t[r.toLowerCase()];if(!i){let s=n[0].charAt(0);return{type:\"text\",raw:s,text:s}}return ge(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=\"\"){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||\"\")||!n||this.rules.inline.punctuation.exec(n)){let s=[...r[0]].length-1,a,o,l=s,p=0,c=r[0][0]===\"*\"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);(r=c.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(o=[...a].length,r[3]||r[4]){l+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){p+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+p);let g=[...r[0]][0].length,h=e.slice(0,s+r.index+g+o);if(Math.min(s,o)%2){let f=h.slice(1,-1);return{type:\"em\",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}let R=h.slice(2,-2);return{type:\"strong\",raw:h,text:R,tokens:this.lexer.inlineTokens(R)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal,\" \"),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:\"codespan\",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:\"br\",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:\"del\",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]===\"@\"?(n=t[1],r=\"mailto:\"+n):(n=t[1],r=n),{type:\"link\",raw:t[0],text:n,href:r,tokens:[{type:\"text\",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]===\"@\")n=t[0],r=\"mailto:\"+n;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??\"\";while(i!==t[0]);n=t[0],t[1]===\"www.\"?r=\"http://\"+t[0]:r=t[0]}return{type:\"link\",raw:t[0],text:n,href:r,tokens:[{type:\"text\",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:\"text\",raw:t[0],text:t[0],escaped:n}}}};var x=class u{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||T,this.options.tokenizer=this.options.tokenizer||new y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:m,block:E.normal,inline:M.normal};this.options.pedantic?(t.block=E.pedantic,t.inline=M.pedantic):this.options.gfm&&(t.block=E.gfm,this.options.breaks?t.inline=M.breaks:t.inline=M.gfm),this.tokenizer.rules=t}static get rules(){return{block:E,inline:M}}static lex(e,t){return new u(t).lex(e)}static lexInline(e,t){return new u(t).inlineTokens(e)}lex(e){e=e.replace(m.carriageReturn,`\n`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(m.tabCharGlobal,\"    \").replace(m.spaceLine,\"\"));e;){let r;if(this.options.extensions?.block?.some(s=>(r=s.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let s=t.at(-1);r.raw.length===1&&s!==void 0?s.raw+=`\n`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"paragraph\"||s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"paragraph\"||s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let s=1/0,a=e.slice(1),o;this.options.extensions.startBlock.forEach(l=>{o=l.call({lexer:this},a),typeof o==\"number\"&&o>=0&&(s=Math.min(s,o))}),s<1/0&&s>=0&&(i=e.substring(0,s+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let s=t.at(-1);n&&s?.type===\"paragraph\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(e){let s=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)o.includes(r[0].slice(r[0].lastIndexOf(\"[\")+1,-1))&&(n=n.slice(0,r.index)+\"[\"+\"a\".repeat(r[0].length-2)+\"]\"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+\"++\"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)i=r[2]?r[2].length:0,n=n.slice(0,r.index+i)+\"[\"+\"a\".repeat(r[0].length-i-2)+\"]\"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let s=!1,a=\"\";for(;e;){s||(a=\"\"),s=!1;let o;if(this.options.extensions?.inline?.some(p=>(o=p.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let p=t.at(-1);o.type===\"text\"&&p?.type===\"text\"?(p.raw+=o.raw,p.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,n,a)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),t.push(o);continue}let l=e;if(this.options.extensions?.startInline){let p=1/0,c=e.slice(1),g;this.options.extensions.startInline.forEach(h=>{g=h.call({lexer:this},c),typeof g==\"number\"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(l=e.substring(0,p+1))}if(o=this.tokenizer.inlineText(l)){e=e.substring(o.raw.length),o.raw.slice(-1)!==\"_\"&&(a=o.raw.slice(-1)),s=!0;let p=t.at(-1);p?.type===\"text\"?(p.raw+=o.raw,p.text+=o.text):t.push(o);continue}if(e){let p=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return t}};var P=class{options;parser;constructor(e){this.options=e||T}space(e){return\"\"}code({text:e,lang:t,escaped:n}){let r=(t||\"\").match(m.notSpaceStart)?.[0],i=e.replace(m.endingNewline,\"\")+`\n`;return r?'<pre><code class=\"language-'+w(r)+'\">'+(n?i:w(i,!0))+`</code></pre>\n`:\"<pre><code>\"+(n?i:w(i,!0))+`</code></pre>\n`}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return\"\"}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return`<hr>\n`}list(e){let t=e.ordered,n=e.start,r=\"\";for(let a=0;a<e.items.length;a++){let o=e.items[a];r+=this.listitem(o)}let i=t?\"ol\":\"ul\",s=t&&n!==1?' start=\"'+n+'\"':\"\";return\"<\"+i+s+`>\n`+r+\"</\"+i+`>\n`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>\n`}checkbox({checked:e}){return\"<input \"+(e?'checked=\"\" ':\"\")+'disabled=\"\" type=\"checkbox\"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t=\"\",n=\"\";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r=\"\";for(let i=0;i<e.rows.length;i++){let s=e.rows[i];n=\"\";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>\n<thead>\n`+t+`</thead>\n`+r+`</table>\n`}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?\"th\":\"td\";return(e.align?`<${n} align=\"${e.align}\">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${w(e,!0)}</code>`}br(e){return\"<br>\"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=X(e);if(i===null)return r;e=i;let s='<a href=\"'+e+'\"';return t&&(s+=' title=\"'+w(t)+'\"'),s+=\">\"+r+\"</a>\",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=X(e);if(i===null)return w(n);e=i;let s=`<img src=\"${e}\" alt=\"${n}\"`;return t&&(s+=` title=\"${w(t)}\"`),s+=\">\",s}text(e){return\"tokens\"in e&&e.tokens?this.parser.parseInline(e.tokens):\"escaped\"in e&&e.escaped?e.text:w(e.text)}};var $=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return\"\"+e}image({text:e}){return\"\"+e}br(){return\"\"}checkbox({raw:e}){return e}};var b=class u{options;renderer;textRenderer;constructor(e){this.options=e||T,this.options.renderer=this.options.renderer||new P,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $}static parse(e,t){return new u(t).parse(e)}static parseInline(e,t){return new u(t).parseInline(e)}parse(e){let t=\"\";for(let n=0;n<e.length;n++){let r=e[n];if(this.options.extensions?.renderers?.[r.type]){let s=r,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||![\"space\",\"hr\",\"heading\",\"code\",\"table\",\"blockquote\",\"list\",\"html\",\"def\",\"paragraph\",\"text\"].includes(s.type)){t+=a||\"\";continue}}let i=r;switch(i.type){case\"space\":{t+=this.renderer.space(i);break}case\"hr\":{t+=this.renderer.hr(i);break}case\"heading\":{t+=this.renderer.heading(i);break}case\"code\":{t+=this.renderer.code(i);break}case\"table\":{t+=this.renderer.table(i);break}case\"blockquote\":{t+=this.renderer.blockquote(i);break}case\"list\":{t+=this.renderer.list(i);break}case\"checkbox\":{t+=this.renderer.checkbox(i);break}case\"html\":{t+=this.renderer.html(i);break}case\"def\":{t+=this.renderer.def(i);break}case\"paragraph\":{t+=this.renderer.paragraph(i);break}case\"text\":{t+=this.renderer.text(i);break}default:{let s='Token with \"'+i.type+'\" type was not found.';if(this.options.silent)return console.error(s),\"\";throw new Error(s)}}}return t}parseInline(e,t=this.renderer){let n=\"\";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||![\"escape\",\"html\",\"link\",\"image\",\"strong\",\"em\",\"codespan\",\"br\",\"del\",\"text\"].includes(i.type)){n+=a||\"\";continue}}let s=i;switch(s.type){case\"escape\":{n+=t.text(s);break}case\"html\":{n+=t.html(s);break}case\"link\":{n+=t.link(s);break}case\"image\":{n+=t.image(s);break}case\"checkbox\":{n+=t.checkbox(s);break}case\"strong\":{n+=t.strong(s);break}case\"em\":{n+=t.em(s);break}case\"codespan\":{n+=t.codespan(s);break}case\"br\":{n+=t.br(s);break}case\"del\":{n+=t.del(s);break}case\"text\":{n+=t.text(s);break}default:{let a='Token with \"'+s.type+'\" type was not found.';if(this.options.silent)return console.error(a),\"\";throw new Error(a)}}}return n}};var S=class{options;block;constructor(e){this.options=e||T}static passThroughHooks=new Set([\"preprocess\",\"postprocess\",\"processAllTokens\",\"emStrongMask\"]);static passThroughHooksRespectAsync=new Set([\"preprocess\",\"postprocess\",\"processAllTokens\"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?x.lex:x.lexInline}provideParser(){return this.block?b.parse:b.parseInline}};var B=class{defaults=L();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=b;Renderer=P;TextRenderer=$;Lexer=x;Tokenizer=y;Hooks=S;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case\"table\":{let i=r;for(let s of i.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of i.rows)for(let a of s)n=n.concat(this.walkTokens(a.tokens,t));break}case\"list\":{let i=r;n=n.concat(this.walkTokens(i.items,t));break}default:{let i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let a=i[s].flat(1/0);n=n.concat(this.walkTokens(a,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error(\"extension name required\");if(\"renderer\"in i){let s=t.renderers[i.name];s?t.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[i.name]=i.renderer}if(\"tokenizer\"in i){if(!i.level||i.level!==\"block\"&&i.level!==\"inline\")throw new Error(\"extension level must be 'block' or 'inline'\");let s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level===\"block\"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level===\"inline\"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}\"childTokens\"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){let i=this.defaults.renderer||new P(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if([\"options\",\"parser\"].includes(s))continue;let a=s,o=n.renderer[a],l=i[a];i[a]=(...p)=>{let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c||\"\"}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new y(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if([\"options\",\"rules\",\"lexer\"].includes(s))continue;let a=s,o=n.tokenizer[a],l=i[a];i[a]=(...p)=>{let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new S;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if([\"options\",\"block\"].includes(s))continue;let a=s,o=n.hooks[a],l=i[a];S.passThroughHooks.has(s)?i[a]=p=>{if(this.defaults.async&&S.passThroughHooksRespectAsync.has(s))return(async()=>{let g=await o.call(i,p);return l.call(i,g)})();let c=o.call(i,p);return l.call(i,c)}:i[a]=(...p)=>{if(this.defaults.async)return(async()=>{let g=await o.apply(i,p);return g===!1&&(g=await l.apply(i,p)),g})();let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return x.lex(e,t??this.defaults)}parser(e,t){return b.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error(\"marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise.\"));if(typeof n>\"u\"||n===null)return a(new Error(\"marked(): input parameter is undefined or null\"));if(typeof n!=\"string\")return a(new Error(\"marked(): input parameter is of type \"+Object.prototype.toString.call(n)+\", string expected\"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(n):n,p=await(s.hooks?await s.hooks.provideLexer():e?x.lex:x.lexInline)(o,s),c=s.hooks?await s.hooks.processAllTokens(p):p;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let h=await(s.hooks?await s.hooks.provideParser():e?b.parse:b.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(h):h})().catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let l=(s.hooks?s.hooks.provideLexer():e?x.lex:x.lexInline)(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=(s.hooks?s.hooks.provideParser():e?b.parse:b.parseInline)(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(o){return a(o)}}}onError(e,t){return n=>{if(n.message+=`\nPlease report this to https://github.com/markedjs/marked.`,e){let r=\"<p>An error occurred:</p><pre>\"+w(n.message+\"\",!0)+\"</pre>\";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};var _=new B;function d(u,e){return _.parse(u,e)}d.options=d.setOptions=function(u){return _.setOptions(u),d.defaults=_.defaults,Z(d.defaults),d};d.getDefaults=L;d.defaults=T;d.use=function(...u){return _.use(...u),d.defaults=_.defaults,Z(d.defaults),d};d.walkTokens=function(u,e){return _.walkTokens(u,e)};d.parseInline=_.parseInline;d.Parser=b;d.parser=b.parse;d.Renderer=P;d.TextRenderer=$;d.Lexer=x;d.lexer=x.lex;d.Tokenizer=y;d.Hooks=S;d.parse=d;var Dt=d.options,Ht=d.setOptions,Zt=d.use,Gt=d.walkTokens,Nt=d.parseInline,Qt=d,Ft=b.parse,jt=x.lex;export{S as Hooks,x as Lexer,B as Marked,b as Parser,P as Renderer,$ as TextRenderer,y as Tokenizer,T as defaults,L as getDefaults,jt as lexer,d as marked,Dt as options,Qt as parse,Nt as parseInline,Ft as parser,Ht as setOptions,Zt as use,Gt as walkTokens};\n//# sourceMappingURL=marked.esm.js.map\n","import { useEditor, EditorContent } from '@tiptap/react';\nimport StarterKit from '@tiptap/starter-kit';\nimport Placeholder from '@tiptap/extension-placeholder';\nimport TextAlign from '@tiptap/extension-text-align';\nimport Highlight from '@tiptap/extension-highlight';\nimport Link from '@tiptap/extension-link';\nimport { Table } from '@tiptap/extension-table';\nimport TableRow from '@tiptap/extension-table-row';\nimport { TableCellWithMenu, TableHeaderWithMenu } from './extensions/TableCellWithMenu';\nimport { TableSorting } from './extensions/TableSorting';\nimport TaskList from '@tiptap/extension-task-list';\nimport TaskItem from '@tiptap/extension-task-item';\n// Using custom CodeBlockWithFeatures instead of CodeBlockLowlight\nimport Underline from '@tiptap/extension-underline';\nimport Subscript from '@tiptap/extension-subscript';\nimport Superscript from '@tiptap/extension-superscript';\nimport Typography from '@tiptap/extension-typography';\nimport { CodeBlockWithFeatures } from './extensions/CodeBlockWithFeatures';\nimport { useCallback, useEffect, useMemo, useState, useRef, useImperativeHandle, forwardRef } from 'react';\nimport { LinkPopover } from './LinkPopover';\nimport { LinkHoverTooltip } from './LinkHoverTooltip';\nimport { FloatingToolbar } from './FloatingToolbar';\nimport { CalloutWithMenu } from './extensions/CalloutWithMenu';\nimport { ResizableImage } from './extensions/ResizableImage';\nimport { DatePill } from './extensions/DatePill';\nimport { SlashCommands } from './SlashCommands';\nimport { EditorToolbar } from './EditorToolbar';\nimport { FindReplace } from './FindReplace';\nimport { SelectAllActionBar } from './SelectAllActionBar';\nimport { useAutoSave } from './hooks/useAutoSave';\nimport { useWordCount } from './hooks/useWordCount';\nimport { AutoSaveIndicator } from './AutoSaveIndicator';\nimport { RecoveryBanner } from './RecoveryBanner';\nimport { WikiLinkSafe } from './extensions/WikiLinkSafe';\nimport { MarkdownPasteSafe } from './extensions/MarkdownPasteSafe';\n// DragHandleOverlay removed - drag and reorder functionality disabled\nimport { CollapsibleHeading } from './extensions/CollapsibleHeading';\nimport { MarkdownLinkInputRule } from './extensions/MarkdownLinkInputRule';\nimport { CalloutInputRule } from './extensions/CalloutInputRule';\nimport { SearchHighlight } from './extensions/SearchHighlight';\nimport { TabIndent } from './extensions/TabIndent';\nimport { SelectAllOccurrences } from './extensions/SelectAllOccurrences';\nimport { ImageUpload } from './extensions/ImageUpload';\nimport { ImageDropZone } from './ImageDropZone';\nimport { ImageEditPopover } from './ImageEditPopover';\nimport { SyntaxHighlightedMarkdown } from './SyntaxHighlightedMarkdown';\nimport { PerformanceProfiler } from './PerformanceProfiler';\nimport './PerformanceProfiler.css';\nimport { FileText, Eye } from 'lucide-react';\nimport { TableOfContents } from './TableOfContents';\nimport TurndownService from 'turndown';\nimport { gfm } from 'turndown-plugin-gfm';\nimport { marked } from 'marked';\nimport type { Editor } from '@tiptap/react';\n\n/*\n * DESIGN: Dark Mode Craftsman\n * Professional markdown editor inspired by VS Code and Obsidian\n * Multi-layer dark theme with depth through layering\n * Glassmorphic floating toolbar with backdrop blur\n */\n\n\n\n// Detect if we're on a mobile/touch device\n// Note: maxTouchPoints can be > 0 on desktop browsers with touch simulation\n// So we prioritize checking for actual touch events and screen width\nconst isMobileDevice = () => {\n  if (typeof window === 'undefined') return false;\n  // Check for actual touch events first\n  const hasTouchEvents = 'ontouchstart' in window;\n  // Check for mobile user agent\n  const isMobileUA = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n  // Check for small screen (typical mobile width)\n  const isSmallScreen = window.innerWidth < 768;\n  // Only consider it mobile if it has touch events AND (mobile UA OR small screen)\n  // This prevents desktop browsers with touch simulation from being detected as mobile\n  return (hasTouchEvents && (isMobileUA || isSmallScreen)) || (isMobileUA && isSmallScreen);\n};\n\n/**\n * Editor ref handle - methods exposed via ref for external control\n */\nexport interface MarkdownEditorRef {\n  /** Get the underlying TipTap editor instance */\n  getEditor: () => Editor | null;\n  /** Get the current HTML content */\n  getHTML: () => string;\n  /** Get the current markdown content */\n  getMarkdown: () => string;\n  /** Get plain text content */\n  getText: () => string;\n  /** Set content (HTML string) */\n  setContent: (content: string) => void;\n  /** Clear all content */\n  clearContent: () => void;\n  /** Focus the editor */\n  focus: (position?: 'start' | 'end' | 'all' | number | boolean) => void;\n  /** Blur the editor */\n  blur: () => void;\n  /** Check if editor is empty */\n  isEmpty: () => boolean;\n  /** Check if editor is focused */\n  isFocused: () => boolean;\n  /** Get current editor mode */\n  getMode: () => 'wysiwyg' | 'markdown';\n  /** Set editor mode */\n  setMode: (mode: 'wysiwyg' | 'markdown') => void;\n  /** Toggle between modes */\n  toggleMode: () => 'wysiwyg' | 'markdown';\n  /** Get word count stats */\n  getWordCount: () => { words: number; characters: number; charactersWithSpaces: number };\n  /** Undo last action */\n  undo: () => void;\n  /** Redo last undone action */\n  redo: () => void;\n  /** Check if can undo */\n  canUndo: () => boolean;\n  /** Check if can redo */\n  canRedo: () => boolean;\n  /** Insert content at cursor position */\n  insertContent: (content: string) => void;\n  /** Insert image at cursor position */\n  insertImage: (src: string, alt?: string) => void;\n  /** Insert table at cursor position */\n  insertTable: (rows?: number, cols?: number) => void;\n  /** Insert code block at cursor position */\n  insertCodeBlock: (language?: string) => void;\n  /** Insert callout at cursor position */\n  insertCallout: (type?: 'info' | 'warning' | 'error' | 'success' | 'note') => void;\n  /** Insert horizontal rule at cursor position */\n  insertHorizontalRule: () => void;\n  /** Toggle bold on selection */\n  toggleBold: () => void;\n  /** Toggle italic on selection */\n  toggleItalic: () => void;\n  /** Toggle underline on selection */\n  toggleUnderline: () => void;\n  /** Toggle strikethrough on selection */\n  toggleStrike: () => void;\n  /** Toggle code on selection */\n  toggleCode: () => void;\n  /** Toggle highlight on selection */\n  toggleHighlight: () => void;\n  /** Set heading level (1-6) or 0 for paragraph */\n  setHeading: (level: 0 | 1 | 2 | 3 | 4 | 5 | 6) => void;\n  /** Toggle bullet list */\n  toggleBulletList: () => void;\n  /** Toggle numbered list */\n  toggleOrderedList: () => void;\n  /** Toggle task list */\n  toggleTaskList: () => void;\n  /** Toggle blockquote */\n  toggleBlockquote: () => void;\n  /** Set link on selection */\n  setLink: (url: string) => void;\n  /** Remove link from selection */\n  unsetLink: () => void;\n  /** Open find/replace panel */\n  openFindReplace: () => void;\n  /** Close find/replace panel */\n  closeFindReplace: () => void;\n  /** Trigger manual save */\n  save: () => void;\n  /** Clear saved content from storage */\n  clearSavedContent: () => void;\n  /** Get selection text */\n  getSelectedText: () => string;\n  /** Check if editor is editable */\n  isEditable: () => boolean;\n  /** Set editable state */\n  setEditable: (editable: boolean) => void;\n  /** Get the table of contents headings */\n  getTableOfContents: () => { id: string; text: string; level: number; pos: number }[];\n  /** Scroll to a heading by position */\n  scrollToHeading: (pos: number) => void;\n}\n\nexport interface MarkdownEditorProps {\n  /** Initial HTML content */\n  content?: string;\n  /** Callback when content changes (HTML) */\n  onChange?: (content: string) => void;\n  /** Callback when HTML content changes (alias for onChange) */\n  onHTMLChange?: (html: string) => void;\n  /** Callback when raw markdown content changes */\n  onMarkdownChange?: (markdown: string) => void;\n  /** Placeholder text when editor is empty */\n  placeholder?: string;\n  /** Whether the editor is editable */\n  editable?: boolean;\n  /** Whether to autofocus the editor on mount */\n  autofocus?: boolean;\n  /** Additional CSS classes */\n  className?: string;\n  /** Show top toolbar (default: true) */\n  showToolbar?: boolean;\n  /** Show word count in footer (default: true) */\n  showWordCount?: boolean;\n  /** Theme mode - controls dark/light styling of the editor */\n  theme?: 'dark' | 'light';\n  /** Enable auto-save to localStorage (default: true) */\n  autoSave?: boolean;\n  /** Storage key for auto-save (default: 'manus-editor-content') */\n  autoSaveKey?: string;\n  /** Auto-save debounce delay in ms (default: 1000) */\n  autoSaveDelay?: number;\n  /** Show recovery banner when unsaved content is found (default: true) */\n  showRecoveryBanner?: boolean;\n  /** Show floating toolbar on text selection (default: true) */\n  showFloatingToolbar?: boolean;\n  /** Maximum image file size in bytes (default: 5MB) */\n  maxImageSize?: number;\n  /** Callback when image upload starts */\n  onImageUploadStart?: () => void;\n  /** Callback when image upload completes */\n  onImageUploadComplete?: () => void;\n  /** Callback when image upload fails */\n  onImageUploadError?: (error: string) => void;\n  /** Show mode toggle to switch between WYSIWYG and raw markdown (default: true) */\n  showModeToggle?: boolean;\n  \n  // === NEW PROPS FOR EXTERNAL INTEGRATION ===\n  \n  /** Initial editor mode (default: 'wysiwyg') */\n  initialMode?: 'wysiwyg' | 'markdown';\n  /** Callback when editor mode changes */\n  onModeChange?: (mode: 'wysiwyg' | 'markdown') => void;\n  /** Callback when editor is ready with the editor instance */\n  onReady?: (editor: Editor) => void;\n  /** Callback when editor is focused */\n  onFocus?: () => void;\n  /** Callback when editor loses focus */\n  onBlur?: () => void;\n  /** Callback when selection changes */\n  onSelectionChange?: (selection: { from: number; to: number; empty: boolean }) => void;\n  /** Callback when editor is destroyed */\n  onDestroy?: () => void;\n  /** Callback when content is saved (auto-save or manual) */\n  onSave?: (content: string) => void;\n  /** Callback when content is recovered from storage */\n  onRecover?: (content: string) => void;\n  /** Callback when a wiki link is clicked */\n  onWikiLinkClick?: (pageName: string) => void;\n  /** Callback when a link is clicked (return false to prevent default) */\n  onLinkClick?: (url: string, event: MouseEvent) => boolean | void;\n  /** Show find/replace panel (default: false) - controlled mode */\n  findReplaceOpen?: boolean;\n  /** Callback when find/replace panel state changes */\n  onFindReplaceChange?: (isOpen: boolean) => void;\n  /** Custom toolbar render function - allows replacing or extending toolbar */\n  renderToolbar?: (editor: Editor, defaultToolbar: React.ReactNode) => React.ReactNode;\n  /** Custom footer render function - allows replacing or extending footer */\n  renderFooter?: (wordCount: { words: number; characters: number }, autoSaveStatus: string, defaultFooter: React.ReactNode) => React.ReactNode;\n  /** Disable specific features */\n  disabledFeatures?: {\n    tables?: boolean;\n    images?: boolean;\n    codeBlocks?: boolean;\n    taskLists?: boolean;\n    callouts?: boolean;\n    datePills?: boolean;\n    wikiLinks?: boolean;\n    collapsibleHeadings?: boolean;\n    slashCommands?: boolean;\n    markdownPaste?: boolean;\n    dragAndDrop?: boolean;\n  };\n  /** Minimum height of the editor (default: '200px') */\n  minHeight?: string;\n  /** Maximum height of the editor (default: none) */\n  maxHeight?: string;\n  /** Enable spellcheck (default: true) */\n  spellCheck?: boolean;\n  /** Heading levels to enable (default: [1, 2, 3, 4, 5, 6]) */\n  headingLevels?: (1 | 2 | 3 | 4 | 5 | 6)[];\n  /** Collapsible heading levels (default: [1, 2, 3]) */\n  collapsibleHeadingLevels?: (1 | 2 | 3 | 4 | 5 | 6)[];\n  \n  // === TABLE OF CONTENTS PROPS ===\n  \n  /** Show table of contents sidebar (default: false) */\n  showTableOfContents?: boolean;\n  /** Initial visibility of the TOC sidebar (default: true) */\n  tocVisible?: boolean;\n  /** Callback when TOC visibility changes */\n  onTocVisibilityChange?: (visible: boolean) => void;\n  /** TOC sidebar title (default: 'Table of Contents') */\n  tocTitle?: string;\n  /** Minimum heading level to include in TOC (default: 1) */\n  tocMinLevel?: number;\n  /** Maximum heading level to include in TOC (default: 4) */\n  tocMaxLevel?: number;\n  /** Show heading level indicators in TOC (default: true) */\n  tocShowLevelIndicators?: boolean;\n  /** Highlight active heading in TOC (default: true) */\n  tocHighlightActive?: boolean;\n  /** Use tree view with collapsible sections (default: false) */\n  tocTreeView?: boolean;\n  /** TOC sidebar width (default: '240px') */\n  tocWidth?: string;\n  /** TOC sidebar position (default: 'right') */\n  tocPosition?: 'left' | 'right';\n  /** Scroll offset when clicking a TOC item (default: 20) */\n  tocScrollOffset?: number;\n  /** Callback when a TOC item is clicked */\n  onTocItemClick?: (item: { id: string; text: string; level: number; pos: number }) => void;\n  /** Custom render function for TOC items */\n  renderTocItem?: (item: { id: string; text: string; level: number; pos: number }, isActive: boolean, onClick: () => void) => React.ReactNode;\n  /** Show TOC toggle button (default: true) */\n  tocShowToggleButton?: boolean;\n  \n  // === PERFORMANCE PROFILER ===\n  \n  /** Whether the performance profiler panel is visible. Fully controlled by the embedding application. (default: false) */\n  showPerformanceProfiler?: boolean;\n  \n  /** Callback when the user clicks the close button inside the profiler. The embedding app should set showPerformanceProfiler to false. */\n  onPerformanceProfilerClose?: () => void;\n}\n\nexport const MarkdownEditor = forwardRef<MarkdownEditorRef, MarkdownEditorProps>(function MarkdownEditor({\n  content = '',\n  onChange,\n  onHTMLChange,\n  onMarkdownChange,\n  placeholder = 'Start writing... Use \"/\" for commands',\n  editable = true,\n  autofocus = false,\n  className = '',\n  showToolbar = true,\n  showWordCount = true,\n  theme,\n  autoSave = true,\n  autoSaveKey = 'manus-editor-content',\n  autoSaveDelay = 1000,\n  showRecoveryBanner = true,\n  showFloatingToolbar = true,\n  maxImageSize = 5 * 1024 * 1024,\n  onImageUploadStart,\n  onImageUploadComplete,\n  onImageUploadError,\n  showModeToggle = true,\n  // New props\n  initialMode = 'wysiwyg',\n  onModeChange,\n  onReady,\n  onFocus,\n  onBlur,\n  onSelectionChange,\n  onDestroy,\n  onSave,\n  onRecover,\n  onWikiLinkClick,\n  onLinkClick,\n  findReplaceOpen,\n  onFindReplaceChange,\n  renderToolbar,\n  renderFooter,\n  disabledFeatures = {},\n  minHeight = '200px',\n  maxHeight,\n  spellCheck = true,\n  headingLevels = [1, 2, 3, 4, 5, 6],\n  collapsibleHeadingLevels = [1, 2, 3],\n  // TOC props\n  showTableOfContents = false,\n  tocVisible = true,\n  onTocVisibilityChange,\n  tocTitle = '',\n  tocMinLevel = 1,\n  tocMaxLevel = 4,\n  tocShowLevelIndicators = false,\n  tocHighlightActive = true,\n  tocTreeView = false,\n  tocWidth = '240px',\n  tocPosition = 'right',\n  tocScrollOffset = 20,\n  onTocItemClick,\n  renderTocItem,\n  tocShowToggleButton = true,\n  // Performance profiler\n  showPerformanceProfiler = false,\n  onPerformanceProfilerClose,\n}, ref) {\n  // Check if mobile on mount\n  const [isMobile] = useState(() => isMobileDevice());\n  \n  // Editor mode: 'wysiwyg' or 'markdown'\n  const [editorMode, setEditorMode] = useState<'wysiwyg' | 'markdown'>(initialMode);\n  \n  // Raw markdown content for markdown mode\n  const [rawMarkdown, setRawMarkdown] = useState('');\n  \n  // Refs to track current values for the API (avoids closure issues)\n  const editorModeRef = useRef<'wysiwyg' | 'markdown'>(initialMode);\n  const rawMarkdownRef = useRef<string>('');\n  \n  // Ref for the editor content wrapper (for drag handle overlay)\n  const editorContentRef = useRef<HTMLDivElement>(null);\n\n  // Build extensions array - conditionally include problematic extensions on mobile\n  const extensions = useMemo(() => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const baseExtensions: any[] = [\n      StarterKit.configure({\n        heading: {\n          levels: headingLevels,\n        },\n        codeBlock: false, // We use CodeBlockLowlight instead\n        dropcursor: {\n          color: 'var(--primary)',\n          width: 2,\n        },\n        // Disable extensions that we configure separately to avoid duplicates\n        link: false, // We configure Link separately with custom options\n        underline: false, // We add Underline separately\n        bold: {\n          HTMLAttributes: {\n            class: 'font-bold',\n          },\n        },\n        italic: {\n          HTMLAttributes: {\n            class: 'italic',\n          },\n        },\n      }),\n      Placeholder.configure({\n        placeholder,\n        emptyEditorClass: 'is-editor-empty',\n      }),\n      TextAlign.configure({\n        types: ['heading', 'paragraph'],\n      }),\n      Highlight.configure({\n        multicolor: true,\n      }),\n      Link.configure({\n        openOnClick: false,\n        autolink: true,\n        linkOnPaste: true,\n        HTMLAttributes: {\n          rel: 'noopener noreferrer',\n          target: '_blank',\n        },\n      }),\n      Underline,\n      Subscript,\n      Superscript,\n      Typography,\n      MarkdownLinkInputRule,\n      SearchHighlight,\n      SelectAllOccurrences,\n      TabIndent,\n    ];\n\n    // Conditionally add tables\n    if (!disabledFeatures.tables) {\n      baseExtensions.push(\n        Table.configure({\n          resizable: !isMobile, // Disable resize on mobile\n          HTMLAttributes: {\n            class: 'editor-table',\n          },\n        }),\n        TableRow,\n        TableCellWithMenu,\n        TableHeaderWithMenu,\n        TableSorting\n      );\n    }\n\n    // Conditionally add task lists\n    if (!disabledFeatures.taskLists) {\n      baseExtensions.push(\n        TaskList.configure({\n          HTMLAttributes: {\n            class: 'task-list',\n          },\n        }),\n        TaskItem.configure({\n          nested: true,\n          HTMLAttributes: {\n            class: 'task-item',\n          },\n        })\n      );\n    }\n\n    // Conditionally add code blocks\n    if (!disabledFeatures.codeBlocks) {\n      baseExtensions.push(CodeBlockWithFeatures);\n    }\n\n    // Conditionally add callouts\n    if (!disabledFeatures.callouts) {\n      baseExtensions.push(CalloutWithMenu, CalloutInputRule);\n    }\n\n    // Conditionally add collapsible headings\n    if (!disabledFeatures.collapsibleHeadings) {\n      baseExtensions.push(\n        CollapsibleHeading.configure({\n          levels: collapsibleHeadingLevels,\n        })\n      );\n    }\n\n    // Conditionally add images\n    if (!disabledFeatures.images) {\n      baseExtensions.push(\n        ResizableImage.configure({\n          allowBase64: true,\n          HTMLAttributes: {\n            class: 'editor-image',\n          },\n          onImageClick: (attrs) => {\n            setImageEditState({\n              isOpen: true,\n              src: attrs.src,\n              alt: attrs.alt,\n              pos: attrs.pos,\n              position: { x: attrs.rect.left + attrs.rect.width / 2, y: attrs.rect.bottom },\n            });\n          },\n        }),\n        ImageUpload.configure({\n          maxFileSize: maxImageSize,\n          onUploadStart: onImageUploadStart,\n          onUploadComplete: onImageUploadComplete,\n          onUploadError: onImageUploadError,\n        })\n      );\n    }\n\n    // Only add DatePill on desktop and if not disabled\n    if (!isMobile && !disabledFeatures.datePills) {\n      baseExtensions.push(\n        DatePill.configure({\n          HTMLAttributes: {\n            class: 'date-pill',\n          },\n        })\n      );\n    }\n\n    // Conditionally add wiki links\n    if (!disabledFeatures.wikiLinks) {\n      baseExtensions.push(\n        WikiLinkSafe.configure({\n          onWikiLinkClick: (pageName) => {\n            console.log('WikiLink clicked:', pageName);\n            onWikiLinkClick?.(pageName);\n          },\n        })\n      );\n    }\n\n    // Conditionally add markdown paste\n    if (!disabledFeatures.markdownPaste) {\n      baseExtensions.push(\n        MarkdownPasteSafe.configure({\n          enableMarkdownPaste: true,\n        })\n      );\n    }\n\n    return baseExtensions;\n  }, [placeholder, isMobile, maxImageSize, onImageUploadStart, onImageUploadComplete, onImageUploadError, headingLevels, collapsibleHeadingLevels, disabledFeatures, onWikiLinkClick]);\n\n  // Debounced onUpdate ref for HTML serialization performance\n  const onUpdateTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n  const onChangeRef = useRef(onChange);\n  const onHTMLChangeRef = useRef(onHTMLChange);\n  const onMarkdownChangeRef = useRef(onMarkdownChange);\n  onChangeRef.current = onChange;\n  onHTMLChangeRef.current = onHTMLChange;\n  onMarkdownChangeRef.current = onMarkdownChange;\n\n  const editor = useEditor({\n    /**\n     * Performance: Render immediately without waiting for next tick\n     */\n    immediatelyRender: true,\n    /**\n     * Performance: Prevent React re-renders on every ProseMirror transaction.\n     * The editor DOM updates are handled by ProseMirror directly.\n     * Only toolbar state and other React UI need selective re-renders via useEditorState.\n     */\n    shouldRerenderOnTransaction: false,\n    // @ts-ignore - Expose editor globally for debugging\n    onCreate: ({ editor }) => {\n      (window as any).__tiptapEditor = editor;\n      onReady?.(editor);\n    },\n    onDestroy: () => {\n      onDestroy?.();\n    },\n    extensions,\n    content,\n    editable,\n    autofocus,\n    editorProps: {\n      attributes: {\n        class: 'tiptap-editor outline-none min-h-full',\n        spellcheck: spellCheck ? 'true' : 'false',\n      },\n      handleClick: (view, pos, event) => {\n        // Handle link clicks\n        if (onLinkClick) {\n          const target = event.target as HTMLElement;\n          const link = target.closest('a');\n          if (link) {\n            const url = link.getAttribute('href');\n            if (url) {\n              const result = onLinkClick(url, event);\n              if (result === false) {\n                event.preventDefault();\n                return true;\n              }\n            }\n          }\n        }\n        return false;\n      },\n    },\n    onUpdate: ({ editor }) => {\n      // Performance: Debounce HTML serialization to avoid calling getHTML() on every keystroke\n      // getHTML() serializes the entire document - expensive for large docs\n      if (onUpdateTimeoutRef.current) {\n        clearTimeout(onUpdateTimeoutRef.current);\n      }\n      onUpdateTimeoutRef.current = setTimeout(() => {\n        if (editor.isDestroyed) return;\n        if (onChangeRef.current || onHTMLChangeRef.current) {\n          const html = editor.getHTML();\n          onChangeRef.current?.(html);\n          onHTMLChangeRef.current?.(html);\n        }\n      }, 150);\n    },\n    onFocus: () => {\n      onFocus?.();\n    },\n    onBlur: () => {\n      onBlur?.();\n    },\n    onSelectionUpdate: ({ editor }) => {\n      if (onSelectionChange) {\n        const { from, to, empty } = editor.state.selection;\n        onSelectionChange({ from, to, empty });\n      }\n    },\n  });\n\n  // Cleanup debounced onUpdate timeout\n  useEffect(() => {\n    return () => {\n      if (onUpdateTimeoutRef.current) {\n        clearTimeout(onUpdateTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  // State for link popover\n  const [isLinkPopoverOpen, setIsLinkPopoverOpen] = useState(false);\n  \n  // State for image edit popover\n  const [imageEditState, setImageEditState] = useState<{\n    isOpen: boolean;\n    src: string;\n    alt: string;\n    pos: number;\n    position: { x: number; y: number };\n  } | null>(null);\n  \n  // State for find/replace panel - support both controlled and uncontrolled modes\n  const [internalFindReplaceOpen, setInternalFindReplaceOpen] = useState(false);\n  const isFindReplaceOpen = findReplaceOpen !== undefined ? findReplaceOpen : internalFindReplaceOpen;\n  const setIsFindReplaceOpen = useCallback((open: boolean) => {\n    setInternalFindReplaceOpen(open);\n    onFindReplaceChange?.(open);\n  }, [onFindReplaceChange]);\n  \n  const [findReplaceFocusTrigger, setFindReplaceFocusTrigger] = useState(0);\n  const [findReplaceInitialQuery, setFindReplaceInitialQuery] = useState('');\n\n  // Auto-save functionality\n  const autoSaveState = useAutoSave(editor, {\n    storageKey: autoSaveKey,\n    debounceMs: autoSaveDelay,\n    enabled: autoSave,\n    onSave: (content) => {\n      onSave?.(content);\n    },\n    onRecover: (content) => {\n      onRecover?.(content);\n    },\n  });\n\n  // Create TurndownService for HTML to Markdown conversion\n  const turndownService = useMemo(() => {\n    const td = new TurndownService({\n      headingStyle: 'atx',\n      codeBlockStyle: 'fenced',\n      bulletListMarker: '-',\n      emDelimiter: '*',\n      strongDelimiter: '**',\n    });\n    \n    // Use GFM plugin for tables, strikethrough, and task lists\n    td.use(gfm);\n    \n    // Add custom rules for better markdown output\n    td.addRule('highlight', {\n      filter: (node) => node.nodeName === 'MARK',\n      replacement: (content) => `==${content}==`,\n    });\n    \n    // Custom image rule to preserve width attribute\n    td.addRule('resizableImage', {\n      filter: 'img',\n      replacement: (content, node) => {\n        const img = node as HTMLImageElement;\n        const src = img.getAttribute('src') || '';\n        const alt = img.getAttribute('alt') || '';\n        const width = img.getAttribute('width') || img.style.width?.replace('px', '');\n        \n        // If width is set, use HTML img tag to preserve it\n        if (width) {\n          return `<img src=\"${src}\" alt=\"${alt}\" width=\"${width}\" />`;\n        }\n        \n        // Otherwise use standard markdown syntax\n        return `![${alt}](${src})`;\n      },\n    });\n    \n    td.addRule('taskListItem', {\n      filter: (node) => {\n        return node.nodeName === 'LI' && \n               node.getAttribute('data-type') === 'taskItem';\n      },\n      replacement: (content, node) => {\n        const checkbox = (node as HTMLElement).querySelector('input[type=\"checkbox\"]');\n        const checked = checkbox?.hasAttribute('checked') || (checkbox as HTMLInputElement)?.checked;\n        return `- [${checked ? 'x' : ' '}] ${content.trim()}\\n`;\n      },\n    });\n    \n    // Custom table rule to handle TipTap's table structure\n    td.addRule('table', {\n      filter: 'table',\n      replacement: function(content, node) {\n        const table = node as HTMLTableElement;\n        const rows = Array.from(table.querySelectorAll('tr'));\n        if (rows.length === 0) return '';\n        \n        const result: string[] = [];\n        \n        rows.forEach((row, rowIndex) => {\n          const cells = Array.from(row.querySelectorAll('th, td'));\n          const cellContents = cells.map(cell => {\n            // Get text content, handling nested p tags\n            const text = cell.textContent?.trim() || '';\n            return text.replace(/\\|/g, '\\\\|'); // Escape pipes\n          });\n          \n          result.push('| ' + cellContents.join(' | ') + ' |');\n          \n          // Add separator after header row\n          if (rowIndex === 0) {\n            const separator = cells.map(() => '---').join(' | ');\n            result.push('| ' + separator + ' |');\n          }\n        });\n        \n        return '\\n\\n' + result.join('\\n') + '\\n\\n';\n      }\n    });\n    \n    // Skip th and td since they're handled by the table rule\n    td.addRule('tableCell', {\n      filter: ['th', 'td'],\n      replacement: function(content) {\n        return content;\n      }\n    });\n    \n    // Custom callout rule to convert callouts to markdown code block syntax\n    // e.g., ```info\\ncontent\\n```\n    td.addRule('callout', {\n      filter: (node) => {\n        return node.nodeName === 'DIV' && node.hasAttribute('data-callout');\n      },\n      replacement: (content, node) => {\n        const calloutType = (node as HTMLElement).getAttribute('data-type') || 'info';\n        // Clean up the content - remove leading/trailing whitespace and normalize newlines\n        const cleanContent = content.trim().replace(/\\n{3,}/g, '\\n\\n');\n        return `\\n\\n\\`\\`\\`${calloutType}\\n${cleanContent}\\n\\`\\`\\`\\n\\n`;\n      },\n    });\n    \n    return td;\n  }, []);\n\n  // Handle mode switching\n  const handleModeSwitch = useCallback((newMode: 'wysiwyg' | 'markdown') => {\n    if (!editor) return;\n    \n    if (newMode === 'markdown' && editorModeRef.current === 'wysiwyg') {\n      // Convert HTML to Markdown\n      const html = editor.getHTML();\n      const markdown = turndownService.turndown(html);\n      setRawMarkdown(markdown);\n      rawMarkdownRef.current = markdown;\n    } else if (newMode === 'wysiwyg' && editorModeRef.current === 'markdown') {\n      // Convert Markdown back to HTML and set in editor using marked\n      // Use queueMicrotask to avoid flushSync error when ReactNodeViewRenderer is used\n      // This defers the setContent call to after React's render cycle completes\n      \n      // First, convert callout code blocks to callout HTML before parsing\n      // Matches ```info, ```warning, ```error, ```success, ```note code blocks\n      const calloutTypes = ['info', 'warning', 'error', 'success', 'note'];\n      let processedMarkdown = rawMarkdownRef.current;\n      \n      // Replace callout code blocks with callout HTML\n      calloutTypes.forEach(type => {\n        const regex = new RegExp(`\\`\\`\\`${type}\\\\s*\\\\n([\\\\s\\\\S]*?)\\`\\`\\``, 'g');\n        processedMarkdown = processedMarkdown.replace(regex, (match, content) => {\n          // Convert the content inside the callout using marked\n          const innerHtml = marked.parse(content.trim(), { async: false }) as string;\n          return `<div data-callout=\"\" data-type=\"${type}\" class=\"callout callout-${type}\">${innerHtml}</div>`;\n        });\n      });\n      \n      const html = marked.parse(processedMarkdown, { async: false }) as string;\n      queueMicrotask(() => {\n        if (!editor.isDestroyed) {\n          editor.commands.setContent(html);\n        }\n      });\n    }\n    \n    setEditorMode(newMode);\n    editorModeRef.current = newMode;\n    onModeChange?.(newMode);\n  }, [editor, turndownService, onModeChange]);\n\n  // Handle raw markdown changes\n  const handleRawMarkdownChange = useCallback((markdown: string) => {\n    setRawMarkdown(markdown);\n    rawMarkdownRef.current = markdown;\n    onMarkdownChange?.(markdown);\n  }, [onMarkdownChange]);\n\n  // Word count calculation (debounced for performance with large documents)\n  const wordCount = useWordCount(editor, {\n    debounceMs: 500,\n    extendedStats: false,\n    enabled: showWordCount,\n  });\n\n  // Expose imperative handle for ref\n  useImperativeHandle(ref, () => ({\n    getEditor: () => editor,\n    getHTML: () => editor?.getHTML() || '',\n    getMarkdown: () => {\n      if (!editor) return '';\n      return turndownService.turndown(editor.getHTML());\n    },\n    getText: () => editor?.getText() || '',\n    setContent: (content: string) => {\n      if (editor && !editor.isDestroyed) {\n        queueMicrotask(() => {\n          editor.commands.setContent(content);\n        });\n      }\n    },\n    clearContent: () => {\n      if (editor && !editor.isDestroyed) {\n        editor.commands.clearContent();\n      }\n    },\n    focus: (position) => {\n      if (editor && !editor.isDestroyed) {\n        editor.commands.focus(position);\n      }\n    },\n    blur: () => {\n      if (editor && !editor.isDestroyed) {\n        editor.commands.blur();\n      }\n    },\n    isEmpty: () => editor?.isEmpty || true,\n    isFocused: () => editor?.isFocused || false,\n    getMode: () => editorModeRef.current,\n    setMode: (mode) => handleModeSwitch(mode),\n    toggleMode: () => {\n      const newMode = editorModeRef.current === 'wysiwyg' ? 'markdown' : 'wysiwyg';\n      handleModeSwitch(newMode);\n      return newMode;\n    },\n    getWordCount: () => ({\n      words: wordCount.words,\n      characters: wordCount.characters,\n      charactersWithSpaces: wordCount.charactersWithSpaces,\n    }),\n    undo: () => editor?.commands.undo(),\n    redo: () => editor?.commands.redo(),\n    canUndo: () => editor?.can().undo() || false,\n    canRedo: () => editor?.can().redo() || false,\n    insertContent: (content) => editor?.commands.insertContent(content),\n    insertImage: (src, alt = '') => editor?.commands.setImage({ src, alt }),\n    insertTable: (rows = 3, cols = 3) => editor?.commands.insertTable({ rows, cols, withHeaderRow: true }),\n    insertCodeBlock: (language) => {\n      if (language) {\n        editor?.commands.setCodeBlock({ language });\n      } else {\n        editor?.commands.setCodeBlock();\n      }\n    },\n    insertCallout: (type = 'info') => editor?.commands.insertCallout?.({ type }),\n    insertHorizontalRule: () => editor?.commands.setHorizontalRule(),\n    toggleBold: () => editor?.commands.toggleBold(),\n    toggleItalic: () => editor?.commands.toggleItalic(),\n    toggleUnderline: () => editor?.commands.toggleUnderline(),\n    toggleStrike: () => editor?.commands.toggleStrike(),\n    toggleCode: () => editor?.commands.toggleCode(),\n    toggleHighlight: () => editor?.commands.toggleHighlight(),\n    setHeading: (level) => {\n      if (level === 0) {\n        editor?.commands.setParagraph();\n      } else {\n        editor?.commands.setHeading({ level });\n      }\n    },\n    toggleBulletList: () => editor?.commands.toggleBulletList(),\n    toggleOrderedList: () => editor?.commands.toggleOrderedList(),\n    toggleTaskList: () => editor?.commands.toggleTaskList(),\n    toggleBlockquote: () => editor?.commands.toggleBlockquote(),\n    setLink: (url) => editor?.commands.setLink({ href: url }),\n    unsetLink: () => editor?.commands.unsetLink(),\n    openFindReplace: () => {\n      setIsFindReplaceOpen(true);\n      setFindReplaceFocusTrigger(prev => prev + 1);\n    },\n    closeFindReplace: () => setIsFindReplaceOpen(false),\n    save: () => autoSaveState.save(),\n    clearSavedContent: () => autoSaveState.clear(),\n    getSelectedText: () => {\n      if (!editor) return '';\n      const { from, to } = editor.state.selection;\n      return editor.state.doc.textBetween(from, to, ' ');\n    },\n    isEditable: () => editor?.isEditable || false,\n    setEditable: (editable) => editor?.setEditable(editable),\n    /** Get the table of contents headings */\n    getTableOfContents: () => {\n      if (!editor) return [];\n      const headings: { id: string; text: string; level: number; pos: number }[] = [];\n      editor.state.doc.descendants((node, pos) => {\n        if (node.type.name === 'heading') {\n          const level = node.attrs.level as number;\n          const text = node.textContent.trim();\n          if (text) {\n            headings.push({ id: `toc-heading-${pos}`, text, level, pos });\n          }\n        }\n      });\n      return headings;\n    },\n    /** Scroll to a heading by position */\n    scrollToHeading: (pos: number) => {\n      if (!editor || editor.isDestroyed) return;\n      try {\n        const resolvedPos = editor.state.doc.resolve(pos);\n        const dom = editor.view.nodeDOM(resolvedPos.before(resolvedPos.depth + 1));\n        if (dom instanceof HTMLElement) {\n          const scrollContainer = editor.view.dom.closest('.editor-content-wrapper') as HTMLElement;\n          if (scrollContainer) {\n            const containerRect = scrollContainer.getBoundingClientRect();\n            const elementRect = dom.getBoundingClientRect();\n            const relativeTop = elementRect.top - containerRect.top + scrollContainer.scrollTop;\n            scrollContainer.scrollTo({ top: relativeTop - 20, behavior: 'smooth' });\n          } else {\n            dom.scrollIntoView({ behavior: 'smooth', block: 'start' });\n          }\n        }\n        editor.commands.setTextSelection(pos + 1);\n      } catch { /* position might be invalid */ }\n    },\n  }), [editor, turndownService, handleModeSwitch, wordCount, autoSaveState, setIsFindReplaceOpen]);\n\n  // Expose Editor Mode API globally for external applications\n  // Using refs to avoid closure issues - the API always reads the latest values\n  useEffect(() => {\n    // Create the API object using refs for current values\n    const editorModeAPI = {\n      /**\n       * Get the current editor mode\n       * @returns {'wysiwyg' | 'markdown'} The current mode\n       */\n      getMode: () => editorModeRef.current,\n      \n      /**\n       * Set the editor mode\n       * @param mode {'wysiwyg' | 'markdown'} The mode to switch to\n       */\n      setMode: (mode: 'wysiwyg' | 'markdown') => {\n        if (mode !== 'wysiwyg' && mode !== 'markdown') {\n          console.error('Invalid mode. Use \"wysiwyg\" or \"markdown\"');\n          return;\n        }\n        handleModeSwitch(mode);\n      },\n      \n      /**\n       * Toggle between wysiwyg and markdown modes\n       * @returns {'wysiwyg' | 'markdown'} The new mode after toggle\n       */\n      toggleMode: () => {\n        const newMode = editorModeRef.current === 'wysiwyg' ? 'markdown' : 'wysiwyg';\n        handleModeSwitch(newMode);\n        return newMode;\n      },\n      \n      /**\n       * Switch to visual (WYSIWYG) mode\n       */\n      switchToVisual: () => {\n        handleModeSwitch('wysiwyg');\n      },\n      \n      /**\n       * Switch to raw markdown mode\n       */\n      switchToMarkdown: () => {\n        handleModeSwitch('markdown');\n      },\n      \n      /**\n       * Check if currently in visual mode\n       * @returns {boolean}\n       */\n      isVisualMode: () => editorModeRef.current === 'wysiwyg',\n      \n      /**\n       * Check if currently in markdown mode\n       * @returns {boolean}\n       */\n      isMarkdownMode: () => editorModeRef.current === 'markdown',\n      \n      /**\n       * Get the raw markdown content (only available in markdown mode)\n       * @returns {string | null} The raw markdown or null if in visual mode\n       */\n      getRawMarkdown: () => editorModeRef.current === 'markdown' ? rawMarkdownRef.current : null,\n      \n      /**\n       * Subscribe to mode changes\n       * @param callback Function to call when mode changes\n       * @returns Function to unsubscribe\n       */\n      onModeChange: (callback: (mode: 'wysiwyg' | 'markdown') => void) => {\n        const handler = (event: Event) => {\n          const customEvent = event as CustomEvent<{ mode: 'wysiwyg' | 'markdown' }>;\n          callback(customEvent.detail.mode);\n        };\n        window.addEventListener('manus-editor-mode-change', handler);\n        return () => window.removeEventListener('manus-editor-mode-change', handler);\n      },\n    };\n    \n    // Expose the API globally (only once on mount)\n    (window as any).__manusEditorModeAPI = editorModeAPI;\n    \n    console.log('Manus Editor Mode API exposed globally as window.__manusEditorModeAPI');\n    console.log('Available methods: getMode(), setMode(mode), toggleMode(), switchToVisual(), switchToMarkdown(), isVisualMode(), isMarkdownMode(), getRawMarkdown(), onModeChange(callback)');\n    \n    return () => {\n      // Cleanup on unmount\n      delete (window as any).__manusEditorModeAPI;\n    };\n  }, [handleModeSwitch]);\n  \n  // Dispatch event when mode changes (separate effect to avoid recreating the API)\n  useEffect(() => {\n    window.dispatchEvent(new CustomEvent('manus-editor-mode-change', { detail: { mode: editorMode } }));\n  }, [editorMode]);\n\n  // Handle keyboard shortcuts for markdown auto-detection\n  useEffect(() => {\n    if (!editor || editor.isDestroyed) return;\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      // Skip if editor is destroyed\n      if (editor.isDestroyed) return;\n      \n// Cmd/Ctrl+K for link popover\n      if ((event.metaKey || event.ctrlKey) && event.key === 'k') {\n        event.preventDefault();\n        setIsLinkPopoverOpen(true);\n        return;\n      }\n      \n      // Cmd/Ctrl+F for find/replace (desktop only)\n      if (!isMobile && (event.metaKey || event.ctrlKey) && event.key === 'f') {\n        event.preventDefault();\n        // Extract selected text to auto-fill the search input\n        if (editor) {\n          const { state } = editor;\n          const { from, to } = state.selection;\n          if (from !== to) {\n            const selectedText = state.doc.textBetween(from, to, ' ');\n            if (selectedText.trim()) {\n              setFindReplaceInitialQuery(selectedText.trim());\n            }\n          }\n        }\n        setIsFindReplaceOpen(true);\n        // Always increment focus trigger to refocus search input even if already open\n        setFindReplaceFocusTrigger(prev => prev + 1);\n        return;\n      }\n      \n      // Cmd/Ctrl+H for find/replace with replace panel open (desktop only)\n      if (!isMobile && (event.metaKey || event.ctrlKey) && event.key === 'h') {\n        event.preventDefault();\n        setIsFindReplaceOpen(true);\n        return;\n      }\n\n      \n      // Auto-detect markdown shortcuts on space\n      if (event.key === ' ') {\n        try {\n          const { state } = editor;\n          const { selection } = state;\n          const { $from } = selection;\n          const textBefore = $from.nodeBefore?.textContent || '';\n          \n          // Heading shortcuts\n          if (textBefore === '#') {\n            event.preventDefault();\n            editor.chain().focus().deleteRange({ from: $from.pos - 1, to: $from.pos }).setHeading({ level: 1 }).run();\n            return;\n          }\n          if (textBefore === '##') {\n            event.preventDefault();\n            editor.chain().focus().deleteRange({ from: $from.pos - 2, to: $from.pos }).setHeading({ level: 2 }).run();\n            return;\n          }\n          if (textBefore === '###') {\n            event.preventDefault();\n            editor.chain().focus().deleteRange({ from: $from.pos - 3, to: $from.pos }).setHeading({ level: 3 }).run();\n            return;\n          }\n          \n          // List shortcuts\n          if (textBefore === '-' || textBefore === '*') {\n            event.preventDefault();\n            editor.chain().focus().deleteRange({ from: $from.pos - 1, to: $from.pos }).toggleBulletList().run();\n            return;\n          }\n          \n          // Ordered list\n          if (/^\\d+\\.$/.test(textBefore)) {\n            event.preventDefault();\n            editor.chain().focus().deleteRange({ from: $from.pos - textBefore.length, to: $from.pos }).toggleOrderedList().run();\n            return;\n          }\n          \n          // Task list\n          if (textBefore === '[]' || textBefore === '[ ]') {\n            event.preventDefault();\n            editor.chain().focus().deleteRange({ from: $from.pos - textBefore.length, to: $from.pos }).toggleTaskList().run();\n            return;\n          }\n          \n          // Blockquote\n          if (textBefore === '>') {\n            event.preventDefault();\n            editor.chain().focus().deleteRange({ from: $from.pos - 1, to: $from.pos }).toggleBlockquote().run();\n            return;\n          }\n          \n          // Code block\n          if (textBefore === '```') {\n            event.preventDefault();\n            editor.chain().focus().deleteRange({ from: $from.pos - 3, to: $from.pos }).toggleCodeBlock().run();\n            return;\n          }\n          \n          // Horizontal rule\n          if (textBefore === '---' || textBefore === '***') {\n            event.preventDefault();\n            editor.chain().focus().deleteRange({ from: $from.pos - 3, to: $from.pos }).setHorizontalRule().run();\n            return;\n          }\n        } catch (error) {\n          console.warn('Space shortcut error:', error);\n        }\n      }\n    };\n\n    // Use capture: true to intercept Tab key before browser default behavior\n    document.addEventListener('keydown', handleKeyDown, true);\n    return () => document.removeEventListener('keydown', handleKeyDown, true);\n  }, [editor, isMobile, setIsFindReplaceOpen]);\n\n  if (!editor) {\n    return (\n      <div className={`markdown-editor-container ${className}`} data-theme={theme}>\n        <div className=\"editor-loading\">Loading editor...</div>\n      </div>\n    );\n  }\n\n  // Default toolbar component\n  const defaultToolbar = (\n    <EditorToolbar \n      editor={editor} \n      onOpenLinkPopover={() => setIsLinkPopoverOpen(true)}\n      className=\"flex-1 border-b-0\"\n      onOpenFindReplace={() => {\n        setIsFindReplaceOpen(true);\n        setFindReplaceFocusTrigger(prev => prev + 1);\n      }}\n      disabledFeatures={disabledFeatures}\n    />\n  );\n\n  // Default footer component\n  const defaultFooter = (\n    <div className=\"editor-footer\">\n      <div className=\"word-count\">\n        <span>{wordCount.words} words</span>\n        <span>{wordCount.characters} characters</span>\n      </div>\n      {autoSave && (\n        <AutoSaveIndicator \n          status={autoSaveState.status} \n          lastSaved={autoSaveState.lastSaved}\n        />\n      )}\n    </div>\n  );\n\n  // Dynamic styles for min/max height\n  const editorContentStyle: React.CSSProperties = {\n    minHeight,\n    ...(maxHeight && { maxHeight, overflowY: 'auto' as const }),\n  };\n\n  return (\n    <div className={`markdown-editor-container ${className}`} data-theme={theme}>\n      {/* Recovery banner for auto-saved content */}\n      {autoSave && showRecoveryBanner && autoSaveState.hasRecoverableContent && (\n        <RecoveryBanner\n          onRecover={() => {\n            autoSaveState.recover();\n          }}\n          onDismiss={autoSaveState.dismissRecovery}\n        />\n      )}\n      \n      {/* Top toolbar with mode toggle */}\n      {showToolbar && (\n        <div className=\"flex items-center border-b border-border bg-card/50\">\n          {renderToolbar ? renderToolbar(editor, defaultToolbar) : defaultToolbar}\n          {showModeToggle && (\n            <div className=\"editor-mode-toggle mr-2 sm:mr-3\">\n              <button\n                onClick={() => handleModeSwitch('wysiwyg')}\n                className={`editor-mode-toggle-btn ${editorMode === 'wysiwyg' ? 'active' : ''}`}\n                title=\"Visual Editor\"\n              >\n                <Eye />\n              </button>\n              <button\n                onClick={() => handleModeSwitch('markdown')}\n                className={`editor-mode-toggle-btn ${editorMode === 'markdown' ? 'active' : ''}`}\n                title=\"Raw Markdown\"\n              >\n                <FileText />\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Find and replace panel (desktop only) */}\n      {!isMobile && (\n        <FindReplace\n          editor={editor}\n          isOpen={isFindReplaceOpen}\n          onClose={() => setIsFindReplaceOpen(false)}\n          focusTrigger={findReplaceFocusTrigger}\n          initialSearchQuery={findReplaceInitialQuery}\n        />\n      )}\n      \n      {/* Floating action bar for Select All Occurrences mode */}\n      <SelectAllActionBar editor={editor} />\n      \n      {/* Main editor area with optional TOC sidebar */}\n      <div className={`editor-main-area ${showTableOfContents ? 'editor-with-toc' : ''}`}>\n      {/* TOC sidebar - left position */}\n      {showTableOfContents && tocPosition === 'left' && (\n        <TableOfContents\n          editor={editor}\n          visible={tocVisible}\n          onVisibilityChange={onTocVisibilityChange}\n          title={tocTitle}\n          minLevel={tocMinLevel}\n          maxLevel={tocMaxLevel}\n          showLevelIndicators={tocShowLevelIndicators}\n          highlightActive={tocHighlightActive}\n          treeView={tocTreeView}\n          width={tocWidth}\n          position={tocPosition}\n          scrollOffset={tocScrollOffset}\n          onItemClick={onTocItemClick}\n          renderItem={renderTocItem}\n          showToggleButton={tocShowToggleButton}\n          scrollContainerRef={editorContentRef as React.RefObject<HTMLElement>}\n        />\n      )}\n      <div className=\"editor-content-wrapper\" ref={editorContentRef} style={editorContentStyle}>\n        {editorMode === 'wysiwyg' ? (\n          <>\n            <EditorContent editor={editor} className=\"editor-content\" />\n            \n            {/* Image drop zone overlay */}\n            {!disabledFeatures.images && !disabledFeatures.dragAndDrop && (\n              <ImageDropZone containerRef={editorContentRef} enabled={editable} />\n            )}\n            \n            {/* Drag handle overlay removed - drag and reorder functionality disabled */}\n            \n            {/* Floating toolbar on text selection (desktop only) */}\n            {!isMobile && showFloatingToolbar && <FloatingToolbar editor={editor} />}\n            \n            {/* Slash commands */}\n            {!disabledFeatures.slashCommands && <SlashCommands editor={editor} disabledFeatures={disabledFeatures} />}\n            \n            {/* Link popover */}\n            <LinkPopover\n              editor={editor}\n              isOpen={isLinkPopoverOpen}\n              onClose={() => setIsLinkPopoverOpen(false)}\n            />\n            \n            {/* Link hover tooltip (desktop only) */}\n            {!isMobile && (\n              <LinkHoverTooltip \n                editor={editor} \n                onEditLink={() => setIsLinkPopoverOpen(true)}\n              />\n            )}\n            \n            {/* Image edit popover */}\n            {!disabledFeatures.images && imageEditState?.isOpen && (\n              <ImageEditPopover\n                src={imageEditState.src}\n                alt={imageEditState.alt}\n                position={imageEditState.position}\n                onSave={(newSrc, newAlt) => {\n                  // Update the image at the stored position\n                  editor.chain().focus().setNodeSelection(imageEditState.pos).updateAttributes('resizableImage', {\n                    src: newSrc,\n                    alt: newAlt,\n                  }).run();\n                  setImageEditState(null);\n                }}\n                onDelete={() => {\n                  // Delete the image at the stored position\n                  editor.chain().focus().setNodeSelection(imageEditState.pos).deleteSelection().run();\n                  setImageEditState(null);\n                }}\n                onClose={() => setImageEditState(null)}\n              />\n            )}\n          </>\n        ) : (\n          <SyntaxHighlightedMarkdown\n            content={rawMarkdown}\n            onChange={handleRawMarkdownChange}\n            placeholder=\"Write your markdown here...\"\n            editable={editable}\n            autofocus\n          />\n        )}\n      </div>\n      {/* TOC sidebar - right position */}\n      {showTableOfContents && tocPosition === 'right' && (\n        <TableOfContents\n          editor={editor}\n          visible={tocVisible}\n          onVisibilityChange={onTocVisibilityChange}\n          title={tocTitle}\n          minLevel={tocMinLevel}\n          maxLevel={tocMaxLevel}\n          showLevelIndicators={tocShowLevelIndicators}\n          highlightActive={tocHighlightActive}\n          treeView={tocTreeView}\n          width={tocWidth}\n          position={tocPosition}\n          scrollOffset={tocScrollOffset}\n          onItemClick={onTocItemClick}\n          renderItem={renderTocItem}\n          showToggleButton={tocShowToggleButton}\n          scrollContainerRef={editorContentRef as React.RefObject<HTMLElement>}\n        />\n      )}\n      </div>\n      \n      {/* Footer with word count and auto-save status */}\n      {showWordCount && (\n        renderFooter \n          ? renderFooter(\n              { words: wordCount.words, characters: wordCount.characters },\n              autoSaveState.status,\n              defaultFooter\n            )\n          : defaultFooter\n      )}\n      \n      {/* Performance Profiler Overlay (dev mode) */}\n      <PerformanceProfiler visible={showPerformanceProfiler} onClose={onPerformanceProfilerClose} editor={editor} />\n    </div>\n  );\n});\n\nexport default MarkdownEditor;\n","import { Node, mergeAttributes } from '@tiptap/core';\n\nexport type CalloutType = 'info' | 'warning' | 'error' | 'success' | 'note';\n\nexport interface CalloutOptions {\n  HTMLAttributes: Record<string, unknown>;\n  types: CalloutType[];\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    callout: {\n      setCallout: (attributes?: { type?: CalloutType }) => ReturnType;\n      toggleCallout: (attributes?: { type?: CalloutType }) => ReturnType;\n      unsetCallout: () => ReturnType;\n      insertCallout: (attributes?: { type?: CalloutType }) => ReturnType;\n      updateCalloutType: (type: CalloutType) => ReturnType;\n    };\n  }\n}\n\nexport const Callout = Node.create<CalloutOptions>({\n  name: 'callout',\n\n  addOptions() {\n    return {\n      HTMLAttributes: {},\n      types: ['info', 'warning', 'error', 'success', 'note'],\n    };\n  },\n\n  content: 'block+',\n\n  group: 'block',\n\n  defining: true,\n\n  addAttributes() {\n    return {\n      type: {\n        default: 'info',\n        parseHTML: (element: HTMLElement) => element.getAttribute('data-type') || 'info',\n        renderHTML: (attributes: Record<string, unknown>) => ({\n          'data-type': attributes.type,\n        }),\n      },\n    };\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: 'div[data-callout]',\n      },\n    ];\n  },\n\n  renderHTML({ node, HTMLAttributes }) {\n    const type = node.attrs.type as CalloutType;\n    return [\n      'div',\n      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes, {\n        'data-callout': '',\n        'data-type': type,\n        class: `callout callout-${type}`,\n      }),\n      0,\n    ];\n  },\n\n  addCommands() {\n    return {\n      setCallout:\n        (attributes?: { type?: CalloutType }) =>\n        ({ commands }: { commands: { wrapIn: (name: string, attrs?: Record<string, unknown>) => boolean } }) => {\n          return commands.wrapIn(this.name, attributes);\n        },\n      toggleCallout:\n        (attributes?: { type?: CalloutType }) =>\n        ({ commands }: { commands: { toggleWrap: (name: string, attrs?: Record<string, unknown>) => boolean } }) => {\n          return commands.toggleWrap(this.name, attributes);\n        },\n      unsetCallout:\n        () =>\n        ({ commands }: { commands: { lift: (name: string) => boolean } }) => {\n          return commands.lift(this.name);\n        },\n      insertCallout:\n        (attributes?: { type?: CalloutType }) =>\n        ({ chain }: { chain: () => ReturnType<typeof import('@tiptap/core').Editor.prototype.chain> }) => {\n          const type = attributes?.type || 'info';\n          return chain()\n            .insertContent({\n              type: this.name,\n              attrs: { type },\n              content: [{ type: 'paragraph' }],\n            })\n            .focus()\n            .run();\n        },\n    };\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      'Mod-Shift-c': () => this.editor.commands.toggleCallout({ type: 'info' }),\n    };\n  },\n});\n\nexport default Callout;\n","/**\n * Manus Markdown Editor - Theming System\n * \n * This module provides a comprehensive theming system for the markdown editor.\n * Themes can be applied by setting CSS variables on the editor container.\n * \n * DESIGN: Dark Mode Craftsman\n * Multi-layer dark theme with depth through layering\n * Glassmorphic elements with backdrop blur\n * Vibrant cyan accent for interactive elements\n */\n\nexport interface EditorTheme {\n  name: string;\n  description: string;\n  variables: Record<string, string>;\n}\n\n// Dark theme - Default (GitHub Dark inspired)\nexport const darkTheme: EditorTheme = {\n  name: 'dark',\n  description: 'Dark theme inspired by VS Code and GitHub Dark',\n  variables: {\n    // Base colors\n    '--editor-bg': 'oklch(0.13 0.01 250)',\n    '--editor-fg': 'oklch(0.93 0.01 250)',\n    '--editor-border': 'oklch(0.28 0.01 250)',\n    \n    // Primary accent\n    '--editor-primary': 'oklch(0.7 0.15 220)',\n    '--editor-primary-fg': 'oklch(0.13 0.01 250)',\n    \n    // Secondary\n    '--editor-secondary': 'oklch(0.22 0.01 250)',\n    '--editor-secondary-fg': 'oklch(0.75 0.02 250)',\n    \n    // Muted\n    '--editor-muted': 'oklch(0.25 0.01 250)',\n    '--editor-muted-fg': 'oklch(0.6 0.02 250)',\n    \n    // Selection\n    '--editor-selection': 'oklch(0.35 0.08 220 / 0.4)',\n    '--editor-cursor': 'oklch(0.7 0.15 220)',\n    \n    // Code block\n    '--editor-code-bg': 'oklch(0.17 0.01 250)',\n    '--editor-line-number': 'oklch(0.45 0.02 250)',\n    \n    // Callouts\n    '--editor-callout-info': 'oklch(0.5 0.12 220)',\n    '--editor-callout-warning': 'oklch(0.6 0.15 70)',\n    '--editor-callout-error': 'oklch(0.5 0.15 25)',\n    '--editor-callout-success': 'oklch(0.5 0.12 160)',\n    '--editor-callout-note': 'oklch(0.5 0.12 280)',\n    \n    // Syntax highlighting\n    '--syntax-keyword': 'oklch(0.7 0.18 320)',\n    '--syntax-string': 'oklch(0.7 0.12 160)',\n    '--syntax-number': 'oklch(0.75 0.12 70)',\n    '--syntax-comment': 'oklch(0.5 0.02 250)',\n    '--syntax-function': 'oklch(0.75 0.15 280)',\n    '--syntax-variable': 'oklch(0.8 0.1 220)',\n  },\n};\n\n// Light theme\nexport const lightTheme: EditorTheme = {\n  name: 'light',\n  description: 'Light theme for bright environments',\n  variables: {\n    // Base colors\n    '--editor-bg': 'oklch(0.99 0.005 250)',\n    '--editor-fg': 'oklch(0.2 0.01 250)',\n    '--editor-border': 'oklch(0.88 0.01 250)',\n    \n    // Primary accent\n    '--editor-primary': 'oklch(0.55 0.2 220)',\n    '--editor-primary-fg': 'oklch(0.99 0.005 250)',\n    \n    // Secondary\n    '--editor-secondary': 'oklch(0.95 0.01 250)',\n    '--editor-secondary-fg': 'oklch(0.4 0.02 250)',\n    \n    // Muted\n    '--editor-muted': 'oklch(0.92 0.01 250)',\n    '--editor-muted-fg': 'oklch(0.5 0.02 250)',\n    \n    // Selection\n    '--editor-selection': 'oklch(0.7 0.12 220 / 0.3)',\n    '--editor-cursor': 'oklch(0.55 0.2 220)',\n    \n    // Code block\n    '--editor-code-bg': 'oklch(0.96 0.005 250)',\n    '--editor-line-number': 'oklch(0.6 0.02 250)',\n    \n    // Callouts\n    '--editor-callout-info': 'oklch(0.6 0.15 220)',\n    '--editor-callout-warning': 'oklch(0.7 0.18 70)',\n    '--editor-callout-error': 'oklch(0.6 0.18 25)',\n    '--editor-callout-success': 'oklch(0.6 0.15 160)',\n    '--editor-callout-note': 'oklch(0.6 0.15 280)',\n    \n    // Syntax highlighting\n    '--syntax-keyword': 'oklch(0.5 0.2 320)',\n    '--syntax-string': 'oklch(0.45 0.15 160)',\n    '--syntax-number': 'oklch(0.5 0.15 70)',\n    '--syntax-comment': 'oklch(0.55 0.02 250)',\n    '--syntax-function': 'oklch(0.5 0.18 280)',\n    '--syntax-variable': 'oklch(0.45 0.12 220)',\n  },\n};\n\n// Sepia theme (for reading comfort)\nexport const sepiaTheme: EditorTheme = {\n  name: 'sepia',\n  description: 'Warm sepia tones for comfortable reading',\n  variables: {\n    // Base colors\n    '--editor-bg': 'oklch(0.95 0.02 80)',\n    '--editor-fg': 'oklch(0.25 0.02 60)',\n    '--editor-border': 'oklch(0.85 0.03 70)',\n    \n    // Primary accent\n    '--editor-primary': 'oklch(0.55 0.15 50)',\n    '--editor-primary-fg': 'oklch(0.98 0.01 80)',\n    \n    // Secondary\n    '--editor-secondary': 'oklch(0.9 0.025 75)',\n    '--editor-secondary-fg': 'oklch(0.4 0.02 60)',\n    \n    // Muted\n    '--editor-muted': 'oklch(0.88 0.02 75)',\n    '--editor-muted-fg': 'oklch(0.5 0.02 60)',\n    \n    // Selection\n    '--editor-selection': 'oklch(0.7 0.1 50 / 0.3)',\n    '--editor-cursor': 'oklch(0.55 0.15 50)',\n    \n    // Code block\n    '--editor-code-bg': 'oklch(0.92 0.02 75)',\n    '--editor-line-number': 'oklch(0.6 0.02 60)',\n    \n    // Callouts\n    '--editor-callout-info': 'oklch(0.55 0.12 220)',\n    '--editor-callout-warning': 'oklch(0.65 0.15 50)',\n    '--editor-callout-error': 'oklch(0.55 0.15 25)',\n    '--editor-callout-success': 'oklch(0.55 0.12 160)',\n    '--editor-callout-note': 'oklch(0.55 0.12 280)',\n    \n    // Syntax highlighting\n    '--syntax-keyword': 'oklch(0.5 0.15 320)',\n    '--syntax-string': 'oklch(0.45 0.12 160)',\n    '--syntax-number': 'oklch(0.5 0.12 50)',\n    '--syntax-comment': 'oklch(0.55 0.02 60)',\n    '--syntax-function': 'oklch(0.5 0.15 280)',\n    '--syntax-variable': 'oklch(0.45 0.1 220)',\n  },\n};\n\n// Nord theme (popular dark theme)\nexport const nordTheme: EditorTheme = {\n  name: 'nord',\n  description: 'Arctic, north-bluish color palette',\n  variables: {\n    // Base colors (Nord Polar Night)\n    '--editor-bg': 'oklch(0.23 0.02 240)',\n    '--editor-fg': 'oklch(0.9 0.01 230)',\n    '--editor-border': 'oklch(0.32 0.02 240)',\n    \n    // Primary accent (Nord Frost)\n    '--editor-primary': 'oklch(0.72 0.1 210)',\n    '--editor-primary-fg': 'oklch(0.23 0.02 240)',\n    \n    // Secondary\n    '--editor-secondary': 'oklch(0.28 0.02 240)',\n    '--editor-secondary-fg': 'oklch(0.75 0.01 230)',\n    \n    // Muted\n    '--editor-muted': 'oklch(0.35 0.02 240)',\n    '--editor-muted-fg': 'oklch(0.6 0.01 230)',\n    \n    // Selection\n    '--editor-selection': 'oklch(0.5 0.08 210 / 0.4)',\n    '--editor-cursor': 'oklch(0.72 0.1 210)',\n    \n    // Code block\n    '--editor-code-bg': 'oklch(0.26 0.02 240)',\n    '--editor-line-number': 'oklch(0.5 0.01 230)',\n    \n    // Callouts (Nord Aurora)\n    '--editor-callout-info': 'oklch(0.68 0.12 210)',\n    '--editor-callout-warning': 'oklch(0.75 0.12 80)',\n    '--editor-callout-error': 'oklch(0.65 0.15 15)',\n    '--editor-callout-success': 'oklch(0.7 0.12 150)',\n    '--editor-callout-note': 'oklch(0.7 0.1 280)',\n    \n    // Syntax highlighting\n    '--syntax-keyword': 'oklch(0.7 0.12 280)',\n    '--syntax-string': 'oklch(0.7 0.1 150)',\n    '--syntax-number': 'oklch(0.75 0.1 280)',\n    '--syntax-comment': 'oklch(0.55 0.01 230)',\n    '--syntax-function': 'oklch(0.72 0.1 210)',\n    '--syntax-variable': 'oklch(0.9 0.01 230)',\n  },\n};\n\n// All available themes\nexport const themes: Record<string, EditorTheme> = {\n  dark: darkTheme,\n  light: lightTheme,\n  sepia: sepiaTheme,\n  nord: nordTheme,\n};\n\n/**\n * Apply a theme to an element by setting CSS variables\n */\nexport function applyTheme(element: HTMLElement, theme: EditorTheme): void {\n  Object.entries(theme.variables).forEach(([key, value]) => {\n    element.style.setProperty(key, value);\n  });\n}\n\n/**\n * Create a custom theme by extending an existing theme\n */\nexport function createCustomTheme(\n  baseName: string,\n  name: string,\n  description: string,\n  overrides: Record<string, string>\n): EditorTheme {\n  const baseTheme = themes[baseName] || darkTheme;\n  return {\n    name,\n    description,\n    variables: {\n      ...baseTheme.variables,\n      ...overrides,\n    },\n  };\n}\n\nexport default themes;\n","import { createContext, useContext, useEffect, useState, ReactNode, useCallback } from 'react';\nimport { themes, EditorTheme, applyTheme } from './themes';\n\n/**\n * DESIGN: Dark Mode Craftsman\n * Theme provider for the markdown editor\n * Supports multiple themes and custom theme creation\n */\n\ninterface ThemeContextValue {\n  theme: EditorTheme;\n  themeName: string;\n  setTheme: (name: string) => void;\n  availableThemes: string[];\n}\n\nconst ThemeContext = createContext<ThemeContextValue | null>(null);\n\ninterface EditorThemeProviderProps {\n  children: ReactNode;\n  defaultTheme?: string;\n  containerRef?: React.RefObject<HTMLElement>;\n}\n\nexport function EditorThemeProvider({\n  children,\n  defaultTheme = 'dark',\n  containerRef,\n}: EditorThemeProviderProps) {\n  const [themeName, setThemeName] = useState(defaultTheme);\n  const theme = themes[themeName] || themes.dark;\n\n  const setTheme = useCallback((name: string) => {\n    if (themes[name]) {\n      setThemeName(name);\n    }\n  }, []);\n\n  // Apply theme to container when it changes\n  useEffect(() => {\n    if (containerRef?.current) {\n      applyTheme(containerRef.current, theme);\n    }\n  }, [theme, containerRef]);\n\n  const value: ThemeContextValue = {\n    theme,\n    themeName,\n    setTheme,\n    availableThemes: Object.keys(themes),\n  };\n\n  return (\n    <ThemeContext.Provider value={value}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useEditorTheme() {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error('useEditorTheme must be used within an EditorThemeProvider');\n  }\n  return context;\n}\n\nexport default EditorThemeProvider;\n","import { NodeViewContent, NodeViewWrapper, NodeViewProps } from '@tiptap/react';\nimport { useState, useCallback } from 'react';\nimport { Copy, Check, ChevronDown } from 'lucide-react';\n\n/*\n * DESIGN: Dark Mode Craftsman\n * Code block with syntax highlighting and copy button\n * Controls appear inside the code block on hover\n * No line numbers by default for cleaner look\n */\n\nconst LANGUAGE_OPTIONS = [\n  { value: 'plaintext', label: 'Plain Text' },\n  { value: 'javascript', label: 'JavaScript' },\n  { value: 'typescript', label: 'TypeScript' },\n  { value: 'jsx', label: 'JSX' },\n  { value: 'tsx', label: 'TSX' },\n  { value: 'python', label: 'Python' },\n  { value: 'java', label: 'Java' },\n  { value: 'cpp', label: 'C++' },\n  { value: 'c', label: 'C' },\n  { value: 'csharp', label: 'C#' },\n  { value: 'go', label: 'Go' },\n  { value: 'rust', label: 'Rust' },\n  { value: 'ruby', label: 'Ruby' },\n  { value: 'php', label: 'PHP' },\n  { value: 'swift', label: 'Swift' },\n  { value: 'kotlin', label: 'Kotlin' },\n  { value: 'html', label: 'HTML' },\n  { value: 'css', label: 'CSS' },\n  { value: 'scss', label: 'SCSS' },\n  { value: 'json', label: 'JSON' },\n  { value: 'yaml', label: 'YAML' },\n  { value: 'markdown', label: 'Markdown' },\n  { value: 'sql', label: 'SQL' },\n  { value: 'bash', label: 'Bash' },\n  { value: 'shell', label: 'Shell' },\n];\n\nexport function CodeBlockComponent({ node, updateAttributes }: NodeViewProps) {\n  const [copied, setCopied] = useState(false);\n  const language = node.attrs.language || 'plaintext';\n  const languageLabel = LANGUAGE_OPTIONS.find(opt => opt.value === language)?.label || 'Plain Text';\n\n  const copyCode = useCallback(() => {\n    const code = node.textContent;\n    navigator.clipboard.writeText(code).then(() => {\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    });\n  }, [node.textContent]);\n\n  return (\n    <NodeViewWrapper className=\"code-block-wrapper\">\n      {/* Controls overlay - appears on hover */}\n      <div className=\"code-block-controls\" contentEditable={false}>\n        <div className=\"code-block-language-wrapper\">\n          <select\n            value={language}\n            onChange={(e) => updateAttributes({ language: e.target.value })}\n            className=\"code-block-language-select\"\n          >\n            {LANGUAGE_OPTIONS.map(({ value, label }) => (\n              <option key={value} value={value}>\n                {label}\n              </option>\n            ))}\n          </select>\n          <ChevronDown size={12} className=\"code-block-language-chevron\" />\n        </div>\n        <button\n          onClick={copyCode}\n          className={`code-block-copy-btn ${copied ? 'copied' : ''}`}\n          title={copied ? 'Copied!' : 'Copy code'}\n        >\n          {copied ? <Check size={14} /> : <Copy size={14} />}\n        </button>\n      </div>\n      \n      {/* Code content - no line numbers */}\n      <pre className=\"code-block-pre\">\n        <code>\n          <NodeViewContent />\n        </code>\n      </pre>\n    </NodeViewWrapper>\n  );\n}\n\nexport default CodeBlockComponent;\n"],"names":["tableCellMenuPluginKey","PluginKey","eventDelegationSetup","cachedMenuDecorations","setupEventDelegation","cell","btn","target","relatedTarget","createTableCellMenuPlugin","editor","Plugin","DecorationSet","tr","oldState","_oldEditorState","newEditorState","buildMenuDecorations","state","doc","decorations","node","pos","widget","Decoration","view","wrapper","button","isDark","bgColor","borderColor","textColor","hoverBgColor","e","buttonRect","showTableMenu","event","existingMenu","dropdown","dropdownWidth","dropdownHeight","btnTop","btnBottom","btnLeft","viewportTop","viewportLeft","menuItems","copyTable","icons","destructiveColor","iconColor","dividerColor","item","divider","menuButton","itemTextColor","iconHtml","iconSpanColor","closeMenu","dialog","closeOnEscape","selection","tableNode","buildTableHTML","attrs","colspan","rowspan","tableHTML","toast","TableCellWithMenu","TableCell","TableHeaderWithMenu","TableHeader","tableSortingPluginKey","currentSortState","cachedDecorations","parseValue","text","num","datePatterns","pattern","date","compareValues","a","b","direction","result","sortTable","tablePos","columnIndex","newDirection","rows","rowNode","isHeader","cellNode","headerRows","r","dataRows","showSortToast","rowsWithValues","row","cellContent","cellIndex","originalOrder","_","i","newOrder","idx","newTableContent","newTableNode","existingToast","directionText","arrow","createSortButton","activeColor","inactiveColor","hoverBg","createTableSortingPlugin","meta","buildDecorations","rowOffset","currentCol","cellOffset","offset","cellPos","decorationPos","childNode","childOffset","colForClosure","tablePosForClosure","TableSorting","Extension","lowlight","createLowlight","javascript","typescript","python","xml","css","json","bash","sql","java","cpp","go","rust","markdown","yaml","diff","CodeBlockComponent","updateAttributes","extension","copied","setCopied","useState","isVisible","setIsVisible","wrapperRef","useRef","useEffect","el","observer","entries","entry","copyToClipboard","useCallback","err","languages","currentLanguage","languageLabel","jsxDEV","NodeViewWrapper","lang","ChevronDown","Check","Copy","NodeViewContent","CodeBlockWithFeatures","CodeBlockLowlight","ReactNodeViewRenderer","LinkPopover","isOpen","onClose","url","setUrl","popoverPos","setPopoverPos","inputRef","popoverRef","updatePosition","from","coords","popoverWidth","popoverHeight","padding","viewportWidth","viewportHeight","top","left","currentUrl","handleReposition","handleClickOutside","handleSubmit","finalUrl","handleKeyDown","createPortal","Link2","LinkHoverTooltip","onEditLink","tooltip","setTooltip","tooltipRef","hideTimeoutRef","showTooltip","linkElement","href","rect","tooltipWidth","tooltipHeight","error","hideTooltip","prev","keepTooltipVisible","editorElement","handleMouseOver","handleMouseOut","handleOpenLink","handleRemoveLink","linkPos","linkEnd","m","dom","handleEditLink","displayUrl","ExternalLink","Unlink","ToolbarButton","onMouseDown","isActive","disabled","children","title","this","Divider","FloatingToolbar","memo","className","editorState","useEditorState","showLinkInput","setShowLinkInput","linkUrl","setLinkUrl","position","setPosition","toolbarRef","showTimeoutRef","setLink","handleLinkClick","previousUrl","executeCommand","command","updateToolbar","empty","to","isImageSelected","start","end","toolbarWidth","toolbarHeight","handleToolbarMouseDown","iconSize","toolbarContent","Pilcrow","Heading1","Heading2","Heading3","Bold","Italic","Underline","Strikethrough","Code","Highlighter","Link","Quote","List","ListOrdered","CheckSquare","FileCode","calloutConfig","Info","AlertTriangle","XCircle","CheckCircle","FileText","CalloutDropdownPortal","buttonRef","type","onTypeChange","theme","dropdownRef","DROPDOWN_HEIGHT","spaceBelow","spaceAbove","shouldFlip","handleEscape","calloutType","typeConfig","TypeIcon","CalloutComponent","showDropdown","setShowDropdown","config","Icon","setTheme","editorEl","handleTypeChange","newType","handleClose","CalloutWithMenu","Node","element","attributes","HTMLAttributes","mergeAttributes","commands","chain","ResizableImage","Image","width","height","options","align","getPos","container","applyAlignment","alignStyle","img","resizeHandle","createMenuItem","label","icon","onClick","editIcon","copyIcon","saveIcon","blob","link","isDropdownOpen","btnRect","closeDropdown","startX","startWidth","onMouseMove","onMouseUp","newWidth","updatedNode","formatDate","dateStr","today","tomorrow","yesterday","getDateVariant","nextWeek","DatePillComponent","selected","isPickerOpen","setIsPickerOpen","pickerPosition","setPickerPosition","pillRef","pickerRef","dateValue","displayDate","variant","handleClick","handleDateChange","newDate","setQuickDate","daysFromToday","Calendar","DatePill","todayRule","InputRule","range","tomorrowRule","yesterdayRule","isoDateRule","match","monthDayRule","monthStr","day","monthNum","year","ImageURLDialog","onInsert","alt","setAlt","setError","isValidating","setIsValidating","urlInputRef","dialogRef","validateUrl","urlToValidate","parsedUrl","handleInsert","safePosition","X","Type","Code2","Table","Minus","AlertCircle","pageName","SlashCommands","setIsOpen","query","setQuery","selectedIndex","setSelectedIndex","showImageDialog","setShowImageDialog","imageDialogPosition","setImageDialogPosition","menuRef","filteredCommands","cmd","searchText","kw","index","$from","textBefore","slashIndex","deleteFrom","handleImageInsert","composeEventHandlers","originalEventHandler","ourEventHandler","checkForDefaultPrevented","setRef","ref","value","composeRefs","refs","hasCleanup","cleanups","cleanup","useComposedRefs","React","createContextScope","scopeName","createContextScopeDeps","defaultContexts","createContext3","rootComponentName","defaultContext","BaseContext","Provider","props","scope","context","Context","jsx","useContext2","consumerName","createScope","scopeContexts","contexts","composeContextScopes","scopes","baseScope","scopeHooks","createScope2","overrideScopes","nextScopes","nextScopes2","useScope","currentScope","useLayoutEffect2","useInsertionEffect","useLayoutEffect","useControllableState","prop","defaultProp","onChange","caller","uncontrolledProp","setUncontrolledProp","onChangeRef","useUncontrolledState","isControlled","isControlledRef","wasControlled","setValue","nextValue","value2","isFunction","prevValueRef","createSlot","ownerName","SlotClone","createSlotClone","Slot2","forwardedRef","slotProps","childrenArray","slottable","isSlottable","newElement","newChildren","child","Slot","childrenRef","getElementRef","props2","mergeProps","SLOTTABLE_IDENTIFIER","createSlottable","Slottable2","Fragment2","childProps","overrideProps","propName","slotPropValue","childPropValue","args","getter","mayWarn","NODES","Primitive","primitive","asChild","primitiveProps","Comp","dispatchDiscreteCustomEvent","ReactDOM","createCollection","name","PROVIDER_NAME","createCollectionContext","createCollectionScope","CollectionProviderImpl","useCollectionContext","CollectionProvider","itemMap","COLLECTION_SLOT_NAME","CollectionSlotImpl","CollectionSlot","composedRefs","ITEM_SLOT_NAME","ITEM_DATA_ATTR","CollectionItemSlotImpl","CollectionItemSlot","itemData","useCollection","collectionNode","orderedNodes","DirectionContext","useDirection","localDir","globalDir","useCallbackRef","callback","callbackRef","useEscapeKeydown","onEscapeKeyDownProp","ownerDocument","onEscapeKeyDown","DISMISSABLE_LAYER_NAME","CONTEXT_UPDATE","POINTER_DOWN_OUTSIDE","FOCUS_OUTSIDE","originalBodyPointerEvents","DismissableLayerContext","DismissableLayer","disableOutsidePointerEvents","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","layerProps","setNode","force","node2","layers","highestLayerWithOutsidePointerEventsDisabled","highestLayerWithOutsidePointerEventsDisabledIndex","isBodyPointerEventsDisabled","isPointerEventsEnabled","pointerDownOutside","usePointerDownOutside","isPointerDownOnBranch","branch","focusOutside","useFocusOutside","dispatchUpdate","handleUpdate","BRANCH_NAME","DismissableLayerBranch","handlePointerDownOutside","isPointerInsideReactTreeRef","handleClickRef","handlePointerDown","handleAndDispatchPointerDownOutsideEvent2","handleAndDispatchCustomEvent","eventDetail","timerId","handleFocusOutside","isFocusInsideReactTreeRef","handleFocus","handler","detail","discrete","count","useFocusGuards","edgeGuards","createFocusGuard","AUTOFOCUS_ON_MOUNT","AUTOFOCUS_ON_UNMOUNT","EVENT_OPTIONS","FOCUS_SCOPE_NAME","FocusScope","loop","trapped","onMountAutoFocusProp","onUnmountAutoFocusProp","scopeProps","setContainer","onMountAutoFocus","onUnmountAutoFocus","lastFocusedElementRef","focusScope","handleFocusIn2","focus","handleFocusOut2","handleMutations2","mutations","mutation","mutationObserver","focusScopesStack","previouslyFocusedElement","mountEvent","focusFirst","removeLinks","getTabbableCandidates","unmountEvent","isTabKey","focusedElement","container2","first","last","getTabbableEdges","candidates","select","candidate","findVisible","nodes","walker","isHiddenInput","elements","isHidden","upTo","isSelectableInput","createFocusScopesStack","stack","activeFocusScope","arrayRemove","array","updatedArray","items","useReactId","useId","deterministicId","id","setId","reactId","sides","min","max","round","floor","createCoords","v","oppositeSideMap","oppositeAlignmentMap","clamp","evaluate","param","getSide","placement","getAlignment","getOppositeAxis","axis","getAxisLength","yAxisSides","getSideAxis","getAlignmentAxis","getAlignmentSides","rects","rtl","alignment","alignmentAxis","length","mainAlignmentSide","getOppositePlacement","getExpandedPlacements","oppositePlacement","getOppositeAlignmentPlacement","lrPlacement","rlPlacement","tbPlacement","btPlacement","getSideList","side","isStart","getOppositeAxisPlacements","flipAlignment","list","expandPaddingObject","getPaddingObject","rectToClientRect","x","y","computeCoordsFromPlacement","_ref","reference","floating","sideAxis","alignLength","isVertical","commonX","commonY","commonAlign","computePosition","strategy","middleware","platform","validMiddleware","statefulPlacement","middlewareData","resetCount","fn","nextX","nextY","data","reset","detectOverflow","_await$platform$isEle","boundary","rootBoundary","elementContext","altBoundary","paddingObject","clippingClientRect","offsetParent","offsetScale","elementClientRect","arrowDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","shouldAddOffset","alignmentOffset","flip","_middlewareData$arrow","_middlewareData$flip","initialPlacement","checkMainAxis","checkCrossAxis","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","detectOverflowOptions","initialSideAxis","isBasePlacement","fallbackPlacements","hasFallbackAxisSideDirection","placements","overflow","overflows","overflowsData","_middlewareData$flip2","_overflowsData$filter","nextIndex","nextPlacement","d","resetPlacement","_overflowsData$filter2","currentSideAxis","acc","getSideOffsets","isAnySideFullyClipped","hide","offsets","originSides","convertValueToCoords","mainAxisMulti","crossAxisMulti","rawValue","mainAxis","crossAxis","_middlewareData$offse","diffCoords","shift","limiter","mainAxisCoord","crossAxisCoord","minSide","maxSide","limitedCoords","limitShift","rawOffset","computedOffset","len","limitMin","limitMax","_middlewareData$offse2","isOriginSide","size","_state$middlewareData","_state$middlewareData2","apply","heightSide","widthSide","maximumClippingHeight","maximumClippingWidth","overflowAvailableHeight","overflowAvailableWidth","noShift","availableHeight","availableWidth","xMin","xMax","yMin","yMax","nextDimensions","hasWindow","getNodeName","isNode","getWindow","_node$ownerDocument","getDocumentElement","isElement","isHTMLElement","isShadowRoot","invalidOverflowDisplayValues","isOverflowElement","overflowX","overflowY","display","getComputedStyle","tableElements","isTableElement","topLayerSelectors","isTopLayer","selector","transformProperties","willChangeValues","containValues","isContainingBlock","elementOrCss","webkit","isWebKit","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","lastTraversableNodeNames","getNodeScroll","getNearestOverflowAncestor","parentNode","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","frameElement","getFrameElement","getCssDimensions","getComputedStyle$1","hasOffset","offsetWidth","offsetHeight","shouldFallback","unwrapElement","getScale","domElement","$","noOffsets","getVisualOffsets","shouldAddVisualOffsets","isFixed","floatingOffsetParent","getBoundingClientRect","includeScale","isFixedStrategy","clientRect","scale","visualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","getWindowScrollBarX","leftScroll","getHTMLOffset","documentElement","scroll","htmlRect","convertOffsetParentRelativeRectToViewportRelativeRect","topLayer","isOffsetParentAnElement","offsetRect","htmlOffset","getClientRects","getDocumentRect","html","body","SCROLLBAR_MAX","getViewportRect","visualViewport","visualViewportBased","windowScrollbarX","bodyStyles","bodyMarginInline","clippingStableScrollbarWidth","absoluteOrFixed","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingAncestor","hasFixedPositionAncestor","stopNode","getClippingElementAncestors","cache","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","ancestor","getClippingRect","clippingAncestors","firstClippingAncestor","clippingRect","accRect","getDimensions","getRectRelativeToOffsetParent","setLeftRTLScrollbarOffset","isStaticPositioned","getTrueOffsetParent","polyfill","rawOffsetParent","getOffsetParent","svgOffsetParent","getElementRects","getOffsetParentFn","getDimensionsFn","floatingDimensions","isRTL","rectsAreEqual","observeMove","onMove","io","timeoutId","root","_io","refresh","skip","threshold","elementRectForRootMargin","insetTop","insetRight","insetBottom","insetLeft","isFirstUpdate","handleObserve","ratio","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","layoutShift","animationFrame","referenceEl","ancestors","cleanupIo","reobserveFrame","resizeObserver","firstEntry","_resizeObserver","frameId","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","offset$1","shift$1","flip$1","size$1","hide$1","arrow$1","limitShift$1","mergedOptions","platformWithCache","computePosition$1","isClient","noop","deepEqual","keys","key","getDPR","roundByDPR","dpr","useLatestRef","useFloating","externalReference","externalFloating","transform","whileElementsMounted","open","setData","latestMiddleware","setLatestMiddleware","_reference","_setReference","_floating","_setFloating","setReference","referenceRef","setFloating","floatingRef","floatingEl","dataRef","hasWhileElementsMounted","whileElementsMountedRef","platformRef","openRef","fullData","isMountedRef","floatingStyles","initialStyles","isRef","arrow$2","deps","NAME","Arrow","arrowProps","Root","useSize","setSize","borderSizeEntry","borderSize","POPPER_NAME","createPopperContext","createPopperScope","PopperProvider","usePopperContext","Popper","__scopePopper","anchor","setAnchor","ANCHOR_NAME","PopperAnchor","virtualRef","anchorProps","anchorRef","previousAnchor","CONTENT_NAME","PopperContentProvider","useContentContext","PopperContent","sideOffset","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPaddingProp","sticky","hideWhenDetached","updatePositionStrategy","onPlaced","contentProps","content","setContent","setArrow","arrowSize","arrowWidth","arrowHeight","desiredPlacement","collisionPadding","hasExplicitBoundaries","isNotNull","isPositioned","anchorWidth","anchorHeight","contentStyle","floatingUIarrow","transformOrigin","placedSide","placedAlign","getSideAndAlignFromPlacement","handlePlaced","arrowX","arrowY","cannotCenterArrow","contentZIndex","setContentZIndex","ARROW_NAME","OPPOSITE_SIDE","PopperArrow","contentContext","baseSide","ArrowPrimitive.Root","isArrowHidden","noArrowAlign","arrowXCenter","arrowYCenter","Root2","Anchor","Content","PORTAL_NAME","Portal","containerProp","portalProps","mounted","setMounted","useStateMachine","initialState","machine","Presence","present","presence","usePresence","React2","stylesRef","prevPresentRef","prevAnimationNameRef","send","currentAnimationName","getAnimationName","styles","wasPresent","prevAnimationName","ownerWindow","handleAnimationEnd","isCurrentAnimation","currentFillMode","handleAnimationStart","ENTRY_FOCUS","GROUP_NAME","Collection","createRovingFocusGroupContext","createRovingFocusGroupScope","RovingFocusProvider","useRovingFocusContext","RovingFocusGroup","RovingFocusGroupImpl","__scopeRovingFocusGroup","orientation","dir","currentTabStopIdProp","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus","groupProps","currentTabStopId","setCurrentTabStopId","isTabbingBackOut","setIsTabbingBackOut","handleEntryFocus","getItems","isClickFocusRef","focusableItemsCount","setFocusableItemsCount","tabStopId","prevCount","isKeyboardFocus","entryFocusEvent","activeItem","currentItem","candidateNodes","ITEM_NAME","RovingFocusGroupItem","focusable","active","itemProps","autoId","isCurrentTabStop","onFocusableItemAdd","onFocusableItemRemove","focusIntent","getFocusIntent","currentIndex","wrapArray","MAP_KEY_TO_FOCUS_INTENT","getDirectionAwareKey","preventScroll","PREVIOUSLY_FOCUSED_ELEMENT","startIndex","Item","getDefaultParent","originalTarget","sampleTarget","counterMap","uncontrolledNodes","markerMap","lockCount","unwrapHost","correctTargets","parent","targets","correctedTarget","applyAttributeToOthers","markerName","controlAttribute","markerCounter","hiddenNodes","elementsToKeep","elementsToStop","keep","deep","attr","alreadyHidden","counterValue","markerValue","hideOthers","activeParentNode","__assign","s","n","p","__rest","t","__spreadArray","pack","l","ar","zeroRightClassName","fullWidthClassName","noScrollbarsClassName","removedBarSizeVariable","assignRef","initialValue","useIsomorphicLayoutEffect","currentValues","useMergeRefs","defaultValue","newValue","oldValue","prevRefs_1","nextRefs_1","current_1","ItoI","innerCreateMedium","defaults","buffer","assigned","medium","cb","cbs","pendingQueue","executeQueue","cycle","filter","createSidecarMedium","SideCar","_a","sideCar","rest","Target","exportSidecar","exported","effectCar","nothing","RemoveScroll","parentRef","callbacks","setCallbacks","forwardProps","removeScrollBar","enabled","shards","noRelative","noIsolation","inert","allowPinchZoom","_b","Container","gapMode","containerRef","containerProps","getNonce","makeStyleTag","tag","nonce","injectStyles","insertStyleTag","head","stylesheetSingleton","counter","stylesheet","style","styleHookSingleton","sheet","isDynamic","styleSingleton","useStyle","Sheet","dynamic","zeroGap","parse","getOffset","cs","right","getGapWidth","documentWidth","windowWidth","Style","lockAttribute","getStyles","allowRelative","important","gap","getCurrentUseCounter","useLockAttribute","newCounter","RemoveScrollBar","noImportant","passiveSupported","nonPassive","alwaysContainsScroll","elementCanBeScrolled","elementCouldBeVScrolled","elementCouldBeHScrolled","locationCouldBeScrolled","current","isScrollable","elementCouldBeScrolled","getScrollVariables","scrollHeight","clientHeight","getVScrollVariables","scrollTop","getHScrollVariables","scrollLeft","scrollWidth","clientWidth","getDirectionFactor","handleScroll","endTarget","sourceDelta","noOverscroll","directionFactor","delta","targetInLock","shouldCancelScroll","isDeltaPositive","availableScroll","availableScrollTop","scroll_1","capacity","elementScroll","parent_1","getTouchXY","getDeltaXY","extractRef","deltaCompare","generateStyle","idCounter","lockStack","RemoveScrollSideCar","shouldPreventQueue","touchStartRef","activeAxis","lastProps","allow_1","shouldCancelEvent","touch","touchStart","deltaX","deltaY","currentAxis","moveDirection","canBeScrolledInMainDirection","cancelingAxis","shouldPrevent","_event","sourceEvent","shardNodes","shouldStop","shouldCancel","should","getOutermostShadowParent","scrollTouchStart","scrollWheel","scrollTouchMove","inst","shadowParent","ReactRemoveScroll","SELECTION_KEYS","FIRST_KEYS","LAST_KEYS","FIRST_LAST_KEYS","SUB_OPEN_KEYS","SUB_CLOSE_KEYS","MENU_NAME","createMenuContext","createMenuScope","usePopperScope","useRovingFocusGroupScope","MenuProvider","useMenuContext","MenuRootProvider","useMenuRootContext","Menu","__scopeMenu","onOpenChange","modal","popperScope","isUsingKeyboardRef","handleOpenChange","handlePointer","PopperPrimitive.Root","MenuAnchor","PopperPrimitive.Anchor","PortalProvider","usePortalContext","MenuPortal","forceMount","PortalPrimitive","MenuContentProvider","useMenuContentContext","MenuContent","portalContext","rootContext","MenuRootContentModal","MenuRootContentNonModal","MenuContentImpl","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsideScroll","rovingFocusGroupScope","currentItemId","setCurrentItemId","contentRef","timerRef","searchRef","pointerGraceTimerRef","pointerGraceIntentRef","pointerDirRef","lastPointerXRef","ScrollLockWrapper","scrollLockWrapperProps","handleTypeaheadSearch","search","currentMatch","values","nextMatch","getNextMatch","newItem","updateSearch","isPointerMovingToSubmenu","isPointerInGraceArea","intent","RovingFocusGroup.Root","PopperPrimitive.Content","getOpenState","isKeyDownInside","isModifierKey","isCharacterKey","whenMouse","pointerXHasChanged","newDir","MenuGroup","LABEL_NAME","MenuLabel","labelProps","ITEM_SELECT","MenuItem","onSelect","isPointerDownRef","handleSelect","menuItem","itemSelectEvent","MenuItemImpl","isTypingAhead","textValue","isFocused","setIsFocused","textContent","setTextContent","RovingFocusGroup.Item","CHECKBOX_ITEM_NAME","MenuCheckboxItem","checked","onCheckedChange","checkboxItemProps","ItemIndicatorProvider","isIndeterminate","getCheckedState","RADIO_GROUP_NAME","RadioGroupProvider","useRadioGroupContext","MenuRadioGroup","onValueChange","handleValueChange","RADIO_ITEM_NAME","MenuRadioItem","radioItemProps","ITEM_INDICATOR_NAME","useItemIndicatorContext","MenuItemIndicator","itemIndicatorProps","indicatorContext","SEPARATOR_NAME","MenuSeparator","separatorProps","MenuArrow","PopperPrimitive.Arrow","SUB_NAME","MenuSubProvider","useMenuSubContext","MenuSub","parentMenuContext","trigger","setTrigger","SUB_TRIGGER_NAME","MenuSubTrigger","subContext","openTimerRef","onPointerGraceIntentChange","clearOpenTimer","pointerGraceTimer","contentRect","rightSide","bleed","contentNearEdge","contentFarEdge","SUB_CONTENT_NAME","MenuSubContent","subContentProps","isCloseKey","normalizedSearch","char","currentMatchIndex","wrappedValues","isPointInPolygon","point","polygon","inside","j","ii","jj","xi","yi","xj","yj","area","cursorPos","Root3","Anchor2","Content2","Group","Label","Item2","CheckboxItem","RadioGroup","RadioItem","ItemIndicator","Separator","Arrow2","Sub","SubTrigger","SubContent","DROPDOWN_MENU_NAME","createDropdownMenuContext","useMenuScope","DropdownMenuProvider","useDropdownMenuContext","DropdownMenu","__scopeDropdownMenu","openProp","defaultOpen","menuScope","triggerRef","setOpen","prevOpen","MenuPrimitive.Root","TRIGGER_NAME","DropdownMenuTrigger","triggerProps","MenuPrimitive.Anchor","DropdownMenuPortal","MenuPrimitive.Portal","DropdownMenuContent","hasInteractedOutsideRef","MenuPrimitive.Content","originalEvent","ctrlLeftClick","isRightClick","DropdownMenuGroup","MenuPrimitive.Group","DropdownMenuLabel","MenuPrimitive.Label","DropdownMenuItem","MenuPrimitive.Item","DropdownMenuCheckboxItem","MenuPrimitive.CheckboxItem","DropdownMenuRadioGroup","radioGroupProps","MenuPrimitive.RadioGroup","DropdownMenuRadioItem","MenuPrimitive.RadioItem","INDICATOR_NAME","DropdownMenuItemIndicator","MenuPrimitive.ItemIndicator","DropdownMenuSeparator","MenuPrimitive.Separator","DropdownMenuArrow","MenuPrimitive.Arrow","DropdownMenuSub","MenuPrimitive.Sub","DropdownMenuSubTrigger","subTriggerProps","MenuPrimitive.SubTrigger","DropdownMenuSubContent","MenuPrimitive.SubContent","Trigger","Portal2","Separator2","Sub2","SubTrigger2","SubContent2","f","o","clsx","CLASS_PART_SEPARATOR","createClassGroupUtils","classMap","createClassMap","conflictingClassGroups","conflictingClassGroupModifiers","classParts","getGroupRecursive","getGroupIdForArbitraryProperty","classGroupId","hasPostfixModifier","conflicts","classPartObject","currentClassPart","nextClassPartObject","classGroupFromNextClassPart","classRest","validator","arbitraryPropertyRegex","arbitraryPropertyClassName","property","classGroups","processClassesRecursively","classGroup","classDefinition","classPartObjectToEdit","getPart","isThemeGetter","path","currentClassPartObject","pathPart","func","createLruCache","maxCacheSize","cacheSize","previousCache","IMPORTANT_MODIFIER","MODIFIER_SEPARATOR","MODIFIER_SEPARATOR_LENGTH","createParseClassName","prefix","experimentalParseClassName","parseClassName","modifiers","bracketDepth","parenDepth","modifierStart","postfixModifierPosition","currentCharacter","baseClassNameWithImportantModifier","baseClassName","stripImportantModifier","hasImportantModifier","maybePostfixModifierPosition","fullPrefix","parseClassNameOriginal","createSortModifiers","orderSensitiveModifiers","modifier","sortedModifiers","unsortedModifiers","createConfigUtils","SPLIT_CLASSES_REGEX","mergeClassList","classList","configUtils","getClassGroupId","getConflictingClassGroupIds","sortModifiers","classGroupsInConflict","classNames","originalClassName","isExternal","variantModifier","modifierId","classId","conflictGroups","group","twJoin","argument","resolvedValue","string","toValue","mix","k","createTailwindMerge","createConfigFirst","createConfigRest","cacheGet","cacheSet","functionToCall","initTailwindMerge","previousConfig","createConfigCurrent","tailwindMerge","fromTheme","themeGetter","arbitraryValueRegex","arbitraryVariableRegex","fractionRegex","tshirtUnitRegex","lengthUnitRegex","colorFunctionRegex","shadowRegex","imageRegex","isFraction","isNumber","isInteger","isPercent","isTshirtSize","isAny","isLengthOnly","isNever","isShadow","isImage","isAnyNonArbitrary","isArbitraryValue","isArbitraryVariable","isArbitrarySize","getIsArbitraryValue","isLabelSize","isArbitraryLength","isLabelLength","isArbitraryNumber","isLabelNumber","isArbitraryPosition","isLabelPosition","isArbitraryImage","isLabelImage","isArbitraryShadow","isLabelShadow","isArbitraryVariableLength","getIsArbitraryVariable","isArbitraryVariableFamilyName","isLabelFamilyName","isArbitraryVariablePosition","isArbitraryVariableSize","isArbitraryVariableImage","isArbitraryVariableShadow","testLabel","testValue","shouldMatchNoLabel","twMerge","themeColor","themeFont","themeText","themeFontWeight","themeTracking","themeLeading","themeBreakpoint","themeContainer","themeSpacing","themeRadius","themeShadow","themeInsetShadow","themeTextShadow","themeDropShadow","themeBlur","themePerspective","themeAspect","themeEase","themeAnimate","scaleBreak","scalePosition","scalePositionWithArbitrary","scaleOverflow","scaleOverscroll","scaleUnambiguousSpacing","scaleInset","scaleGridTemplateColsRows","scaleGridColRowStartAndEnd","scaleGridColRowStartOrEnd","scaleGridAutoColsRows","scaleAlignPrimaryAxis","scaleAlignSecondaryAxis","scaleMargin","scaleSizing","scaleColor","scaleBgPosition","scaleBgRepeat","scaleBgSize","scaleGradientStopPosition","scaleRadius","scaleBorderWidth","scaleLineStyle","scaleBlendMode","scaleMaskImagePosition","scaleBlur","scaleRotate","scaleScale","scaleSkew","scaleTranslate","cn","inputs","DropdownMenuPrimitive.Root","DropdownMenuPrimitive.Trigger","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","inset","DropdownMenuPrimitive.Item","DropdownMenuPrimitive.Separator","DropdownMenuPrimitive.Sub","DropdownMenuPrimitive.SubTrigger","ChevronRightIcon","DropdownMenuPrimitive.SubContent","falsyToString","cx","buttonVariants","base","_config_compoundVariants","variants","defaultVariants","getVariantClassNames","variantProp","defaultVariantProp","variantKey","propsWithoutUndefined","getCompoundVariantClassNames","cvClass","cvClassName","compoundVariantOptions","Button","VISUALLY_HIDDEN_STYLES","VisuallyHidden","createTooltipContext","DEFAULT_DELAY_DURATION","TOOLTIP_OPEN","TooltipProviderContextProvider","useTooltipProviderContext","TooltipProvider","__scopeTooltip","delayDuration","skipDelayDuration","disableHoverableContent","isOpenDelayedRef","isPointerInTransitRef","skipDelayTimerRef","skipDelayTimer","inTransit","TOOLTIP_NAME","TooltipContextProvider","useTooltipContext","Tooltip","disableHoverableContentProp","delayDurationProp","providerContext","contentId","wasOpenDelayedRef","open2","stateAttribute","handleOpen","handleDelayedOpen","TooltipTrigger","hasPointerMoveOpenedRef","handlePointerUp","TooltipPortal","TooltipContent","TooltipContentImpl","TooltipContentHoverable","pointerGraceArea","setPointerGraceArea","onPointerInTransitChange","handleRemoveGraceArea","handleCreateGraceArea","hoverTarget","currentTarget","exitPoint","exitSide","getExitSideFromRect","paddedExitPoints","getPaddedExitPoints","hoverTargetPoints","getPointsFromRect","graceArea","getHull","handleTriggerLeave","handleContentLeave","handleTrackPointerGrace","pointerPosition","hasEnteredTarget","isPointerOutsideGraceArea","VisuallyHiddenContentContextProvider","useVisuallyHiddenContentContext","Slottable","ariaLabel","jsxs","VisuallyHiddenPrimitive.Root","TooltipArrow","bottom","points","newPoints","getHullPresorted","upperHull","q","lowerHull","TooltipPrimitive.Provider","TooltipPrimitive.Root","TooltipPrimitive.Trigger","TooltipPrimitive.Portal","TooltipPrimitive.Content","TooltipPrimitive.Arrow","EditorToolbar","onCopyMarkdown","onOpenLinkPopover","imageUrl","setImageUrl","showImageInput","setShowImageInput","addImage","addTable","addCallout","Undo","Redo","IndentIncrease","IndentDecrease","ListIcon","PlusCircle","Columns","Trash2","Rows","ToggleLeft","Palette","color","FindReplace","focusTrigger","initialSearchQuery","searchQuery","setSearchQuery","replaceQuery","setReplaceQuery","caseSensitive","setCaseSensitive","useRegex","setUseRegex","wholeWord","setWholeWord","showReplace","setShowReplace","matches","setMatches","setCurrentMatchIndex","regexError","setRegexError","isSelectAllActive","setIsSelectAllActive","closedBySelectAllRef","searchInputRef","replaceInputRef","isNavigatingRef","findMatches","foundMatches","searchPattern","escaped","hasSearchHighlight","domAtPos","goToNextMatch","goToPrevMatch","replaceCurrent","replaceAll","sortedMatches","selectAllOccurrences","Search","ChevronUp","MousePointerClick","CaseSensitive","WholeWord","Regex","Replace","ReplaceAll","modKey","SelectAllActionBarInner","setIsActive","setCount","totalMatches","setTotalMatches","searchTerm","setSearchTerm","typedBuffer","setTypedBuffer","isTypingReplace","setIsTypingReplace","isIncremental","setIsIncremental","checkState","storage","onTransaction","handleBold","handleItalic","handleUnderline","handleStrikethrough","handleDelete","handleExit","handleSelectNext","handleSelectAll","Fragment","Plus","SelectAllActionBar","RECOVERY_DISMISSED_KEY_SUFFIX","simpleHash","str","hash","useAutoSave","storageKey","debounceMs","onSave","onRecover","setState","saveTimeoutRef","lastContentRef","lastContentHashRef","savedContent","dismissed","currentContent","saveContent","contentHash","handleBeforeUnload","save","clear","recover","dismissRecovery","DEFAULT_READING_SPEED","useWordCount","extendedStats","setResult","timeoutRef","lastTextRef","calculateWordCount","trimmedText","words","word","characters","charactersWithSpaces","paragraphs","sentences","readingTime","newResult","AutoSaveIndicator","status","lastSaved","formatLastSaved","diffMs","diffSecs","diffMins","diffHours","Cloud","Loader2","CloudOff","RecoveryBanner","RotateCcw","wikiLinkRegex","WikiLinkSafe","Mark","isValid","markType","mark","textNode","onWikiLinkClick","MARKDOWN_PATTERNS","CALLOUT_TYPES","looksLikeMarkdown","parseMarkdownTable","tableText","lines","headerCells","rawCells","filteredCells","markdownToHtml","tablePattern","tablePlaceholders","separatorLine","tableHtml","placeholder","calloutRegex","innerHtml","code","language","escapedCode","hashes","level","line","trimmed","MarkdownPasteSafe","slice","clipboardData","htmlContent","collapsibleHeadingPluginKey","getHeadingId","currentView","headings","headingId","hiddenRanges","heading","startHidePos","endHidePos","mergedRanges","isCollapsed","headingIsHidden","chevronWidget","existingButton","existingWrapper","wasCollapsed","CollapsibleHeading","_oldState","newState","pluginState","markdownLinkRegex","urlRegex","MarkdownLinkInputRule","linkText","linkMark","CalloutInputRule","lineStart","lineText","trimmedLine","patternStart","paragraphType","paragraph","callout","newPos","TextSelection","searchHighlightPluginKey","SearchHighlight","dispatch","oldDecorations","docChanged","matchIndex","isCurrentMatch","TabIndent","keymap","inList","isTaskList","depth","selectAllOccurrencesPluginKey","findAllMatches","ranges","rebuildRangesFromDecorations","_storage","deco","findClosestMatchIndex","deactivateMode","SelectAllOccurrences","$pos","allMatches","firstMatch","markName","allHaveMark","hasMark","newRanges","sortedRanges","newText","cursorWidget","previousBuffer","undo","nextBuffer","redo","redoTr","currentRanges","clearTr","_from","_to","fileToBase64","file","resolve","reject","reader","isValidImage","allowedTypes","getImageDimensions","dataUrl","compressImage","maxWidth","quality","canvas","ctx","isTransparent","outputType","outputQuality","processAndInsertImage","maxSizeMB","fileSizeMB","displayWidth","isCompressible","compressed","dimensions","getImageFiles","dataTransfer","files","ImageUpload","imageFiles","moved","coordinates","ImageDropZone","isDragging","setIsDragging","dragCounter","setDragCounter","handleDragEnter","handleDragLeave","newCount","handleDragOver","handleDrop","ImagePlus","ImageEditPopover","src","onDelete","editSrc","setEditSrc","editAlt","setEditAlt","srcInputRef","timer","handleSave","tokenizeMarkdown","tokens","inCodeBlock","codeBlockLang","headingMatch","taskMatch","isChecked","lastEnd","inlinePatterns","nonOverlapping","lastMatchEnd","getTokenClass","escapeHtml","renderHighlightedHtml","lineEnd","lineTokens","linePos","token","SyntaxHighlightedMarkdown","editable","autofocus","textareaRef","highlightRef","highlightedHtml","useMemo","adjustHeight","textarea","highlight","newHeight","syncScroll","beforeSelection","afterSelection","linesBefore","currentLineStart","outdentedLines","newContent","removedChars","indentedLines","globalRenderCount","globalTransactionCount","globalLastTransactionTime","recordTransaction","duration","PerformanceProfiler","visible","isMinimized","setIsMinimized","metrics","setMetrics","frameTimesRef","lastFrameTimeRef","rafIdRef","longFrameCountRef","renderCountSnapshotRef","transactionCountSnapshotRef","fpsHistory","setFpsHistory","frameTimeHistory","setFrameTimeHistory","handleTransaction","frameCount","lastSecond","currentFps","measure","now","recentFrames","avgFrameTime","sum","maxFrameTime","memInfo","memUsed","memTotal","domNodes","renderDelta","transactionDelta","toggleMinimize","getFpsColor","fps","getFrameTimeColor","ms","renderSparkline","maxVal","val","Activity","Maximize2","Minimize2","extractHeadings","minLevel","maxLevel","buildTree","findHeadingElement","resolvedPos","directDom","TableOfContents","onVisibilityChange","showLevelIndicators","highlightActive","treeView","scrollOffset","onItemClick","renderItem","showToggleButton","scrollContainerRef","setHeadings","activeId","setActiveId","collapsedSections","setCollapsedSections","tocRef","updateTimeoutRef","updateHeadings","newHeadings","h","scrollContainer","containerRect","currentActive","rafId","debouncedScroll","handleItemClick","relativeTop","toggleVisibility","newVisible","toggleCollapse","next","renderTocItem","indent","hasChildren","renderTree","renderFlatList","treeItems","PanelRightClose","PanelRightOpen","extend","destination","source","repeat","character","trimLeadingNewlines","trimTrailingNewlines","indexEnd","trimNewlines","blockElements","isBlock","is","voidElements","isVoid","hasVoid","has","meaningfulWhenBlankElements","isMeaningfulWhenBlank","hasMeaningfulWhenBlank","tagNames","tagName","rules","hLevel","underline","isParagraph","fenceChar","fenceSize","fenceInCodeRegex","fence","cleanAttribute","replacement","references","hasSiblings","isCodeBlock","extraSpace","delimiter","titlePart","attribute","Rules","rule","findRule","filterValue","collapseWhitespace","isPre","prevText","keepLeadingWs","remove","nextNode","canParseHTMLNatively","Parser","canParse","createHTMLParser","shouldUseActiveX","useActiveX","HTMLParser","RootNode","input","htmlParser","isPreOrCode","_htmlParser","isBlank","flankingWhitespace","edges","edgeWhitespace","isFlankedByWhitespace","sibling","regExp","isFlanked","reduce","escapes","TurndownService","canConvert","output","process","postProcess","plugin","accumulator","escape","self","replacementForNode","join","whitespace","s1","s2","nls","separator","highlightRegExp","highlightedCodeBlock","turndownService","firstChild","strikethrough","indexOf","every","borderCells","alignMap","isHeadingRow","border","isFirstTbody","previousSibling","tables","taskListItems","gfm","L","T","Z","u","C","me","xe","be","Re","I","Te","N","re","se","Oe","Q","we","F","ye","Pe","Se","ie","$e","U","te","_e","Le","Me","ze","oe","Ae","D","K","ae","Ce","le","Ie","Ee","Be","ue","qe","ve","pe","De","He","Ze","Ge","Ne","Qe","Fe","je","ce","he","Ue","ne","W","Ke","G","We","E","M","Xe","ke","w","J","z","de","ge","Je","c","g","R","O","V","Y","ee","fe","H","A","P","S","B","isMobileDevice","hasTouchEvents","isMobileUA","isSmallScreen","MarkdownEditor","forwardRef","onHTMLChange","onMarkdownChange","showToolbar","showWordCount","autoSave","autoSaveKey","autoSaveDelay","showRecoveryBanner","showFloatingToolbar","maxImageSize","onImageUploadStart","onImageUploadComplete","onImageUploadError","showModeToggle","initialMode","onModeChange","onReady","onFocus","onBlur","onSelectionChange","onDestroy","onLinkClick","findReplaceOpen","onFindReplaceChange","renderToolbar","renderFooter","disabledFeatures","minHeight","maxHeight","spellCheck","headingLevels","collapsibleHeadingLevels","showTableOfContents","tocVisible","onTocVisibilityChange","tocTitle","tocMinLevel","tocMaxLevel","tocShowLevelIndicators","tocHighlightActive","tocTreeView","tocWidth","tocPosition","tocScrollOffset","onTocItemClick","tocShowToggleButton","showPerformanceProfiler","onPerformanceProfilerClose","isMobile","editorMode","setEditorMode","rawMarkdown","setRawMarkdown","editorModeRef","rawMarkdownRef","editorContentRef","extensions","baseExtensions","StarterKit","Placeholder","TextAlign","Highlight","Subscript","Superscript","Typography","TableRow","TaskList","TaskItem","setImageEditState","onUpdateTimeoutRef","onHTMLChangeRef","onMarkdownChangeRef","useEditor","isLinkPopoverOpen","setIsLinkPopoverOpen","imageEditState","internalFindReplaceOpen","setInternalFindReplaceOpen","isFindReplaceOpen","setIsFindReplaceOpen","findReplaceFocusTrigger","setFindReplaceFocusTrigger","findReplaceInitialQuery","setFindReplaceInitialQuery","autoSaveState","td","checkbox","table","rowIndex","cells","cellContents","cleanContent","handleModeSwitch","newMode","calloutTypes","processedMarkdown","regex","marked","handleRawMarkdownChange","wordCount","useImperativeHandle","mode","cols","editorModeAPI","selectedText","defaultToolbar","defaultFooter","editorContentStyle","Eye","EditorContent","newSrc","newAlt","Callout","darkTheme","lightTheme","sepiaTheme","nordTheme","themes","applyTheme","createCustomTheme","baseName","description","overrides","baseTheme","ThemeContext","createContext","EditorThemeProvider","defaultTheme","themeName","setThemeName","useEditorTheme","useContext","LANGUAGE_OPTIONS","opt","copyCode"],"mappings":"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","x_google_ignoreList":[12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,65,67,68,91,92,93]}