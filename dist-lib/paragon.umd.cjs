(function(H,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("react/jsx-dev-runtime"),require("@tiptap/react"),require("@tiptap/starter-kit"),require("@tiptap/extension-placeholder"),require("@tiptap/extension-text-align"),require("@tiptap/extension-highlight"),require("@tiptap/extension-link"),require("@tiptap/extension-table"),require("@tiptap/extension-table-row"),require("@tiptap/extension-table-cell"),require("@tiptap/extension-table-header"),require("@tiptap/pm/state"),require("@tiptap/pm/view"),require("@tiptap/core"),require("@tiptap/extension-bullet-list"),require("@tiptap/extension-ordered-list"),require("@tiptap/extension-list-item"),require("@tiptap/extension-task-list"),require("@tiptap/extension-task-item"),require("@tiptap/extension-underline"),require("@tiptap/extension-subscript"),require("@tiptap/extension-superscript"),require("@tiptap/extension-typography"),require("@tiptap/extension-code-block-lowlight"),require("lowlight"),require("react"),require("lucide-react"),require("highlight.js/lib/languages/javascript"),require("highlight.js/lib/languages/typescript"),require("highlight.js/lib/languages/python"),require("highlight.js/lib/languages/xml"),require("highlight.js/lib/languages/css"),require("highlight.js/lib/languages/json"),require("highlight.js/lib/languages/bash"),require("highlight.js/lib/languages/sql"),require("highlight.js/lib/languages/java"),require("highlight.js/lib/languages/cpp"),require("highlight.js/lib/languages/go"),require("highlight.js/lib/languages/rust"),require("highlight.js/lib/languages/markdown"),require("highlight.js/lib/languages/yaml"),require("highlight.js/lib/languages/diff"),require("react-dom"),require("@tiptap/extension-image"),require("react-dom/client"),require("react/jsx-runtime"),require("@tiptap/pm/model"),require("@tiptap/pm/schema-list"),require("@tiptap/pm/history")):typeof define=="function"&&define.amd?define(["exports","react/jsx-dev-runtime","@tiptap/react","@tiptap/starter-kit","@tiptap/extension-placeholder","@tiptap/extension-text-align","@tiptap/extension-highlight","@tiptap/extension-link","@tiptap/extension-table","@tiptap/extension-table-row","@tiptap/extension-table-cell","@tiptap/extension-table-header","@tiptap/pm/state","@tiptap/pm/view","@tiptap/core","@tiptap/extension-bullet-list","@tiptap/extension-ordered-list","@tiptap/extension-list-item","@tiptap/extension-task-list","@tiptap/extension-task-item","@tiptap/extension-underline","@tiptap/extension-subscript","@tiptap/extension-superscript","@tiptap/extension-typography","@tiptap/extension-code-block-lowlight","lowlight","react","lucide-react","highlight.js/lib/languages/javascript","highlight.js/lib/languages/typescript","highlight.js/lib/languages/python","highlight.js/lib/languages/xml","highlight.js/lib/languages/css","highlight.js/lib/languages/json","highlight.js/lib/languages/bash","highlight.js/lib/languages/sql","highlight.js/lib/languages/java","highlight.js/lib/languages/cpp","highlight.js/lib/languages/go","highlight.js/lib/languages/rust","highlight.js/lib/languages/markdown","highlight.js/lib/languages/yaml","highlight.js/lib/languages/diff","react-dom","@tiptap/extension-image","react-dom/client","react/jsx-runtime","@tiptap/pm/model","@tiptap/pm/schema-list","@tiptap/pm/history"],u):(H=typeof globalThis<"u"?globalThis:H||self,u(H.Paragon={},H.jsxDevRuntime,H.TiptapReact,H.StarterKit,H.Placeholder,H.TextAlign,H.Highlight,H.Link,H.extensionTable,H.TableRow,H.TableCell,H.TableHeader,H.state,H.view,H.TiptapCore,H.BulletList,H.OrderedList,H.ListItem,H.TaskList,H.TaskItem,H.Underline,H.Subscript,H.Superscript,H.Typography,H.CodeBlockLowlight,H.lowlight,H.React,H.LucideReact,H.javascript,H.typescript,H.python,H.xml,H.css,H.json,H.bash,H.sql,H.java,H.cpp,H.go,H.rust,H.markdown,H.yaml,H.diff,H.ReactDOM,H.Image,H.client,H.jsxRuntime,H.model,H.schemaList,H.history))})(this,(function(H,u,_e,Od,Vd,_d,Bd,$d,Wd,zd,Fd,Hd,ye,Ee,me,Ud,jd,Yd,qd,Kd,Gd,Zd,Xd,Qd,Jd,Rd,h,P,To,Mo,Ti,Do,em,tm,Nr,nm,rm,Mi,Di,Ai,Pi,Ii,Li,it,om,sm,F,im,yr,Oi){"use strict";function Vi(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const C=Vi(h),_i=Vi(it),am=new ye.PluginKey("tableCellMenu");let Bi=!1,xr=null;function lm(){Bi||(Bi=!0,document.addEventListener("mouseover",e=>{const n=e.target.closest("td, th");if(n&&n.closest(".ProseMirror")){const r=n.querySelector(".table-cell-menu-btn");r&&(r.style.opacity="1")}},!0),document.addEventListener("mouseout",e=>{const t=e.target,n=e.relatedTarget,r=t.closest("td, th");if(r&&r.closest(".ProseMirror")){if(n&&r.contains(n)||document.querySelector(".table-cell-menu-dropdown"))return;const s=r.querySelector(".table-cell-menu-btn");s&&(s.style.opacity="0")}},!0))}function cm(e){return lm(),new ye.Plugin({key:am,state:{init(){return Ee.DecorationSet.empty},apply(t,n,r,o){return!t.docChanged&&xr?xr.map(t.mapping,t.doc):(xr=um(o.doc,e),xr)}},props:{decorations(t){return this.getState(t)}}})}function um(e,t){const n=[];return e.descendants((r,o)=>{if(r.type.name==="tableCell"||r.type.name==="tableHeader"){const s=Ee.Decoration.widget(o+1,i=>{const a=document.createElement("div");a.className="table-cell-menu-wrapper ProseMirror-widget",a.setAttribute("contenteditable","false"),a.style.cssText="position:absolute;top:2px;right:2px;z-index:50;pointer-events:auto;";const l=document.createElement("button");l.className="table-cell-menu-btn",l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1.5"/><circle cx="12" cy="5" r="1.5"/><circle cx="12" cy="19" r="1.5"/></svg>',l.title="Table options",l.type="button";const d=document.documentElement.classList.contains("dark"),c=d?"rgba(30,30,30,0.95)":"rgba(255,255,255,0.95)",m=d?"rgba(60,60,60,0.5)":"rgba(200,200,200,0.5)",f=d?"#999":"#666",p=d?"#2a2a2a":"#f5f5f5";return l.style.cssText="width:18px;height:18px;display:flex;align-items:center;justify-content:center;background:"+c+";border:1px solid "+m+";border-radius:4px;cursor:pointer;opacity:0;transition:opacity 0.15s ease,background-color 0.15s ease,transform 0.1s ease;color:"+f+";pointer-events:auto;padding:0;",l.addEventListener("mouseenter",()=>{l.style.opacity="1",l.style.background=p,l.style.transform="scale(1.05)"}),l.addEventListener("mouseleave",()=>{document.querySelector(".table-cell-menu-dropdown"),l.style.background=c,l.style.transform="scale(1)"}),l.addEventListener("click",N=>{N.preventDefault(),N.stopPropagation();const g=l.getBoundingClientRect();t.chain().focus().setTextSelection(o+1).run(),dm(N,t,o,g)}),a.appendChild(l),a},{side:-1,key:"menu-"+o});n.push(s)}}),Ee.DecorationSet.create(e,n)}function dm(e,t,n,r){const o=document.querySelector(".table-cell-menu-dropdown");o&&o.remove();const s=document.createElement("div");s.className="table-cell-menu-dropdown";const i=170,a=280;let l=Math.max(0,Math.min(r.top,window.innerHeight)),d=Math.max(0,Math.min(r.bottom,window.innerHeight)),c=Math.max(0,Math.min(r.left,window.innerWidth)),m=d+4,f=c-i+r.width+8;f+i>window.innerWidth-12&&(f=window.innerWidth-i-12),f<12&&(f=12),m+a>window.innerHeight-12&&(m=l-a-4),m<12&&(m=12),m+a>window.innerHeight-12&&(m=window.innerHeight-a-12);const p=document.documentElement.classList.contains("dark"),N=p?"#1f1f1f":"#ffffff",g=p?"#3a3a3a":"#e5e5e5",b=p?"#e5e5e5":"#333333";s.style.cssText="position:fixed;top:"+m+"px;left:"+f+"px;z-index:99999;display:flex;flex-direction:column;gap:2px;min-width:170px;max-width:220px;width:auto;padding:6px;background:"+N+";border:1px solid "+g+";border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,0.15),0 2px 6px rgba(0,0,0,0.1);color:"+b+";font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;pointer-events:auto;";const v=[{label:"Insert Column Left",icon:"col-left",action:()=>t.chain().focus().setTextSelection(n+1).addColumnBefore().run()},{label:"Insert Column Right",icon:"col-right",action:()=>t.chain().focus().setTextSelection(n+1).addColumnAfter().run()},{label:"Insert Row Above",icon:"row-up",action:()=>t.chain().focus().setTextSelection(n+1).addRowBefore().run()},{label:"Insert Row Below",icon:"row-down",action:()=>t.chain().focus().setTextSelection(n+1).addRowAfter().run()},{label:"divider"},{label:"Delete Column",icon:"delete",action:()=>t.chain().focus().setTextSelection(n+1).deleteColumn().run(),destructive:!0},{label:"Delete Row",icon:"delete",action:()=>t.chain().focus().setTextSelection(n+1).deleteRow().run(),destructive:!0},{label:"Delete Table",icon:"table-delete",action:()=>t.chain().focus().setTextSelection(n+1).deleteTable().run(),destructive:!0},{label:"divider"},{label:"Copy Table",icon:"copy",action:()=>mm(t)}],y={"col-left":'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="6" y="3" width="12" height="18" rx="2"/><line x1="12" y1="3" x2="12" y2="21"/><path d="M9 12H3m0 0l2-2m-2 2l2 2"/></svg>',"col-right":'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="6" y="3" width="12" height="18" rx="2"/><line x1="12" y1="3" x2="12" y2="21"/><path d="M15 12h6m0 0l-2-2m2 2l-2 2"/></svg>',"row-up":'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="6" width="18" height="12" rx="2"/><line x1="3" y1="12" x2="21" y2="12"/><path d="M12 9V3m0 0l-2 2m2-2l2 2"/></svg>',"row-down":'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="6" width="18" height="12" rx="2"/><line x1="3" y1="12" x2="21" y2="12"/><path d="M12 15v6m0 0l-2-2m2 2l2-2"/></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>',"table-delete":'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="3" x2="9" y2="21"/><line x1="15" y1="15" x2="21" y2="21"/><line x1="21" y1="15" x2="15" y2="21"/></svg>',copy:'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>'},w=p?"#2a2a2a":"#f5f5f5",D=p?"#ff6b6b":"#dc2626",k=p?"#999999":"#666666",S=p?"#333333":"#e5e5e5";v.forEach(x=>{if(x.label==="divider"){const T=document.createElement("div");T.style.cssText="height:1px;background:"+S+";margin:4px 0;",s.appendChild(T)}else{const T=document.createElement("button");T.type="button";const M=x.destructive?D:b;T.style.cssText="display:flex;align-items:center;gap:10px;width:100%;padding:8px 10px;font-size:13px;font-weight:450;color:"+M+";background:transparent;border:none;border-radius:5px;cursor:pointer;text-align:left;transition:background 0.15s ease;pointer-events:auto;";const O=y[x.icon||""]||"",I=x.destructive?D:k;T.innerHTML='<span style="display:flex;align-items:center;justify-content:center;width:16px;height:16px;flex-shrink:0;color:'+I+';">'+O+'</span><span style="flex:1;white-space:nowrap;">'+x.label+"</span>",T.addEventListener("mouseenter",()=>{T.style.background=x.destructive?p?"rgba(255,107,107,0.15)":"rgba(220,38,38,0.1)":w}),T.addEventListener("mouseleave",()=>{T.style.background="transparent"}),T.addEventListener("click",V=>{V.preventDefault(),V.stopPropagation(),x.action&&x.action(),s.remove()}),s.appendChild(T)}}),document.body.appendChild(s);const E=x=>{const T=x.target;if(s.contains(T)||T.classList.contains("table-cell-menu-btn"))return;const M=T.closest('[role="dialog"]');M&&M.contains(s)||(s.remove(),document.removeEventListener("mousedown",E),document.removeEventListener("keydown",A))},A=x=>{x.key==="Escape"&&(s.remove(),document.removeEventListener("mousedown",E),document.removeEventListener("keydown",A))};setTimeout(()=>{document.addEventListener("mousedown",E),document.addEventListener("keydown",A)},0)}function mm(e){const{state:t}=e,{selection:n}=t;let r=null;if(t.doc.descendants((o,s)=>{if(o.type.name==="table"&&s<=n.from&&s+o.nodeSize>=n.to)return r=o,!1}),r){const o=i=>{if(i.type.name==="table")return"<table>"+i.content.content.map(o).join("")+"</table>";if(i.type.name==="tableRow")return"<tr>"+i.content.content.map(o).join("")+"</tr>";if(i.type.name==="tableCell"){const a=i.attrs,l=a.colspan>1?' colspan="'+a.colspan+'"':"",d=a.rowspan>1?' rowspan="'+a.rowspan+'"':"";return"<td"+l+d+">"+i.textContent+"</td>"}if(i.type.name==="tableHeader"){const a=i.attrs,l=a.colspan>1?' colspan="'+a.colspan+'"':"",d=a.rowspan>1?' rowspan="'+a.rowspan+'"':"";return"<th"+l+d+">"+i.textContent+"</th>"}return i.textContent||""},s=o(r);navigator.clipboard.writeText(s).then(()=>{const i=document.createElement("div");i.className="tcm-toast",i.textContent="Table copied to clipboard",i.style.cssText="position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.8);color:white;padding:10px 20px;border-radius:6px;font-size:13px;z-index:99999;animation:fadeInOut 2s ease-in-out forwards;",document.body.appendChild(i),setTimeout(()=>i.remove(),2e3)})}}const fm=Fd.extend({addProseMirrorPlugins(){return[...this.parent?.()||[],cm(this.editor)]}}),pm=Hd.extend({}),Vn=new ye.PluginKey("tableSorting");let zt=null,_n=null;function hm(e){const t=parseFloat(e.replace(/[,$%]/g,""));if(!isNaN(t)&&e.match(/^[\d,.$%\-+]+$/))return{type:"number",value:t};const n=[/^\d{4}-\d{2}-\d{2}/,/^\d{1,2}\/\d{1,2}\/\d{2,4}/,/^\d{1,2}-\d{1,2}-\d{2,4}/];for(const r of n)if(r.test(e)){const o=new Date(e);if(!isNaN(o.getTime()))return{type:"date",value:o}}return{type:"string",value:e.toLowerCase()}}function gm(e,t,n){let r=0;return e.type==="number"&&t.type==="number"?r=e.value-t.value:e.type==="date"&&t.type==="date"?r=e.value.getTime()-t.value.getTime():r=String(e.value).localeCompare(String(t.value)),n==="asc"?r:-r}function bm(e,t,n){const{state:r,view:o}=e;let s=null;if(r.doc.nodesBetween(t,t+1,(N,g)=>{if(N.type.name==="table"&&g===t)return s=N,!1}),!s){console.log("Table not found at position",t);return}const i=zt?.tablePos===t&&zt?.columnIndex===n&&zt?.direction==="asc"?"desc":"asc";zt={tablePos:t,columnIndex:n,direction:i},_n=null;const a=[];s.forEach(N=>{if(N.type.name==="tableRow"){let g=!1;N.forEach(b=>{b.type.name==="tableHeader"&&(g=!0)}),a.push({node:N,isHeader:g})}});const l=a.filter(N=>N.isHeader),d=a.filter(N=>!N.isHeader);if(d.length<2){$i(n,i),o.dispatch(r.tr.setMeta(Vn,{updated:!0}));return}const c=d.map(N=>{let g="",b=0;return N.node.forEach(v=>{b===n&&(g=v.textContent||""),b++}),{...N,sortValue:hm(g)}}),m=c.map((N,g)=>g);c.sort((N,g)=>gm(N.sortValue,g.sortValue,i));const f=c.map((N,g)=>d.indexOf(N));if(m.some((N,g)=>N!==f[g])){const N=[];l.forEach(v=>N.push(v.node)),c.forEach(v=>N.push(v.node));const g=s.type.create(s.attrs,N),{tr:b}=r;b.replaceWith(t,t+s.nodeSize,g),b.setMeta(Vn,{updated:!0}),o.dispatch(b)}else o.dispatch(r.tr.setMeta(Vn,{updated:!0}));$i(n,i)}function $i(e,t){const n=document.querySelector(".table-sort-toast");n&&n.remove();const r=document.createElement("div");r.className="table-sort-toast";const o=t==="asc"?"ascending":"descending",s=t==="asc"?"↑":"↓";r.innerHTML='<span style="margin-right:6px;">'+s+"</span> Sorted column "+(e+1)+" "+o;const i=document.documentElement.classList.contains("dark");r.style.cssText="position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:"+(i?"rgba(30,30,30,0.95)":"rgba(255,255,255,0.95)")+";color:"+(i?"#e5e5e5":"#333")+";padding:10px 20px;border-radius:8px;font-size:13px;font-weight:500;z-index:99999;box-shadow:0 4px 12px rgba(0,0,0,0.15);border:1px solid "+(i?"#3a3a3a":"#e5e5e5")+";animation:sortToastIn 0.2s ease;",document.body.appendChild(r),setTimeout(()=>{r.style.animation="sortToastOut 0.2s ease forwards",setTimeout(()=>r.remove(),200)},1500)}function Nm(e,t,n,r){const o=document.createElement("span");o.className="table-sort-btn-inline",o.setAttribute("contenteditable","false"),o.style.cssText="display:inline-flex;align-items:center;margin-left:4px;vertical-align:middle;pointer-events:auto;";const s=document.createElement("button");s.className="table-sort-btn",s.setAttribute("contenteditable","false"),s.type="button";const i=document.documentElement.classList.contains("dark"),a=i?"#60a5fa":"#3b82f6",l=i?"#666":"#aaa",d=i?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)";return s.style.cssText="display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;padding:0;font-size:10px;color:"+(e?a:l)+";background:transparent;border:none;border-radius:3px;cursor:pointer;user-select:none;transition:all 0.15s ease;opacity:"+(e?"1":"0.5")+";pointer-events:auto;vertical-align:middle;",s.addEventListener("mouseenter",()=>{s.style.background=d,s.style.opacity="1",s.style.color=a}),s.addEventListener("mouseleave",()=>{s.style.background="transparent",s.style.opacity=e?"1":"0.5",s.style.color=e?a:l}),s.addEventListener("click",c=>{c.preventDefault(),c.stopPropagation(),bm(r,t,n)}),e==="asc"?(s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19V5M5 12l7-7 7 7"/></svg>',s.title="Sorted ascending - Click to sort descending"):e==="desc"?(s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M5 12l7 7 7-7"/></svg>',s.title="Sorted descending - Click to sort ascending"):(s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 15l5 5 5-5M7 9l5-5 5 5"/></svg>',s.title="Click to sort this column"),o.appendChild(s),o}function ym(e){return new ye.Plugin({key:Vn,state:{init(){return Ee.DecorationSet.empty},apply(t,n,r,o){const s=t.getMeta(Vn);return!t.docChanged&&!s?.updated&&_n?_n.map(t.mapping,t.doc):(_n=xm(o.doc,e),_n)}},props:{decorations(t){return this.getState(t)}}})}function xm(e,t){const n=[];return e.descendants((r,o)=>{if(r.type.name==="table"){const s=o;r.forEach((i,a)=>{if(i.type.name==="tableRow"){let l=0,d=0;i.forEach((c,m)=>{if(c.type.name==="tableHeader"){const f=o+1+a+1+d;let p=f+1;c.forEach((w,D)=>{w.type.name==="paragraph"&&(p=f+1+D+w.nodeSize-1)});const g=zt?.tablePos===s&&zt?.columnIndex===l?zt.direction:null,b=l,v=s,y=Ee.Decoration.widget(p,()=>Nm(g,v,b,t),{side:1,key:"sort-"+s+"-"+b});n.push(y)}d+=c.nodeSize,l++})}})}}),Ee.DecorationSet.create(e,n)}const vm=me.Extension.create({name:"tableSorting",addProseMirrorPlugins(){return[ym(this.editor)]}}),Wi=Ud.extend({content:"(listItem | taskItem)+"}),zi=jd.extend({content:"(listItem | taskItem)+"}),Fi=qd.extend({content:"(taskItem | listItem)+"}),Hi=Kd.extend({content:"paragraph block*"}),Ui=Yd.extend({content:"paragraph block*"}),ji=new ye.PluginKey("collapsibleList");function Ao(e,t){let n="";return e.firstChild&&e.firstChild.type.name==="paragraph"&&(n=e.firstChild.textContent.slice(0,50)),`li-${t}-${n}`}function Po(e){const t=["bulletList","orderedList","taskList"];let n=!1;return e.forEach(r=>{t.includes(r.type.name)&&(n=!0)}),n}function wm(e,t){const n=["bulletList","orderedList","taskList"];let r=-1,o=-1,s=t+1;return e.forEach(i=>{n.includes(i.type.name)&&(r===-1&&(r=s),o=s+i.nodeSize),s+=i.nodeSize}),r===-1?null:{start:r,end:o}}let en=null;function Io(e,t,n){const r=[];return e.descendants((o,s)=>{if(!n.listItemTypes.includes(o.type.name)||!Po(o))return!0;const i=Ao(o,s),a=t.collapsedItems.has(i);r.push(Ee.Decoration.node(s,s+o.nodeSize,{class:`collapsible-list-item ${a?"is-collapsed":"is-expanded"}`,"data-list-item-id":i}));const l=o.firstChild;if(l&&l.type.name==="paragraph"){const d=s+1+l.nodeSize-1,c=Ee.Decoration.widget(d,()=>{const m=document.querySelector(`button.collapsible-list-chevron[data-list-item-id="${i}"]`);if(m){m.classList.contains("collapsed")!==a&&(m.classList.remove("collapsed","expanded"),m.classList.add(a?"collapsed":"expanded"),m.title=a?"Click to expand":"Click to collapse");const g=m.parentElement;if(g)return g}const f=document.createElement("span");f.className="collapsible-list-chevron-wrapper",f.setAttribute("contenteditable","false");const p=document.createElement("button");return p.className=`collapsible-list-chevron ${a?"collapsed":"expanded"}`,p.setAttribute("data-list-item-id",i),p.setAttribute("contenteditable","false"),p.setAttribute("tabindex","-1"),p.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>',p.title=a?"Click to expand":"Click to collapse",p.addEventListener("click",N=>{N.preventDefault(),N.stopPropagation();const g=p.classList.contains("collapsed");p.classList.remove("collapsed","expanded"),p.classList.add(g?"expanded":"collapsed"),p.title=g?"Click to collapse":"Click to expand",t.collapsedItems.has(i)?t.collapsedItems.delete(i):t.collapsedItems.add(i),en&&en.dispatch(en.state.tr.setMeta("collapsibleList",{toggled:i}))}),f.appendChild(p),f},{side:1,key:`list-chevron-${i}`});r.push(c)}if(a&&wm(o,s)){let c=s+1;o.forEach(m=>{["bulletList","orderedList","taskList"].includes(m.type.name)&&r.push(Ee.Decoration.node(c,c+m.nodeSize,{class:"collapsible-list-hidden"})),c+=m.nodeSize})}return!0}),Ee.DecorationSet.create(e,r)}const Yi=me.Extension.create({name:"collapsibleList",addOptions(){return{listItemTypes:["listItem","taskItem"]}},addStorage(){return{collapsedItems:new Set}},addCommands(){return{toggleListItemCollapse:e=>({editor:t,tr:n})=>{const r=this.storage,o=n.doc.nodeAt(e);if(!o||!this.options.listItemTypes.includes(o.type.name)||!Po(o))return!1;const s=Ao(o,e);return r.collapsedItems.has(s)?r.collapsedItems.delete(s):r.collapsedItems.add(s),t.view.dispatch(n.setMeta("collapsibleList",{toggled:s})),!0},expandAllListItems:()=>({editor:e,tr:t})=>(this.storage.collapsedItems.clear(),e.view.dispatch(t.setMeta("collapsibleList",{expandAll:!0})),!0),collapseAllListItems:()=>({editor:e,tr:t})=>{const n=this.storage;return t.doc.descendants((o,s)=>{this.options.listItemTypes.includes(o.type.name)&&Po(o)&&n.collapsedItems.add(Ao(o,s))}),e.view.dispatch(t.setMeta("collapsibleList",{collapseAll:!0})),!0}}},addProseMirrorPlugins(){const e=this.storage,t=this.options;return[new ye.Plugin({key:ji,view(n){return en=n,{update(r){en=r},destroy(){en=null}}},state:{init(n,r){return{collapsedItems:new Set,decorations:Io(r.doc,e,t),docVersion:0}},apply(n,r,o,s){return n.getMeta("collapsibleList")||n.docChanged?{collapsedItems:new Set(e.collapsedItems),decorations:Io(s.doc,e,t),docVersion:r.docVersion+1}:{...r,decorations:r.decorations.map(n.mapping,n.doc)}}},props:{decorations(n){const r=ji.getState(n);return r?.decorations?r.decorations:Io(n.doc,e,t)}}})]}}),pe=Rd.createLowlight();pe.register("javascript",To),pe.register("js",To),pe.register("jsx",To),pe.register("typescript",Mo),pe.register("ts",Mo),pe.register("tsx",Mo),pe.register("python",Ti),pe.register("py",Ti),pe.register("xml",Do),pe.register("html",Do),pe.register("svg",Do),pe.register("css",em),pe.register("json",tm),pe.register("bash",Nr),pe.register("sh",Nr),pe.register("shell",Nr),pe.register("zsh",Nr),pe.register("sql",nm),pe.register("java",rm),pe.register("cpp",Mi),pe.register("c",Mi),pe.register("go",Di),pe.register("golang",Di),pe.register("rust",Ai),pe.register("rs",Ai),pe.register("markdown",Pi),pe.register("md",Pi),pe.register("yaml",Ii),pe.register("yml",Ii),pe.register("diff",Li),pe.register("patch",Li);function km({node:e,updateAttributes:t,extension:n}){const[r,o]=h.useState(!1),[s,i]=h.useState(!1),a=h.useRef(null);h.useEffect(()=>{const f=a.current;if(!f||s)return;const p=new IntersectionObserver(N=>{for(const g of N)g.isIntersecting&&(i(!0),p.unobserve(f))},{rootMargin:"200px 0px",threshold:0});return p.observe(f),()=>{p.disconnect()}},[s]);const l=h.useCallback(async()=>{try{await navigator.clipboard.writeText(e.textContent),o(!0),setTimeout(()=>o(!1),2e3)}catch(f){console.error("Failed to copy:",f)}},[e.textContent]),d=n.options.lowlight?.listLanguages?.()||[],c=e.attrs.language||"plaintext",m=c==="plaintext"?"Plain Text":c.charAt(0).toUpperCase()+c.slice(1);return u.jsxDEV(_e.NodeViewWrapper,{className:"code-block-wrapper",ref:a,children:[u.jsxDEV("div",{className:"code-block-controls",contentEditable:!1,children:[u.jsxDEV("div",{className:"code-block-language-wrapper",children:[u.jsxDEV("select",{value:c,onChange:f=>t({language:f.target.value}),className:"code-block-language-select",children:[u.jsxDEV("option",{value:"plaintext",children:"Plain Text"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:152,columnNumber:13},this),d.map(f=>u.jsxDEV("option",{value:f,children:f.charAt(0).toUpperCase()+f.slice(1)},f,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:154,columnNumber:15},this))]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:147,columnNumber:11},this),u.jsxDEV("span",{className:"code-block-language-label",children:m},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:159,columnNumber:11},this),u.jsxDEV(P.ChevronDown,{size:12,className:"code-block-language-chevron"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:160,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:146,columnNumber:9},this),u.jsxDEV("button",{type:"button",onClick:l,className:`code-block-copy-btn ${r?"copied":""}`,title:r?"Copied!":"Copy code",children:r?u.jsxDEV(P.Check,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:168,columnNumber:21},this):u.jsxDEV(P.Copy,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:168,columnNumber:43},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:162,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:145,columnNumber:7},this),u.jsxDEV("pre",{className:`code-block-pre ${s?"":"code-block-deferred"}`,children:u.jsxDEV(_e.NodeViewContent,{className:s?`language-${c}`:"language-plaintext"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:175,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:174,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CodeBlockWithFeatures.tsx",lineNumber:143,columnNumber:5},this)}const Em=Jd.extend({addNodeView(){return _e.ReactNodeViewRenderer(km)}}).configure({lowlight:pe,defaultLanguage:"plaintext",HTMLAttributes:{class:"code-block"}});function Cm({editor:e,isOpen:t,onClose:n}){const[r,o]=h.useState(""),s=h.useRef(null),i=h.useRef(null),[a,l]=h.useState({top:0,left:0});h.useEffect(()=>{if(t){const N=e.getAttributes("link").href||"";o(N);try{const{view:g}=e,{from:b}=g.state.selection,v=g.coordsAtPos(b),y=v.bottom+8,w=Math.max(16,Math.min(v.left,window.innerWidth-420));l({top:y,left:w})}catch{l({top:200,left:window.innerWidth/2-160})}setTimeout(()=>{s.current?.focus(),s.current?.select()},50)}},[t,e]),h.useEffect(()=>{if(!t)return;const N=y=>{i.current&&!i.current.contains(y.target)&&n()},g=()=>{n()},b=setTimeout(()=>{document.addEventListener("mousedown",N)},10),v=e.view.dom.closest(".editor-content-wrapper");return v?.addEventListener("scroll",g),()=>{clearTimeout(b),document.removeEventListener("mousedown",N),v?.removeEventListener("scroll",g)}},[t,n,e]);const d=h.useCallback(N=>{if(N?.preventDefault(),r.trim()){let g=r.trim();!/^https?:\/\//i.test(g)&&!g.startsWith("mailto:")&&(g="https://"+g),e.chain().focus().extendMarkRange("link").setLink({href:g}).run()}else e.chain().focus().unsetLink().run();n()},[r,e,n]),c=h.useCallback(N=>{N.key==="Escape"?(N.preventDefault(),n()):N.key==="Enter"&&(N.preventDefault(),d())},[n,d]);if(!t)return null;const f=(e.view.dom.closest(".markdown-editor-container")||e.view.dom.closest("[data-theme]"))?.getAttribute("data-theme")||"",p=u.jsxDEV("div",{ref:i,className:"link-popover","data-theme":f,style:{position:"fixed",top:`${a.top}px`,left:`${a.left}px`,zIndex:9999},children:u.jsxDEV("form",{onSubmit:d,className:"link-popover-form",children:[u.jsxDEV("div",{className:"link-popover-input-wrapper",children:[u.jsxDEV(P.Link2,{className:"link-popover-icon",size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkPopover.tsx",lineNumber:141,columnNumber:11},this),u.jsxDEV("input",{ref:s,type:"text",value:r,onChange:N=>o(N.target.value),onKeyDown:c,placeholder:"Enter URL or paste link",className:"link-popover-input",autoComplete:"off",spellCheck:!1},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkPopover.tsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/LinkPopover.tsx",lineNumber:140,columnNumber:9},this),u.jsxDEV("div",{className:"link-popover-hint",children:"Press Enter to save · Escape to cancel"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkPopover.tsx",lineNumber:154,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/LinkPopover.tsx",lineNumber:139,columnNumber:7},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkPopover.tsx",lineNumber:128,columnNumber:5},this);return it.createPortal(p,document.body)}function Sm({editor:e,onEditLink:t}){const[n,r]=h.useState({isVisible:!1,url:"",position:{top:0,left:0},linkElement:null}),o=h.useRef(null),s=h.useRef(null),i=h.useCallback(w=>{if(!(!e||e.isDestroyed)){s.current&&(clearTimeout(s.current),s.current=null);try{const D=w.getAttribute("href")||"",k=w.getBoundingClientRect(),S=k.bottom+8,E=Math.max(16,Math.min(k.left,window.innerWidth-340));r({isVisible:!0,url:D,position:{top:S,left:E},linkElement:w})}catch(D){console.warn("LinkHoverTooltip: Error showing tooltip",D)}}},[e]),a=h.useCallback(()=>{s.current=setTimeout(()=>{r(w=>({...w,isVisible:!1,linkElement:null}))},150)},[]),l=h.useCallback(()=>{s.current&&(clearTimeout(s.current),s.current=null)},[]);h.useEffect(()=>{if(!e||e.isDestroyed)return;const w=e.view.dom;if(!w)return;const D=S=>{const A=S.target.closest("a");A&&w.contains(A)&&i(A)},k=S=>{const E=S.target,A=S.relatedTarget;if(E.closest("a")){if(A&&o.current?.contains(A))return;a()}};return w.addEventListener("mouseover",D),w.addEventListener("mouseout",k),()=>{w.removeEventListener("mouseover",D),w.removeEventListener("mouseout",k),s.current&&clearTimeout(s.current)}},[e,i,a]),h.useEffect(()=>{if(!n.isVisible)return;const w=()=>{r(k=>({...k,isVisible:!1,linkElement:null}))},D=e.view.dom.closest(".editor-content-wrapper");return D?.addEventListener("scroll",w),window.addEventListener("scroll",w,!0),()=>{D?.removeEventListener("scroll",w),window.removeEventListener("scroll",w,!0)}},[n.isVisible,e]);const[d,c]=h.useState(!1),m=h.useCallback(()=>{n.url&&navigator.clipboard.writeText(n.url).then(()=>{c(!0),setTimeout(()=>c(!1),1500)})},[n.url]),f=h.useCallback(()=>{n.url&&window.open(n.url,"_blank","noopener,noreferrer")},[n.url]),p=h.useCallback(()=>{if(n.linkElement){const{view:w}=e,{doc:D}=w.state;let k=null,S=null;D.descendants((E,A)=>{if(E.isText&&E.marks.some(x=>x.type.name==="link")){const x=w.nodeDOM(A);if(x&&(x===n.linkElement||x.parentElement===n.linkElement))return k=A,S=A+E.nodeSize,!1}return!0}),k!==null&&S!==null?e.chain().focus().setTextSelection({from:k,to:S}).unsetLink().run():e.chain().focus().unsetLink().run()}r(w=>({...w,isVisible:!1}))},[e,n.linkElement]),N=h.useCallback(()=>{if(n.linkElement){const{view:w}=e,{doc:D}=w.state;D.descendants((k,S)=>{if(k.isText&&k.marks.some(E=>E.type.name==="link")){const E=w.nodeDOM(S);if(E&&(E===n.linkElement||E.parentElement===n.linkElement))return e.chain().focus().setTextSelection({from:S,to:S+k.nodeSize}).run(),!1}return!0})}r(w=>({...w,isVisible:!1})),t()},[e,n.linkElement,t]);if(!n.isVisible)return null;const g=n.url.length>40?n.url.substring(0,40)+"...":n.url,v=(e.view.dom.closest(".markdown-editor-container")||e.view.dom.closest("[data-theme]"))?.getAttribute("data-theme")||"",y=u.jsxDEV("div",{ref:o,className:"link-hover-tooltip","data-theme":v,style:{position:"fixed",top:`${n.position.top}px`,left:`${n.position.left}px`,zIndex:9999},onMouseEnter:l,onMouseLeave:a,children:u.jsxDEV("div",{className:"link-hover-tooltip-content",children:[u.jsxDEV("button",{onClick:f,className:"link-hover-tooltip-link",title:n.url,children:[u.jsxDEV(P.ExternalLink,{size:13,className:"link-hover-tooltip-link-icon"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:248,columnNumber:11},this),u.jsxDEV("span",{className:"link-hover-tooltip-url",children:g||"No URL"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:249,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:243,columnNumber:9},this),u.jsxDEV("div",{className:"link-hover-tooltip-actions",children:[u.jsxDEV("button",{onClick:N,className:"link-hover-tooltip-btn",title:"Edit link",children:u.jsxDEV(P.Pencil,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:260,columnNumber:13},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:255,columnNumber:11},this),u.jsxDEV("button",{onClick:m,className:"link-hover-tooltip-btn",title:"Copy link",children:d?u.jsxDEV(P.Check,{size:14,style:{color:"var(--primary)"}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:269,columnNumber:23},this):u.jsxDEV(P.Copy,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:269,columnNumber:81},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:264,columnNumber:11},this),u.jsxDEV("button",{onClick:p,className:"link-hover-tooltip-btn link-hover-tooltip-btn-danger",title:"Remove link",children:u.jsxDEV(P.Unlink,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:278,columnNumber:13},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:273,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:253,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:241,columnNumber:7},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/LinkHoverTooltip.tsx",lineNumber:228,columnNumber:5},this);return it.createPortal(y,document.body)}const Xe=({onMouseDown:e,isActive:t,disabled:n,children:r,title:o})=>u.jsxDEV("button",{onMouseDown:e,disabled:n,title:o,className:`
      flex items-center justify-center w-7 h-7 rounded-md flex-shrink-0
      transition-all duration-100 ease-out touch-manipulation
      ${t?"bg-primary text-primary-foreground":"bg-transparent text-foreground hover:bg-secondary active:bg-secondary/80"}
      ${n?"opacity-50 cursor-not-allowed":""}
    `,children:r},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:50,columnNumber:3},void 0),qi=()=>u.jsxDEV("div",{className:"w-px h-5 bg-border mx-0.5 flex-shrink-0"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:69,columnNumber:3},void 0),Ki=[{label:"Paragraph",value:"paragraph",shortLabel:"P"},{label:"Heading 1",value:"h1",shortLabel:"H1"},{label:"Heading 2",value:"h2",shortLabel:"H2"},{label:"Heading 3",value:"h3",shortLabel:"H3"}],Tm=h.memo(function({editor:t,isH1:n,isH2:r,isH3:o,executeCommand:s}){const[i,a]=h.useState(!1),l=h.useRef(null),d=n?"h1":r?"h2":o?"h3":"paragraph",c=Ki.find(f=>f.value===d)?.shortLabel||"P";h.useEffect(()=>{if(!i)return;const f=p=>{l.current&&!l.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[i]);const m=(f,p)=>{if(f.preventDefault(),f.stopPropagation(),p==="paragraph")t.chain().focus().setParagraph().run();else{const N=parseInt(p.replace("h",""));t.chain().focus().toggleHeading({level:N}).run()}a(!1)};return u.jsxDEV("div",{ref:l,className:"relative flex-shrink-0",children:[u.jsxDEV("button",{onMouseDown:f=>{f.preventDefault(),f.stopPropagation(),a(!i)},title:"Text style",className:`
          flex items-center gap-1 h-7 px-2 rounded-md flex-shrink-0
          transition-all duration-100 ease-out touch-manipulation
          text-xs font-normal overflow-visible
          ${d!=="paragraph"?"bg-primary text-primary-foreground":"bg-transparent text-foreground hover:bg-secondary active:bg-secondary/80"}
        `,children:[u.jsxDEV("span",{className:"min-w-[18px] text-center",children:c},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:139,columnNumber:9},this),u.jsxDEV(P.ChevronDown,{size:12,strokeWidth:2.5,className:`flex-shrink-0 transition-transform duration-150 ${i?"rotate-180":""}`},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:140,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:122,columnNumber:7},this),i&&u.jsxDEV("div",{className:`
            absolute top-full left-0 mt-1.5
            bg-popover text-popover-foreground
            border border-border rounded-lg shadow-lg
            py-1 min-w-[130px] z-[10000]
          `,style:{animation:"slash-fade-in-below 0.12s ease-out"},children:Ki.map(f=>{const p=f.value===d;return u.jsxDEV("button",{onMouseDown:N=>m(N,f.value),className:`
                  flex items-center gap-2 w-full px-3 py-1.5 text-left text-sm
                  transition-colors duration-75
                  ${p?"bg-accent text-accent-foreground font-medium":"hover:bg-accent/50"}
                `,children:[u.jsxDEV("span",{className:"w-6 text-xs font-normal text-muted-foreground",children:f.shortLabel},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:168,columnNumber:17},this),u.jsxDEV("span",{children:f.label},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:169,columnNumber:17},this)]},f.value,!0,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:156,columnNumber:15},this)})},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:144,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:121,columnNumber:5},this)}),Gi=h.memo(function({editor:t,className:n="",suppressWhenLinkPopoverOpen:r=!1,aiEnabled:o=!1,onAISparklesClick:s}){const i=h.useRef(null),a=_e.useEditorState({editor:t,selector:({editor:x})=>({isBold:x.isActive("bold"),isItalic:x.isActive("italic"),isUnderline:x.isActive("underline"),isStrike:x.isActive("strike"),isCode:x.isActive("code"),isHighlight:x.isActive("highlight"),isLink:x.isActive("link"),isH1:x.isActive("heading",{level:1}),isH2:x.isActive("heading",{level:2}),isH3:x.isActive("heading",{level:3}),isBulletList:x.isActive("bulletList"),isOrderedList:x.isActive("orderedList"),isTaskList:x.isActive("taskList"),isBlockquote:x.isActive("blockquote"),isCodeBlock:x.isActive("codeBlock")})}),[l,d]=h.useState(!1),[c,m]=h.useState(""),[f,p]=h.useState(!1),[N,g]=h.useState({top:0,left:0}),b=h.useRef(null),v=h.useRef(null),y=h.useRef(null),w=h.useCallback(()=>{if(c){let x=c.trim();!/^https?:\/\//i.test(x)&&!x.startsWith("mailto:")&&(x="https://"+x),t.chain().focus().extendMarkRange("link").setLink({href:x}).run()}else t.chain().focus().extendMarkRange("link").unsetLink().run();d(!1),m("")},[t,c]),D=x=>{x.preventDefault(),x.stopPropagation();const T=t.getAttributes("link").href;m(T||""),d(!0)},k=h.useCallback((x,T)=>{x.preventDefault(),x.stopPropagation(),T()},[]);h.useEffect(()=>{if(!t||t.isDestroyed)return;const x=()=>{if(!t.isDestroyed)try{const{selection:T}=t.state,{empty:M,from:O,to:I}=T,U=("node"in T&&T.node?T.node:t.state.doc.nodeAt(O))?.type?.name==="resizableImage";if(M&&!U||t.isActive("codeBlock")){y.current&&(clearTimeout(y.current),y.current=null),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{p(!1),d(!1)},150);return}v.current&&(clearTimeout(v.current),v.current=null);const K=t.view.coordsAtPos(O),L=t.view.coordsAtPos(I),z=b.current?.offsetWidth||500,Q=b.current?.offsetHeight||40,re=8,oe=window.innerWidth;let ne=(K.left+L.left)/2-z/2;ne=Math.max(re,Math.min(oe-z-re,ne));let B=K.top-Q-10;B<re&&(B=L.bottom+10),f?g({top:Math.max(re,B),left:ne}):(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{g({top:Math.max(re,B),left:ne}),p(!0)},50))}catch(T){console.warn("FloatingToolbar: Error updating position",T)}};return t.on("selectionUpdate",x),()=>{t.off("selectionUpdate",x),v.current&&clearTimeout(v.current),y.current&&clearTimeout(y.current)}},[t,f]);const S=x=>{v.current&&(clearTimeout(v.current),v.current=null)};if(!f||r)return null;const E=15,A=l?u.jsxDEV("div",{ref:b,className:`floating-toolbar ${n}`,style:{position:"fixed",top:N.top,left:N.left,zIndex:9999},onMouseDown:S,children:u.jsxDEV("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 px-2 w-[280px] sm:w-auto",children:[u.jsxDEV("input",{type:"url",placeholder:"Enter URL...",value:c,onChange:x=>m(x.target.value),onKeyDown:x=>{x.key==="Enter"&&(x.preventDefault(),w()),x.key==="Escape"&&(d(!1),m(""))},className:`
            bg-secondary/50 rounded px-3 py-2 sm:py-1
            text-sm text-foreground placeholder:text-muted-foreground
            outline-none border border-border/50
            w-full sm:w-48
          `,autoFocus:!0},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:363,columnNumber:9},this),u.jsxDEV("div",{className:"flex gap-2",children:[u.jsxDEV("button",{onMouseDown:x=>{x.preventDefault(),w()},className:`
              flex-1 sm:flex-none px-4 sm:px-3 py-2 sm:py-1 text-sm sm:text-xs font-medium rounded
              bg-primary text-primary-foreground
              hover:opacity-90 active:opacity-80 transition-opacity touch-manipulation
            `,children:"Apply"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:387,columnNumber:11},this),u.jsxDEV("button",{onMouseDown:x=>{x.preventDefault(),d(!1),m("")},className:`
              flex-1 sm:flex-none px-4 sm:px-2 py-2 sm:py-1 text-sm sm:text-xs font-medium rounded
              bg-secondary text-secondary-foreground
              hover:bg-accent active:bg-accent/80 transition-colors touch-manipulation
            `,children:"Cancel"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:400,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:386,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:362,columnNumber:7},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:351,columnNumber:5},this):u.jsxDEV("div",{ref:b,className:`floating-toolbar ${n}`,style:{position:"fixed",top:N.top,left:N.left,zIndex:9999},onMouseDown:S,children:[u.jsxDEV(Xe,{onMouseDown:x=>k(x,()=>t.chain().focus().toggleBold().run()),isActive:a?.isBold,title:"Bold (Ctrl+B)",children:u.jsxDEV(P.Bold,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:435,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:430,columnNumber:7},this),u.jsxDEV(Xe,{onMouseDown:x=>k(x,()=>t.chain().focus().toggleItalic().run()),isActive:a?.isItalic,title:"Italic (Ctrl+I)",children:u.jsxDEV(P.Italic,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:442,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:437,columnNumber:7},this),u.jsxDEV(Xe,{onMouseDown:x=>k(x,()=>t.chain().focus().toggleUnderline().run()),isActive:a?.isUnderline,title:"Underline (Ctrl+U)",children:u.jsxDEV(P.Underline,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:449,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:444,columnNumber:7},this),u.jsxDEV(Xe,{onMouseDown:x=>k(x,()=>t.chain().focus().toggleStrike().run()),isActive:a?.isStrike,title:"Strikethrough",children:u.jsxDEV(P.Strikethrough,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:456,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:451,columnNumber:7},this),u.jsxDEV(Xe,{onMouseDown:x=>k(x,()=>t.chain().focus().toggleCode().run()),isActive:a?.isCode,title:"Inline Code (Ctrl+E)",children:u.jsxDEV(P.Code,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:463,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:458,columnNumber:7},this),u.jsxDEV(Xe,{onMouseDown:x=>k(x,()=>t.chain().focus().toggleHighlight().run()),isActive:a?.isHighlight,title:"Highlight",children:u.jsxDEV(P.Highlighter,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:470,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:465,columnNumber:7},this),u.jsxDEV(Xe,{onMouseDown:D,isActive:a?.isLink,title:"Link (Ctrl+K)",children:u.jsxDEV(P.Link,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:478,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:473,columnNumber:7},this),u.jsxDEV(qi,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:481,columnNumber:7},this),u.jsxDEV(Tm,{editor:t,isH1:a?.isH1??!1,isH2:a?.isH2??!1,isH3:a?.isH3??!1,executeCommand:k},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:484,columnNumber:7},this),u.jsxDEV(Xe,{onMouseDown:x=>k(x,()=>t.chain().focus().toggleBlockquote().run()),isActive:a?.isBlockquote,title:"Quote",children:u.jsxDEV(P.Quote,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:496,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:491,columnNumber:7},this),u.jsxDEV(Xe,{onMouseDown:x=>k(x,()=>t.chain().focus().toggleBulletList().run()),isActive:a?.isBulletList,title:"Bullet List",children:u.jsxDEV(P.List,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:503,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:498,columnNumber:7},this),u.jsxDEV(Xe,{onMouseDown:x=>k(x,()=>t.chain().focus().toggleOrderedList().run()),isActive:a?.isOrderedList,title:"Numbered List",children:u.jsxDEV(P.ListOrdered,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:510,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:505,columnNumber:7},this),u.jsxDEV(Xe,{onMouseDown:x=>k(x,()=>t.chain().focus().toggleTaskList().run()),isActive:a?.isTaskList,title:"Task List",children:u.jsxDEV(P.CheckSquare,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:517,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:512,columnNumber:7},this),u.jsxDEV(Xe,{onMouseDown:x=>k(x,()=>t.chain().focus().toggleCodeBlock().run()),isActive:a?.isCodeBlock,title:"Code Block",children:u.jsxDEV(P.FileCode,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:524,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:519,columnNumber:7},this),o&&u.jsxDEV(u.Fragment,{children:[u.jsxDEV(qi,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:530,columnNumber:11},this),u.jsxDEV("button",{ref:i,onMouseDown:x=>{x.preventDefault(),x.stopPropagation(),i.current&&s?.(i.current)},title:"AI Writing Assistant",className:`
              flex items-center justify-center w-7 h-7 rounded-md flex-shrink-0
              transition-all duration-100 ease-out touch-manipulation
              bg-transparent text-foreground hover:bg-secondary active:bg-secondary/80
              hover:text-foreground
            `,children:u.jsxDEV(P.Sparkles,{size:E},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:548,columnNumber:13},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:531,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:529,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/FloatingToolbar.tsx",lineNumber:418,columnNumber:5},this);return it.createPortal(A,document.body)}),vr={info:{icon:P.Info,label:"Info",color:"var(--callout-info)",borderColor:"var(--callout-info-border)"},note:{icon:P.StickyNote,label:"Note",color:"var(--callout-note)",borderColor:"var(--callout-note-border)"},prompt:{icon:P.MessageSquareText,label:"Prompt",color:"var(--callout-prompt)",borderColor:"var(--callout-prompt-border)"},resources:{icon:P.BookOpen,label:"Resources",color:"var(--callout-resources)",borderColor:"var(--callout-resources-border)"},todo:{icon:P.ListTodo,label:"Todo",color:"var(--callout-todo)",borderColor:"var(--callout-todo-border)"}};function Mm({node:e,updateAttributes:t,editor:n}){const[r,o]=h.useState(!1),[s,i]=h.useState(!1),[a,l]=h.useState(null),d=h.useRef(null),c=h.useRef(null),m=e.attrs.type||"info",f=vr[m]||vr.info,p=f.icon,N=h.useCallback(()=>{if(c.current){const y=c.current.getBoundingClientRect();l({top:y.bottom+4,left:y.left})}},[]);h.useEffect(()=>{if(!r)return;const y=w=>{d.current&&!d.current.contains(w.target)&&c.current&&!c.current.contains(w.target)&&o(!1)};return document.addEventListener("mousedown",y),document.addEventListener("touchstart",y,{passive:!0}),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("touchstart",y)}},[r]),h.useEffect(()=>{if(!r)return;const y=()=>o(!1);return window.addEventListener("scroll",y,!0),()=>window.removeEventListener("scroll",y,!0)},[r]);const g=h.useCallback(()=>{n.isEditable&&(r||N(),o(!r))},[n.isEditable,r,N]),b=y=>{t({type:y}),o(!1)},v=h.useCallback(y=>{y.stopPropagation(),i(w=>!w)},[]);return u.jsxDEV(_e.NodeViewWrapper,{className:`callout callout-${m}${s?" callout-collapsed":""}`,"data-callout":"","data-type":m,children:[u.jsxDEV("div",{className:"callout-header",contentEditable:!1,children:[u.jsxDEV("button",{ref:c,className:"callout-header-button",onClick:g,title:n.isEditable?"Click to change callout type":f.label,style:{color:f.borderColor},contentEditable:!1,children:[u.jsxDEV(p,{size:18},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:117,columnNumber:11},this),u.jsxDEV("span",{className:"callout-label",children:f.label},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:118,columnNumber:11},this),n.isEditable&&u.jsxDEV(P.ChevronDown,{size:12,className:"callout-type-chevron"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:119,columnNumber:33},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:109,columnNumber:9},this),u.jsxDEV("button",{className:"callout-collapse-toggle",onClick:v,title:s?"Expand callout":"Collapse callout",contentEditable:!1,style:{color:f.borderColor},children:s?u.jsxDEV(P.ChevronRight,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:128,columnNumber:24},this):u.jsxDEV(P.ChevronDown,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:128,columnNumber:53},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:121,columnNumber:9},this),r&&n.isEditable&&a&&it.createPortal(u.jsxDEV("div",{ref:d,className:"callout-type-dropdown",contentEditable:!1,style:{position:"fixed",top:a.top,left:a.left,zIndex:9999},children:Object.keys(vr).map(y=>{const w=vr[y],D=w.icon;return u.jsxDEV("button",{className:`callout-type-option ${y===m?"active":""}`,onClick:()=>b(y),style:{"--callout-option-color":w.color},children:[u.jsxDEV(D,{size:16,style:{color:w.borderColor}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:153,columnNumber:19},this),u.jsxDEV("span",{children:w.label},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:154,columnNumber:19},this)]},y,!0,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:147,columnNumber:17},this)})},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:132,columnNumber:11},this),document.body)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:108,columnNumber:7},this),u.jsxDEV("div",{className:`callout-content${s?" callout-content-hidden":""}`,children:u.jsxDEV(_e.NodeViewContent,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:165,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:164,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/extensions/CalloutWithMenu.tsx",lineNumber:106,columnNumber:5},this)}const Dm=me.Node.create({name:"callout",addOptions(){return{HTMLAttributes:{},types:["info","note","prompt","resources","todo"]}},content:"block+",group:"block",defining:!0,addAttributes(){return{type:{default:"info",parseHTML:e=>e.getAttribute("data-type")||"info",renderHTML:e=>({"data-type":e.type})}}},parseHTML(){return[{tag:"div[data-callout]"}]},renderHTML({node:e,HTMLAttributes:t}){const n=e.attrs.type;return["div",me.mergeAttributes(this.options.HTMLAttributes,t,{"data-callout":"","data-type":n,class:`callout callout-${n}`}),0]},addNodeView(){return _e.ReactNodeViewRenderer(Mm)},addCommands(){return{setCallout:e=>({commands:t})=>t.wrapIn(this.name,e),toggleCallout:e=>({commands:t})=>t.toggleWrap(this.name,e),unsetCallout:()=>({commands:e})=>e.lift(this.name),insertCallout:e=>({chain:t})=>{const n=e?.type||"info";return t().insertContent({type:this.name,attrs:{type:n},content:[{type:"paragraph"}]}).focus().run()},updateCalloutType:e=>({commands:t})=>t.updateAttributes(this.name,{type:e})}},addKeyboardShortcuts(){return{"Mod-Shift-c":()=>this.editor.commands.toggleCallout({type:"info"})}}}),Zi=om.extend({name:"resizableImage",addOptions(){return{...this.parent?.(),HTMLAttributes:{},allowBase64:!0,onImageClick:void 0,resolveImageSrc:void 0}},addAttributes(){return{...this.parent?.(),width:{default:null,parseHTML:e=>{const t=e.getAttribute("width")||e.style.width;return t?parseInt(t,10):null},renderHTML:e=>e.width?{width:e.width,style:`width: ${e.width}px`}:{}},height:{default:null,parseHTML:e=>{const t=e.getAttribute("height")||e.style.height;return t?parseInt(t,10):null},renderHTML:e=>e.height?{height:e.height}:{}},align:{default:"left",parseHTML:e=>e.getAttribute("data-align")||"left",renderHTML:e=>({"data-align":e.align})}}},parseHTML(){return[{tag:"img[src]"},{tag:"figure.image-resizer img[src]"}]},addCommands(){return{...this.parent?.(),updateImage:e=>({commands:t})=>t.updateAttributes("resizableImage",e),setImageAlign:e=>({commands:t})=>t.updateAttributes("resizableImage",{align:e})}},renderHTML({HTMLAttributes:e}){const t=e["data-align"]||"center";return["figure",{class:"image-resizer",style:{left:"margin-right: auto;",center:"margin-left: auto; margin-right: auto;",right:"margin-left: auto;"}[t]||"margin-left: auto; margin-right: auto;"},["img",me.mergeAttributes(this.options.HTMLAttributes,e)]]},addNodeView(){const e=this.options;return({node:t,editor:n,getPos:r})=>{let o=t;const s=document.createElement("figure");s.classList.add("image-resizer");const i=T=>{const M={left:"margin-right: auto; margin-left: 0;",center:"margin-left: auto; margin-right: auto;",right:"margin-left: auto; margin-right: 0;"}[T]||"margin-left: auto; margin-right: auto;";s.style.cssText=`display: block; position: relative; width: fit-content; ${M}`};i(t.attrs.align||"left");const a=document.createElement("img");a.alt=t.attrs.alt||"",t.attrs.width&&(a.style.width=`${t.attrs.width}px`);const l=T=>!(!T||T.startsWith("data:")||T.startsWith("blob:")||T.startsWith("http://")||T.startsWith("https://")),d=T=>{l(T)&&e.resolveImageSrc?(a.style.opacity="0.5",a.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23f0f0f0" width="100" height="100"/%3E%3C/svg%3E',e.resolveImageSrc(T).then(M=>{a.src=M,a.style.opacity="1"}).catch(()=>{a.src=T,a.style.opacity="1"})):a.src=T};d(t.attrs.src);const c=document.createElement("div");c.classList.add("resize-handle"),c.style.cssText=`
        position: absolute;
        bottom: 4px;
        right: 4px;
        width: 24px;
        height: 24px;
        background: oklch(0.98 0 0 / 0.95);
        border: 1px solid oklch(0.85 0 0);
        border-radius: 6px;
        cursor: se-resize;
        opacity: 0;
        transition: opacity 0.15s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 8px oklch(0 0 0 / 0.15);
      `,c.innerHTML=`
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="oklch(0.4 0 0)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="transform: rotate(90deg);">
          <polyline points="15 3 21 3 21 9"></polyline>
          <polyline points="9 21 3 21 3 15"></polyline>
          <line x1="21" y1="3" x2="14" y2="10"></line>
          <line x1="3" y1="21" x2="10" y2="14"></line>
        </svg>
      `;const m=document.createElement("button");m.classList.add("image-menu-btn"),m.setAttribute("type","button"),m.setAttribute("title","Image options"),m.style.cssText=`
        position: absolute;
        top: 8px;
        right: 8px;
        width: 28px;
        height: 28px;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: oklch(0.98 0 0 / 0.95);
        border: 1px solid oklch(0.85 0 0);
        border-radius: 6px;
        cursor: pointer;
        opacity: 0;
        transition: opacity 0.15s ease, background 0.15s ease;
        box-shadow: 0 2px 8px oklch(0 0 0 / 0.15);
        z-index: 10;
      `,m.innerHTML=`
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="5" r="1"></circle>
          <circle cx="12" cy="12" r="1"></circle>
          <circle cx="12" cy="19" r="1"></circle>
        </svg>
      `;const f=document.createElement("div");f.classList.add("image-menu-dropdown"),f.style.cssText=`
        position: fixed;
        display: none;
        flex-direction: column;
        min-width: 140px;
        padding: 4px;
        background: oklch(0.99 0 0);
        border: 1px solid oklch(0.9 0 0);
        border-radius: 8px;
        box-shadow: 0 4px 16px oklch(0 0 0 / 0.15);
        z-index: 9999;
        pointer-events: auto;
      `;const p=(T,M,O)=>{const I=document.createElement("button");return I.setAttribute("type","button"),I.style.cssText=`
          display: flex;
          align-items: center;
          gap: 8px;
          width: 100%;
          padding: 8px 12px;
          font-size: 13px;
          color: oklch(0.3 0 0);
          background: transparent;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          text-align: left;
          transition: background 0.15s ease;
        `,I.innerHTML=`${M}<span>${T}</span>`,I.addEventListener("mouseenter",()=>{I.style.background="oklch(0.95 0 0)"}),I.addEventListener("mouseleave",()=>{I.style.background="transparent"}),I.addEventListener("click",V=>{V.preventDefault(),V.stopPropagation(),O(),f.style.display="none",y=!1}),I},N='<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>',g='<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>',b='<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>',v='<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>';f.appendChild(p("Edit",N,()=>{const T=typeof r=="function"?r():null;if(T!=null&&e.onImageClick){const M=a.getBoundingClientRect();e.onImageClick({src:o.attrs.src,alt:o.attrs.alt||"",pos:T,rect:M})}})),f.appendChild(p("Copy image",g,async()=>{const T=o.attrs.src;try{const O=await(await fetch(T)).blob();await navigator.clipboard.write([new ClipboardItem({[O.type]:O})])}catch{try{await navigator.clipboard.writeText(T)}catch{}}})),f.appendChild(p("Copy URL",v,async()=>{const T=o.attrs.src;try{await navigator.clipboard.writeText(T)}catch{}})),f.appendChild(p("Save image",b,()=>{const T=o.attrs.src,M=o.attrs.alt||"image",O=document.createElement("a");O.href=T,O.download=M,O.target="_blank",O.rel="noopener noreferrer",document.body.appendChild(O),O.click(),setTimeout(()=>{document.body.removeChild(O)},100)}));let y=!1;m.addEventListener("click",T=>{if(T.preventDefault(),T.stopPropagation(),y)f.style.display="none",y=!1;else{const M=m.getBoundingClientRect();f.style.top=`${M.bottom+4}px`,f.style.left=`${M.right-140}px`,f.style.display="flex",y=!0}});const w=T=>{!f.contains(T.target)&&!m.contains(T.target)&&(f.style.display="none",y=!1)};document.addEventListener("click",w),s.appendChild(a),s.appendChild(c),s.appendChild(m);const D=s.closest('[role="dialog"]');D?D.appendChild(f):document.body.appendChild(f),s.addEventListener("mouseenter",()=>{c.style.opacity="1",m.style.opacity="1"}),s.addEventListener("mouseleave",()=>{c.style.opacity="0",y||(m.style.opacity="0")}),m.addEventListener("mouseenter",()=>{m.style.background="oklch(0.95 0 0)"}),m.addEventListener("mouseleave",()=>{m.style.background="oklch(0.98 0 0 / 0.95)"});let k,S;const E=T=>{T.preventDefault(),k=T.clientX,S=a.offsetWidth,document.addEventListener("mousemove",A),document.addEventListener("mouseup",x)},A=T=>{const M=T.clientX-k,O=Math.max(100,S+M);a.style.width=`${O}px`},x=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",x);const T=typeof r=="function"?r():null,M=a.offsetWidth;if(T!=null)try{const{state:O,dispatch:I}=n.view,V=O.doc.nodeAt(T);if(V&&V.type.name==="resizableImage"){const W=O.tr.setNodeMarkup(T,void 0,{...V.attrs,width:M});I(W)}}catch{n.chain().focus().setNodeSelection(T).updateAttributes("resizableImage",{width:M}).run()}};return c.addEventListener("mousedown",E),{dom:s,update:T=>T.type.name!=="resizableImage"?!1:(o=T,d(T.attrs.src),a.alt=T.attrs.alt||"",T.attrs.width&&(a.style.width=`${T.attrs.width}px`),i(T.attrs.align||"left"),!0),destroy:()=>{c.removeEventListener("mousedown",E),document.removeEventListener("click",w),f.remove()}}}}});function Am(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const Pm={},Bn={};function Ft(e,t){try{const r=(Pm[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in Bn?Bn[r]:Xi(r,r.split(":"))}catch{if(e in Bn)return Bn[e];const n=e?.match(Im);return n?Xi(e,n.slice(1)):NaN}}const Im=/([+-]\d\d):?(\d\d)?/;function Xi(e,t){const n=+(t[0]||0),r=+(t[1]||0),o=+(t[2]||0)/60;return Bn[e]=n*60+r>0?n*60+r+o:n*60-r-o}class at extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Ft(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Ji(this),Lo(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new at(...n,t):new at(Date.now(),t)}withTimeZone(t){return new at(+this,t)}getTimezoneOffset(){const t=-Ft(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Lo(this),+this}[Symbol.for("constructDateFrom")](t){return new at(+new Date(t),this.timeZone)}}const Qi=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!Qi.test(e))return;const t=e.replace(Qi,"$1UTC");at.prototype[t]&&(e.startsWith("get")?at.prototype[e]=function(){return this.internal[t]()}:(at.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Lm(this),+this},at.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Lo(this),+this}))});function Lo(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Ft(e.timeZone,e)*60))}function Lm(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),Ji(e)}function Ji(e){const t=Ft(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const o=-new Date(+e).getTimezoneOffset(),s=-new Date(+r).getTimezoneOffset(),i=o-s,a=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();i&&a&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+i);const l=o-n;l&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+l);const d=new Date(+e);d.setUTCSeconds(0);const c=o>0?d.getSeconds():(d.getSeconds()-60)%60,m=Math.round(-(Ft(e.timeZone,e)*60))%60;(m||c)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+m),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+m+c));const f=Ft(e.timeZone,e),p=f>0?Math.floor(f):Math.ceil(f),g=-new Date(+e).getTimezoneOffset()-p,b=p!==n,v=g-l;if(b&&v){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+v);const y=Ft(e.timeZone,e),w=y>0?Math.floor(y):Math.ceil(y),D=p-w;D&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+D),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+D))}}class Be extends at{static tz(t,...n){return n.length?new Be(...n,t):new Be(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),o=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,o]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${o}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,o]=this.tzComponents();return`${t} GMT${n}${r}${o} (${Am(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),o=String(Math.abs(t)%60).padStart(2,"0");return[n,r,o]}withTimeZone(t){return new Be(+this,t)}[Symbol.for("constructDateFrom")](t){return new Be(+new Date(t),this.timeZone)}}const Ri=6048e5,Om=864e5,ea=Symbol.for("constructDateFrom");function Te(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ea in e?e[ea](t):e instanceof Date?new e.constructor(t):new Date(t)}function we(e,t){return Te(t||e,e)}function ta(e,t,n){const r=we(e,n?.in);return isNaN(t)?Te(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function na(e,t,n){const r=we(e,n?.in);if(isNaN(t))return Te(e,NaN);if(!t)return r;const o=r.getDate(),s=Te(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return o>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),o),r)}let Vm={};function $n(){return Vm}function tn(e,t){const n=$n(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=we(e,t?.in),s=o.getDay(),i=(s<r?7:0)+s-r;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function Wn(e,t){return tn(e,{...t,weekStartsOn:1})}function ra(e,t){const n=we(e,t?.in),r=n.getFullYear(),o=Te(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const s=Wn(o),i=Te(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=Wn(i);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function oa(e){const t=we(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function nn(e,...t){const n=Te.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function zn(e,t){const n=we(e,t?.in);return n.setHours(0,0,0,0),n}function sa(e,t,n){const[r,o]=nn(n?.in,e,t),s=zn(r),i=zn(o),a=+s-oa(s),l=+i-oa(i);return Math.round((a-l)/Om)}function _m(e,t){const n=ra(e,t),r=Te(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Wn(r)}function Bm(e,t,n){return ta(e,t*7,n)}function $m(e,t,n){return na(e,t*12,n)}function Wm(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=Te.bind(null,o));const s=we(o,r);(!n||n<s||isNaN(+s))&&(n=s)}),Te(r,n||NaN)}function zm(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=Te.bind(null,o));const s=we(o,r);(!n||n>s||isNaN(+s))&&(n=s)}),Te(r,n||NaN)}function Fm(e,t,n){const[r,o]=nn(n?.in,e,t);return+zn(r)==+zn(o)}function ia(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Hm(e){return!(!ia(e)&&typeof e!="number"||isNaN(+we(e)))}function Um(e,t,n){const[r,o]=nn(n?.in,e,t),s=r.getFullYear()-o.getFullYear(),i=r.getMonth()-o.getMonth();return s*12+i}function jm(e,t){const n=we(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function aa(e,t){const[n,r]=nn(e,t.start,t.end);return{start:n,end:r}}function Ym(e,t){const{start:n,end:r}=aa(t?.in,e);let o=+n>+r;const s=o?+n:+r,i=o?r:n;i.setHours(0,0,0,0),i.setDate(1);let a=1;const l=[];for(;+i<=s;)l.push(Te(n,i)),i.setMonth(i.getMonth()+a);return o?l.reverse():l}function qm(e,t){const n=we(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Km(e,t){const n=we(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function la(e,t){const n=we(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Gm(e,t){const{start:n,end:r}=aa(t?.in,e);let o=+n>+r;const s=o?+n:+r,i=o?r:n;i.setHours(0,0,0,0),i.setMonth(0,1);let a=1;const l=[];for(;+i<=s;)l.push(Te(n,i)),i.setFullYear(i.getFullYear()+a);return o?l.reverse():l}function ca(e,t){const n=$n(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=we(e,t?.in),s=o.getDay(),i=(s<r?-7:0)+6-(s-r);return o.setDate(o.getDate()+i),o.setHours(23,59,59,999),o}function Zm(e,t){return ca(e,{...t,weekStartsOn:1})}const Xm={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qm=(e,t,n)=>{let r;const o=Xm[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Oo(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Jm={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rm={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ef={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tf={date:Oo({formats:Jm,defaultWidth:"full"}),time:Oo({formats:Rm,defaultWidth:"full"}),dateTime:Oo({formats:ef,defaultWidth:"full"})},nf={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rf=(e,t,n,r)=>nf[e];function Fn(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):i;o=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;o=e.values[a]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return o[s]}}const of={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sf={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},af={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lf={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cf={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uf={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},df={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Fn({values:of,defaultWidth:"wide"}),quarter:Fn({values:sf,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fn({values:af,defaultWidth:"wide"}),day:Fn({values:lf,defaultWidth:"wide"}),dayPeriod:Fn({values:cf,defaultWidth:"wide",formattingValues:uf,defaultFormattingWidth:"wide"})};function Hn(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(o);if(!s)return null;const i=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?ff(a,m=>m.test(i)):mf(a,m=>m.test(i));let d;d=e.valueCallback?e.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;const c=t.slice(i.length);return{value:d,rest:c}}}function mf(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function ff(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function pf(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=n.valueCallback?n.valueCallback(i):i;const a=t.slice(o.length);return{value:i,rest:a}}}const hf=/^(\d+)(th|st|nd|rd)?/i,gf=/\d+/i,bf={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Nf={any:[/^b/i,/^(a|c)/i]},yf={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xf={any:[/1/i,/2/i,/3/i,/4/i]},vf={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wf={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kf={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ef={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cf={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sf={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tf={ordinalNumber:pf({matchPattern:hf,parsePattern:gf,valueCallback:e=>parseInt(e,10)}),era:Hn({matchPatterns:bf,defaultMatchWidth:"wide",parsePatterns:Nf,defaultParseWidth:"any"}),quarter:Hn({matchPatterns:yf,defaultMatchWidth:"wide",parsePatterns:xf,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hn({matchPatterns:vf,defaultMatchWidth:"wide",parsePatterns:wf,defaultParseWidth:"any"}),day:Hn({matchPatterns:kf,defaultMatchWidth:"wide",parsePatterns:Ef,defaultParseWidth:"any"}),dayPeriod:Hn({matchPatterns:Cf,defaultMatchWidth:"any",parsePatterns:Sf,defaultParseWidth:"any"})},Vo={code:"en-US",formatDistance:Qm,formatLong:tf,formatRelative:rf,localize:df,match:Tf,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mf(e,t){const n=we(e,t?.in);return sa(n,la(n))+1}function ua(e,t){const n=we(e,t?.in),r=+Wn(n)-+_m(n);return Math.round(r/Ri)+1}function da(e,t){const n=we(e,t?.in),r=n.getFullYear(),o=$n(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,i=Te(t?.in||e,0);i.setFullYear(r+1,0,s),i.setHours(0,0,0,0);const a=tn(i,t),l=Te(t?.in||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const d=tn(l,t);return+n>=+a?r+1:+n>=+d?r:r-1}function Df(e,t){const n=$n(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=da(e,t),s=Te(t?.in||e,0);return s.setFullYear(o,0,r),s.setHours(0,0,0,0),tn(s,t)}function ma(e,t){const n=we(e,t?.in),r=+tn(n,t)-+Df(n,t);return Math.round(r/Ri)+1}function xe(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Mt={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return xe(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):xe(n+1,2)},d(e,t){return xe(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return xe(e.getHours()%12||12,t.length)},H(e,t){return xe(e.getHours(),t.length)},m(e,t){return xe(e.getMinutes(),t.length)},s(e,t){return xe(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return xe(o,t.length)}},rn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fa={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Mt.y(e,t)},Y:function(e,t,n,r){const o=da(e,r),s=o>0?o:1-o;if(t==="YY"){const i=s%100;return xe(i,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):xe(s,t.length)},R:function(e,t){const n=ra(e);return xe(n,t.length)},u:function(e,t){const n=e.getFullYear();return xe(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return xe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return xe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Mt.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return xe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=ma(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):xe(o,t.length)},I:function(e,t,n){const r=ua(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):xe(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Mt.d(e,t)},D:function(e,t,n){const r=Mf(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):xe(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return xe(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return xe(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return xe(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=rn.noon:r===0?o=rn.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=rn.evening:r>=12?o=rn.afternoon:r>=4?o=rn.morning:o=rn.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Mt.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Mt.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):xe(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):xe(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Mt.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Mt.s(e,t)},S:function(e,t){return Mt.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ha(r);case"XXXX":case"XX":return Ht(r);case"XXXXX":case"XXX":default:return Ht(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ha(r);case"xxxx":case"xx":return Ht(r);case"xxxxx":case"xxx":default:return Ht(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pa(r,":");case"OOOO":default:return"GMT"+Ht(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pa(r,":");case"zzzz":default:return"GMT"+Ht(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return xe(r,t.length)},T:function(e,t,n){return xe(+e,t.length)}};function pa(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),s=r%60;return s===0?n+String(o):n+String(o)+t+xe(s,2)}function ha(e,t){return e%60===0?(e>0?"-":"+")+xe(Math.abs(e)/60,2):Ht(e,t)}function Ht(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=xe(Math.trunc(r/60),2),s=xe(r%60,2);return n+o+t+s}const ga=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ba=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Af={p:ba,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return ga(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",ga(r,t)).replace("{{time}}",ba(o,t))}},Pf=/^D+$/,If=/^Y+$/,Lf=["D","DD","YY","YYYY"];function Of(e){return Pf.test(e)}function Vf(e){return If.test(e)}function _f(e,t,n){const r=Bf(e,t,n);if(console.warn(r),Lf.includes(e))throw new RangeError(r)}function Bf(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $f=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wf=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zf=/^'([^]*?)'?$/,Ff=/''/g,Hf=/[a-zA-Z]/;function Uf(e,t,n){const r=$n(),o=n?.locale??r.locale??Vo,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=we(e,n?.in);if(!Hm(a))throw new RangeError("Invalid time value");let l=t.match(Wf).map(c=>{const m=c[0];if(m==="p"||m==="P"){const f=Af[m];return f(c,o.formatLong)}return c}).join("").match($f).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const m=c[0];if(m==="'")return{isToken:!1,value:jf(c)};if(fa[m])return{isToken:!0,value:c};if(m.match(Hf))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:c}});o.localize.preprocessor&&(l=o.localize.preprocessor(a,l));const d={firstWeekContainsDate:s,weekStartsOn:i,locale:o};return l.map(c=>{if(!c.isToken)return c.value;const m=c.value;(!n?.useAdditionalWeekYearTokens&&Vf(m)||!n?.useAdditionalDayOfYearTokens&&Of(m))&&_f(m,t,String(e));const f=fa[m[0]];return f(a,m,o.localize,d)}).join("")}function jf(e){const t=e.match(zf);return t?t[1].replace(Ff,"'"):e}function Yf(e,t){const n=we(e,t?.in),r=n.getFullYear(),o=n.getMonth(),s=Te(n,0);return s.setFullYear(r,o+1,0),s.setHours(0,0,0,0),s.getDate()}function qf(e,t){return we(e,t?.in).getMonth()}function Kf(e,t){return we(e,t?.in).getFullYear()}function Gf(e,t){return+we(e)>+we(t)}function Zf(e,t){return+we(e)<+we(t)}function Xf(e,t,n){const[r,o]=nn(n?.in,e,t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function Qf(e,t,n){const[r,o]=nn(n?.in,e,t);return r.getFullYear()===o.getFullYear()}function Jf(e,t,n){const r=we(e,n?.in),o=r.getFullYear(),s=r.getDate(),i=Te(e,0);i.setFullYear(o,t,15),i.setHours(0,0,0,0);const a=Yf(i);return r.setMonth(t,Math.min(s,a)),r}function Rf(e,t,n){const r=we(e,n?.in);return isNaN(+r)?Te(e,NaN):(r.setFullYear(t),r)}const Na=5,ep=4;function tp(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,o=t.addDays(e,-r+1),s=t.addDays(o,Na*7-1);return t.getMonth(e)===t.getMonth(s)?Na:ep}function ya(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function np(e,t){const n=ya(e,t),r=tp(e,t);return t.addDays(n,r*7-1)}class Ye{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Be.tz(this.options.timeZone):new this.Date,this.newDate=(r,o,s)=>this.overrides?.newDate?this.overrides.newDate(r,o,s):this.options.timeZone?new Be(r,o,s,this.options.timeZone):new Date(r,o,s),this.addDays=(r,o)=>this.overrides?.addDays?this.overrides.addDays(r,o):ta(r,o),this.addMonths=(r,o)=>this.overrides?.addMonths?this.overrides.addMonths(r,o):na(r,o),this.addWeeks=(r,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,o):Bm(r,o),this.addYears=(r,o)=>this.overrides?.addYears?this.overrides.addYears(r,o):$m(r,o),this.differenceInCalendarDays=(r,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,o):sa(r,o),this.differenceInCalendarMonths=(r,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,o):Um(r,o),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):Ym(r),this.eachYearOfInterval=r=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):Gm(r),s=new Set(o.map(a=>this.getYear(a)));if(s.size===o.length)return o;const i=[];return s.forEach(a=>{i.push(new Date(a,0,1))}),i},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):np(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):Zm(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):jm(r),this.endOfWeek=(r,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,o):ca(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):Km(r),this.format=(r,o,s)=>{const i=this.overrides?.format?this.overrides.format(r,o,this.options):Uf(r,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(i):i},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):ua(r),this.getMonth=(r,o)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):qf(r,this.options),this.getYear=(r,o)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):Kf(r,this.options),this.getWeek=(r,o)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):ma(r,this.options),this.isAfter=(r,o)=>this.overrides?.isAfter?this.overrides.isAfter(r,o):Gf(r,o),this.isBefore=(r,o)=>this.overrides?.isBefore?this.overrides.isBefore(r,o):Zf(r,o),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):ia(r),this.isSameDay=(r,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,o):Fm(r,o),this.isSameMonth=(r,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,o):Xf(r,o),this.isSameYear=(r,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,o):Qf(r,o),this.max=r=>this.overrides?.max?this.overrides.max(r):Wm(r),this.min=r=>this.overrides?.min?this.overrides.min(r):zm(r),this.setMonth=(r,o)=>this.overrides?.setMonth?this.overrides.setMonth(r,o):Jf(r,o),this.setYear=(r,o)=>this.overrides?.setYear?this.overrides.setYear(r,o):Rf(r,o),this.startOfBroadcastWeek=(r,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):ya(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):zn(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):Wn(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):qm(r),this.startOfWeek=(r,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):tn(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):la(r),this.options={locale:Vo,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let o=0;o<10;o++)r[o.toString()]=n.format(o);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Ye.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:r,numerals:o}=this.options,s=n?.code;if(s&&Ye.yearFirstLocales.has(s))try{return new Intl.DateTimeFormat(s,{month:"long",year:"numeric",timeZone:r,numberingSystem:o}).format(t)}catch{}const i=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,i)}}Ye.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const lt=new Ye;class xa{constructor(t,n,r=lt){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class rp{constructor(t,n){this.date=t,this.weeks=n}}class op{constructor(t,n){this.days=n,this.weekNumber=t}}function sp(e){return h.createElement("button",{...e})}function ip(e){return h.createElement("span",{...e})}function ap(e){const{size:t=24,orientation:n="left",className:r}=e;return h.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&h.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&h.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&h.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&h.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function lp(e){const{day:t,modifiers:n,...r}=e;return h.createElement("td",{...r})}function cp(e){const{day:t,modifiers:n,...r}=e,o=h.useRef(null);return h.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),h.createElement("button",{ref:o,...r})}var X;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(X||(X={}));var Ce;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Ce||(Ce={}));var tt;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(tt||(tt={}));var qe;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(qe||(qe={}));function up(e){const{options:t,className:n,components:r,classNames:o,...s}=e,i=[o[X.Dropdown],n].join(" "),a=t?.find(({value:l})=>l===s.value);return h.createElement("span",{"data-disabled":s.disabled,className:o[X.DropdownRoot]},h.createElement(r.Select,{className:i,...s},t?.map(({value:l,label:d,disabled:c})=>h.createElement(r.Option,{key:l,value:l,disabled:c},d))),h.createElement("span",{className:o[X.CaptionLabel],"aria-hidden":!0},a?.label,h.createElement(r.Chevron,{orientation:"down",size:18,className:o[X.Chevron]})))}function dp(e){return h.createElement("div",{...e})}function mp(e){return h.createElement("div",{...e})}function fp(e){const{calendarMonth:t,displayIndex:n,...r}=e;return h.createElement("div",{...r},e.children)}function pp(e){const{calendarMonth:t,displayIndex:n,...r}=e;return h.createElement("div",{...r})}function hp(e){return h.createElement("table",{...e})}function gp(e){return h.createElement("div",{...e})}const va=h.createContext(void 0);function Un(){const e=h.useContext(va);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function bp(e){const{components:t}=Un();return h.createElement(t.Dropdown,{...e})}function Np(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:o,...s}=e,{components:i,classNames:a,labels:{labelPrevious:l,labelNext:d}}=Un(),c=h.useCallback(f=>{o&&n?.(f)},[o,n]),m=h.useCallback(f=>{r&&t?.(f)},[r,t]);return h.createElement("nav",{...s},h.createElement(i.PreviousMonthButton,{type:"button",className:a[X.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:m},h.createElement(i.Chevron,{disabled:r?void 0:!0,className:a[X.Chevron],orientation:"left"})),h.createElement(i.NextMonthButton,{type:"button",className:a[X.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":d(o),onClick:c},h.createElement(i.Chevron,{disabled:o?void 0:!0,orientation:"right",className:a[X.Chevron]})))}function yp(e){const{components:t}=Un();return h.createElement(t.Button,{...e})}function xp(e){return h.createElement("option",{...e})}function vp(e){const{components:t}=Un();return h.createElement(t.Button,{...e})}function wp(e){const{rootRef:t,...n}=e;return h.createElement("div",{...n,ref:t})}function kp(e){return h.createElement("select",{...e})}function Ep(e){const{week:t,...n}=e;return h.createElement("tr",{...n})}function Cp(e){return h.createElement("th",{...e})}function Sp(e){return h.createElement("thead",{"aria-hidden":!0},h.createElement("tr",{...e}))}function Tp(e){const{week:t,...n}=e;return h.createElement("th",{...n})}function Mp(e){return h.createElement("th",{...e})}function Dp(e){return h.createElement("tbody",{...e})}function Ap(e){const{components:t}=Un();return h.createElement(t.Dropdown,{...e})}const Pp=Object.freeze(Object.defineProperty({__proto__:null,Button:sp,CaptionLabel:ip,Chevron:ap,Day:lp,DayButton:cp,Dropdown:up,DropdownNav:dp,Footer:mp,Month:fp,MonthCaption:pp,MonthGrid:hp,Months:gp,MonthsDropdown:bp,Nav:Np,NextMonthButton:yp,Option:xp,PreviousMonthButton:vp,Root:wp,Select:kp,Week:Ep,WeekNumber:Tp,WeekNumberHeader:Mp,Weekday:Cp,Weekdays:Sp,Weeks:Dp,YearsDropdown:Ap},Symbol.toStringTag,{value:"Module"}));function gt(e,t,n=!1,r=lt){let{from:o,to:s}=e;const{differenceInCalendarDays:i,isSameDay:a}=r;return o&&s?(i(s,o)<0&&([o,s]=[s,o]),i(t,o)>=(n?1:0)&&i(s,t)>=(n?1:0)):!n&&s?a(s,t):!n&&o?a(o,t):!1}function wa(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function _o(e){return!!(e&&typeof e=="object"&&"from"in e)}function ka(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ea(e){return!!(e&&typeof e=="object"&&"before"in e)}function Ca(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Sa(e,t){return Array.isArray(e)&&e.every(t.isDate)}function bt(e,t,n=lt){const r=Array.isArray(t)?t:[t],{isSameDay:o,differenceInCalendarDays:s,isAfter:i}=n;return r.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return o(e,a);if(Sa(a,n))return a.includes(e);if(_o(a))return gt(a,e,!1,n);if(Ca(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(e.getDay()):a.dayOfWeek===e.getDay();if(wa(a)){const l=s(a.before,e),d=s(a.after,e),c=l>0,m=d<0;return i(a.before,a.after)?m&&c:c||m}return ka(a)?s(e,a.after)>0:Ea(a)?s(a.before,e)>0:typeof a=="function"?a(e):!1})}function Ip(e,t,n,r,o){const{disabled:s,hidden:i,modifiers:a,showOutsideDays:l,broadcastCalendar:d,today:c}=t,{isSameDay:m,isSameMonth:f,startOfMonth:p,isBefore:N,endOfMonth:g,isAfter:b}=o,v=n&&p(n),y=r&&g(r),w={[Ce.focused]:[],[Ce.outside]:[],[Ce.disabled]:[],[Ce.hidden]:[],[Ce.today]:[]},D={};for(const k of e){const{date:S,displayMonth:E}=k,A=!!(E&&!f(S,E)),x=!!(v&&N(S,v)),T=!!(y&&b(S,y)),M=!!(s&&bt(S,s,o)),O=!!(i&&bt(S,i,o))||x||T||!d&&!l&&A||d&&l===!1&&A,I=m(S,c??o.today());A&&w.outside.push(k),M&&w.disabled.push(k),O&&w.hidden.push(k),I&&w.today.push(k),a&&Object.keys(a).forEach(V=>{const W=a?.[V];W&&bt(S,W,o)&&(D[V]?D[V].push(k):D[V]=[k])})}return k=>{const S={[Ce.focused]:!1,[Ce.disabled]:!1,[Ce.hidden]:!1,[Ce.outside]:!1,[Ce.today]:!1},E={};for(const A in w){const x=w[A];S[A]=x.some(T=>T===k)}for(const A in D)E[A]=D[A].some(x=>x===k);return{...S,...E}}}function Lp(e,t,n={}){return Object.entries(e).filter(([,o])=>o===!0).reduce((o,[s])=>(n[s]?o.push(n[s]):t[Ce[s]]?o.push(t[Ce[s]]):t[tt[s]]&&o.push(t[tt[s]]),o),[t[X.Day]])}function Op(e){return{...Pp,...e}}function Vp(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function Bo(){const e={};for(const t in X)e[X[t]]=`rdp-${X[t]}`;for(const t in Ce)e[Ce[t]]=`rdp-${Ce[t]}`;for(const t in tt)e[tt[t]]=`rdp-${tt[t]}`;for(const t in qe)e[qe[t]]=`rdp-${qe[t]}`;return e}function Ta(e,t,n){return(n??new Ye(t)).formatMonthYear(e)}const _p=Ta;function Bp(e,t,n){return(n??new Ye(t)).format(e,"d")}function $p(e,t=lt){return t.format(e,"LLLL")}function Wp(e,t,n){return(n??new Ye(t)).format(e,"cccccc")}function zp(e,t=lt){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function Fp(){return""}function Ma(e,t=lt){return t.format(e,"yyyy")}const Hp=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Ta,formatDay:Bp,formatMonthCaption:_p,formatMonthDropdown:$p,formatWeekNumber:zp,formatWeekNumberHeader:Fp,formatWeekdayName:Wp,formatYearCaption:Ma,formatYearDropdown:Ma},Symbol.toStringTag,{value:"Module"}));function Up(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...Hp,...e}}function jp(e,t,n,r,o){const{startOfMonth:s,startOfYear:i,endOfYear:a,eachMonthOfInterval:l,getMonth:d}=o;return l({start:i(e),end:a(e)}).map(f=>{const p=r.formatMonthDropdown(f,o),N=d(f),g=t&&f<s(t)||n&&f>s(n)||!1;return{value:N,label:p,disabled:g}})}function Yp(e,t={},n={}){let r={...t?.[X.Day]};return Object.entries(e).filter(([,o])=>o===!0).forEach(([o])=>{r={...r,...n?.[o]}}),r}function qp(e,t,n){const r=e.today(),o=t?e.startOfISOWeek(r):e.startOfWeek(r),s=[];for(let i=0;i<7;i++){const a=e.addDays(o,i);s.push(a)}return s}function Kp(e,t,n,r,o=!1){if(!e||!t)return;const{startOfYear:s,endOfYear:i,eachYearOfInterval:a,getYear:l}=r,d=s(e),c=i(t),m=a({start:d,end:c});return o&&m.reverse(),m.map(f=>{const p=n.formatYearDropdown(f,r);return{value:l(f),label:p,disabled:!1}})}function Da(e,t,n,r){let o=(r??new Ye(n)).format(e,"PPPP");return t.today&&(o=`Today, ${o}`),t.selected&&(o=`${o}, selected`),o}const Gp=Da;function Aa(e,t,n){return(n??new Ye(t)).formatMonthYear(e)}const Zp=Aa;function Xp(e,t,n,r){let o=(r??new Ye(n)).format(e,"PPPP");return t?.today&&(o=`Today, ${o}`),o}function Qp(e){return"Choose the Month"}function Jp(){return""}function Rp(e){return"Go to the Next Month"}function eh(e){return"Go to the Previous Month"}function th(e,t,n){return(n??new Ye(t)).format(e,"cccc")}function nh(e,t){return`Week ${e}`}function rh(e){return"Week Number"}function oh(e){return"Choose the Year"}const sh=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Zp,labelDay:Gp,labelDayButton:Da,labelGrid:Aa,labelGridcell:Xp,labelMonthDropdown:Qp,labelNav:Jp,labelNext:Rp,labelPrevious:eh,labelWeekNumber:nh,labelWeekNumberHeader:rh,labelWeekday:th,labelYearDropdown:oh},Symbol.toStringTag,{value:"Module"})),jn=e=>e instanceof HTMLElement?e:null,$o=e=>[...e.querySelectorAll("[data-animated-month]")??[]],ih=e=>jn(e.querySelector("[data-animated-month]")),Wo=e=>jn(e.querySelector("[data-animated-caption]")),zo=e=>jn(e.querySelector("[data-animated-weeks]")),ah=e=>jn(e.querySelector("[data-animated-nav]")),lh=e=>jn(e.querySelector("[data-animated-weekdays]"));function ch(e,t,{classNames:n,months:r,focused:o,dateLib:s}){const i=h.useRef(null),a=h.useRef(r),l=h.useRef(!1);h.useLayoutEffect(()=>{const d=a.current;if(a.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const c=s.isSameMonth(r[0].date,d[0].date),m=s.isAfter(r[0].date,d[0].date),f=m?n[qe.caption_after_enter]:n[qe.caption_before_enter],p=m?n[qe.weeks_after_enter]:n[qe.weeks_before_enter],N=i.current,g=e.current.cloneNode(!0);if(g instanceof HTMLElement?($o(g).forEach(w=>{if(!(w instanceof HTMLElement))return;const D=ih(w);D&&w.contains(D)&&w.removeChild(D);const k=Wo(w);k&&k.classList.remove(f);const S=zo(w);S&&S.classList.remove(p)}),i.current=g):i.current=null,l.current||c||o)return;const b=N instanceof HTMLElement?$o(N):[],v=$o(e.current);if(v?.every(y=>y instanceof HTMLElement)&&b&&b.every(y=>y instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const y=ah(e.current);y&&(y.style.zIndex="1"),v.forEach((w,D)=>{const k=b[D];if(!k)return;w.style.position="relative",w.style.overflow="hidden";const S=Wo(w);S&&S.classList.add(f);const E=zo(w);E&&E.classList.add(p);const A=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),y&&(y.style.zIndex=""),S&&S.classList.remove(f),E&&E.classList.remove(p),w.style.position="",w.style.overflow="",w.contains(k)&&w.removeChild(k)};k.style.pointerEvents="none",k.style.position="absolute",k.style.overflow="hidden",k.setAttribute("aria-hidden","true");const x=lh(k);x&&(x.style.opacity="0");const T=Wo(k);T&&(T.classList.add(m?n[qe.caption_before_exit]:n[qe.caption_after_exit]),T.addEventListener("animationend",A));const M=zo(k);M&&M.classList.add(m?n[qe.weeks_before_exit]:n[qe.weeks_after_exit]),w.insertBefore(k,w.firstChild)})}})}function uh(e,t,n,r){const o=e[0],s=e[e.length-1],{ISOWeek:i,fixedWeeks:a,broadcastCalendar:l}=n??{},{addDays:d,differenceInCalendarDays:c,differenceInCalendarMonths:m,endOfBroadcastWeek:f,endOfISOWeek:p,endOfMonth:N,endOfWeek:g,isAfter:b,startOfBroadcastWeek:v,startOfISOWeek:y,startOfWeek:w}=r,D=l?v(o,r):i?y(o):w(o),k=l?f(s):i?p(N(s)):g(N(s)),S=c(k,D),E=m(s,o)+1,A=[];for(let M=0;M<=S;M++){const O=d(D,M);if(t&&b(O,t))break;A.push(O)}const T=(l?35:42)*E;if(a&&A.length<T){const M=T-A.length;for(let O=0;O<M;O++){const I=d(A[A.length-1],1);A.push(I)}}return A}function dh(e){const t=[];return e.reduce((n,r)=>{const o=r.weeks.reduce((s,i)=>s.concat(i.days.slice()),t.slice());return n.concat(o.slice())},t.slice())}function mh(e,t,n,r){const{numberOfMonths:o=1}=n,s=[];for(let i=0;i<o;i++){const a=r.addMonths(e,i);if(t&&a>t)break;s.push(a)}return s}function Pa(e,t,n,r){const{month:o,defaultMonth:s,today:i=r.today(),numberOfMonths:a=1}=e;let l=o||s||i;const{differenceInCalendarMonths:d,addMonths:c,startOfMonth:m}=r;if(n&&d(n,l)<a-1){const f=-1*(a-1);l=c(n,f)}return t&&d(l,t)<0&&(l=t),m(l)}function fh(e,t,n,r){const{addDays:o,endOfBroadcastWeek:s,endOfISOWeek:i,endOfMonth:a,endOfWeek:l,getISOWeek:d,getWeek:c,startOfBroadcastWeek:m,startOfISOWeek:f,startOfWeek:p}=r,N=e.reduce((g,b)=>{const v=n.broadcastCalendar?m(b,r):n.ISOWeek?f(b):p(b),y=n.broadcastCalendar?s(b):n.ISOWeek?i(a(b)):l(a(b)),w=t.filter(E=>E>=v&&E<=y),D=n.broadcastCalendar?35:42;if(n.fixedWeeks&&w.length<D){const E=t.filter(A=>{const x=D-w.length;return A>y&&A<=o(y,x)});w.push(...E)}const k=w.reduce((E,A)=>{const x=n.ISOWeek?d(A):c(A),T=E.find(O=>O.weekNumber===x),M=new xa(A,b,r);return T?T.days.push(M):E.push(new op(x,[M])),E},[]),S=new rp(b,k);return g.push(S),g},[]);return n.reverseMonths?N.reverse():N}function ph(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:o,startOfDay:s,startOfMonth:i,endOfMonth:a,addYears:l,endOfYear:d,newDate:c,today:m}=t,{fromYear:f,toYear:p,fromMonth:N,toMonth:g}=e;!n&&N&&(n=N),!n&&f&&(n=t.newDate(f,0,1)),!r&&g&&(r=g),!r&&p&&(r=c(p,11,31));const b=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=i(n):f?n=c(f,0,1):!n&&b&&(n=o(l(e.today??m(),-100))),r?r=a(r):p?r=c(p,11,31):!r&&b&&(r=d(e.today??m())),[n&&s(n),r&&s(r)]}function hh(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:s=1}=n,{startOfMonth:i,addMonths:a,differenceInCalendarMonths:l}=r,d=o?s:1,c=i(e);if(!t)return a(c,d);if(!(l(t,e)<s))return a(c,d)}function gh(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:s}=n,{startOfMonth:i,addMonths:a,differenceInCalendarMonths:l}=r,d=o?s??1:1,c=i(e);if(!t)return a(c,-d);if(!(l(c,t)<=0))return a(c,-d)}function bh(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function wr(e,t){const[n,r]=h.useState(e);return[t===void 0?n:t,r]}function Nh(e,t){const[n,r]=ph(e,t),{startOfMonth:o,endOfMonth:s}=t,i=Pa(e,n,r,t),[a,l]=wr(i,e.month?i:void 0);h.useEffect(()=>{const S=Pa(e,n,r,t);l(S)},[e.timeZone]);const d=mh(a,r,e,t),c=uh(d,e.endMonth?s(e.endMonth):void 0,e,t),m=fh(d,c,e,t),f=bh(m),p=dh(m),N=gh(a,n,e,t),g=hh(a,r,e,t),{disableNavigation:b,onMonthChange:v}=e,y=S=>f.some(E=>E.days.some(A=>A.isEqualTo(S))),w=S=>{if(b)return;let E=o(S);n&&E<o(n)&&(E=o(n)),r&&E>o(r)&&(E=o(r)),l(E),v?.(E)};return{months:m,weeks:f,days:p,navStart:n,navEnd:r,previousMonth:N,nextMonth:g,goToMonth:w,goToDay:S=>{y(S)||w(S.date)}}}var ct;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ct||(ct={}));function Ia(e){return!e[Ce.disabled]&&!e[Ce.hidden]&&!e[Ce.outside]}function yh(e,t,n,r){let o,s=-1;for(const i of e){const a=t(i);Ia(a)&&(a[Ce.focused]&&s<ct.FocusedModifier?(o=i,s=ct.FocusedModifier):r?.isEqualTo(i)&&s<ct.LastFocused?(o=i,s=ct.LastFocused):n(i.date)&&s<ct.Selected?(o=i,s=ct.Selected):a[Ce.today]&&s<ct.Today&&(o=i,s=ct.Today))}return o||(o=e.find(i=>Ia(t(i)))),o}function xh(e,t,n,r,o,s,i){const{ISOWeek:a,broadcastCalendar:l}=s,{addDays:d,addMonths:c,addWeeks:m,addYears:f,endOfBroadcastWeek:p,endOfISOWeek:N,endOfWeek:g,max:b,min:v,startOfBroadcastWeek:y,startOfISOWeek:w,startOfWeek:D}=i;let S={day:d,week:m,month:c,year:f,startOfWeek:E=>l?y(E,i):a?w(E):D(E),endOfWeek:E=>l?p(E):a?N(E):g(E)}[e](n,t==="after"?1:-1);return t==="before"&&r?S=b([r,S]):t==="after"&&o&&(S=v([o,S])),S}function La(e,t,n,r,o,s,i,a=0){if(a>365)return;const l=xh(e,t,n.date,r,o,s,i),d=!!(s.disabled&&bt(l,s.disabled,i)),c=!!(s.hidden&&bt(l,s.hidden,i)),m=l,f=new xa(l,m,i);return!d&&!c?f:La(e,t,f,r,o,s,i,a+1)}function vh(e,t,n,r,o){const{autoFocus:s}=e,[i,a]=h.useState(),l=yh(t.days,n,r||(()=>!1),i),[d,c]=h.useState(s?l:void 0);return{isFocusTarget:g=>!!l?.isEqualTo(g),setFocused:c,focused:d,blur:()=>{a(d),c(void 0)},moveFocus:(g,b)=>{if(!d)return;const v=La(g,b,d,t.navStart,t.navEnd,e,o);v&&(e.disableNavigation&&!t.days.some(w=>w.isEqualTo(v))||(t.goToDay(v),c(v)))}}}function wh(e,t){const{selected:n,required:r,onSelect:o}=e,[s,i]=wr(n,o?n:void 0),a=o?n:s,{isSameDay:l}=t,d=p=>a?.some(N=>l(N,p))??!1,{min:c,max:m}=e;return{selected:a,select:(p,N,g)=>{let b=[...a??[]];if(d(p)){if(a?.length===c||r&&a?.length===1)return;b=a?.filter(v=>!l(v,p))}else a?.length===m?b=[p]:b=[...b,p];return o||i(b),o?.(b,p,N,g),b},isSelected:d}}function kh(e,t,n=0,r=0,o=!1,s=lt){const{from:i,to:a}=t||{},{isSameDay:l,isAfter:d,isBefore:c}=s;let m;if(!i&&!a)m={from:e,to:n>0?void 0:e};else if(i&&!a)l(i,e)?n===0?m={from:i,to:e}:o?m={from:i,to:void 0}:m=void 0:c(e,i)?m={from:e,to:i}:m={from:i,to:e};else if(i&&a)if(l(i,e)&&l(a,e))o?m={from:i,to:a}:m=void 0;else if(l(i,e))m={from:i,to:n>0?void 0:e};else if(l(a,e))m={from:e,to:n>0?void 0:e};else if(c(e,i))m={from:e,to:a};else if(d(e,i))m={from:i,to:e};else if(d(e,a))m={from:i,to:e};else throw new Error("Invalid range");if(m?.from&&m?.to){const f=s.differenceInCalendarDays(m.to,m.from);r>0&&f>r?m={from:e,to:void 0}:n>1&&f<n&&(m={from:e,to:void 0})}return m}function Eh(e,t,n=lt){const r=Array.isArray(t)?t:[t];let o=e.from;const s=n.differenceInCalendarDays(e.to,e.from),i=Math.min(s,6);for(let a=0;a<=i;a++){if(r.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function Oa(e,t,n=lt){return gt(e,t.from,!1,n)||gt(e,t.to,!1,n)||gt(t,e.from,!1,n)||gt(t,e.to,!1,n)}function Ch(e,t,n=lt){const r=Array.isArray(t)?t:[t];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?gt(e,a,!1,n):Sa(a,n)?a.some(l=>gt(e,l,!1,n)):_o(a)?a.from&&a.to?Oa(e,{from:a.from,to:a.to},n):!1:Ca(a)?Eh(e,a.dayOfWeek,n):wa(a)?n.isAfter(a.before,a.after)?Oa(e,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):bt(e.from,a,n)||bt(e.to,a,n):ka(a)||Ea(a)?bt(e.from,a,n)||bt(e.to,a,n):!1))return!0;const i=r.filter(a=>typeof a=="function");if(i.length){let a=e.from;const l=n.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=l;d++){if(i.some(c=>c(a)))return!0;a=n.addDays(a,1)}}return!1}function Sh(e,t){const{disabled:n,excludeDisabled:r,selected:o,required:s,onSelect:i}=e,[a,l]=wr(o,i?o:void 0),d=i?o:a;return{selected:d,select:(f,p,N)=>{const{min:g,max:b}=e,v=f?kh(f,d,g,b,s,t):void 0;return r&&n&&v?.from&&v.to&&Ch({from:v.from,to:v.to},n,t)&&(v.from=f,v.to=void 0),i||l(v),i?.(v,f,p,N),v},isSelected:f=>d&&gt(d,f,!1,t)}}function Th(e,t){const{selected:n,required:r,onSelect:o}=e,[s,i]=wr(n,o?n:void 0),a=o?n:s,{isSameDay:l}=t;return{selected:a,select:(m,f,p)=>{let N=m;return!r&&a&&a&&l(m,a)&&(N=void 0),o||i(N),o?.(N,m,f,p),N},isSelected:m=>a?l(a,m):!1}}function Mh(e,t){const n=Th(e,t),r=wh(e,t),o=Sh(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return o;default:return}}function Dh(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new Be(t.today,t.timeZone)),t.month&&(t.month=new Be(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new Be(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new Be(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new Be(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new Be(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(le=>new Be(le,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new Be(t.selected.from,t.timeZone):void 0,to:t.selected.to?new Be(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:r,labels:o,dateLib:s,locale:i,classNames:a}=h.useMemo(()=>{const le={...Vo,...t.locale};return{dateLib:new Ye({locale:le,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Op(t.components),formatters:Up(t.formatters),labels:{...sh,...t.labels},locale:le,classNames:{...Bo(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:l,mode:d,navLayout:c,numberOfMonths:m=1,onDayBlur:f,onDayClick:p,onDayFocus:N,onDayKeyDown:g,onDayMouseEnter:b,onDayMouseLeave:v,onNextClick:y,onPrevClick:w,showWeekNumber:D,styles:k}=t,{formatCaption:S,formatDay:E,formatMonthDropdown:A,formatWeekNumber:x,formatWeekNumberHeader:T,formatWeekdayName:M,formatYearDropdown:O}=r,I=Nh(t,s),{days:V,months:W,navStart:U,navEnd:K,previousMonth:L,nextMonth:z,goToMonth:Q}=I,re=Ip(V,t,U,K,s),{isSelected:oe,select:te,selected:ne}=Mh(t,s)??{},{blur:B,focused:Y,isFocusTarget:q,moveFocus:R,setFocused:Ne}=vh(t,I,re,oe??(()=>!1),s),{labelDayButton:ke,labelGridcell:Se,labelGrid:Ve,labelMonthDropdown:Je,labelNav:Bt,labelPrevious:dr,labelNext:mr,labelWeekday:No,labelWeekNumber:yo,labelWeekNumberHeader:xo,labelYearDropdown:vo}=o,Tn=h.useMemo(()=>qp(s,t.ISOWeek),[s,t.ISOWeek]),fr=d!==void 0||p!==void 0,Mn=h.useCallback(()=>{L&&(Q(L),w?.(L))},[L,Q,w]),Dn=h.useCallback(()=>{z&&(Q(z),y?.(z))},[Q,z,y]),wo=h.useCallback((le,de)=>ee=>{ee.preventDefault(),ee.stopPropagation(),Ne(le),te?.(le.date,de,ee),p?.(le.date,de,ee)},[te,p,Ne]),ci=h.useCallback((le,de)=>ee=>{Ne(le),N?.(le.date,de,ee)},[N,Ne]),ui=h.useCallback((le,de)=>ee=>{B(),f?.(le.date,de,ee)},[B,f]),di=h.useCallback((le,de)=>ee=>{const ge={ArrowLeft:[ee.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ee.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ee.shiftKey?"year":"week","after"],ArrowUp:[ee.shiftKey?"year":"week","before"],PageUp:[ee.shiftKey?"year":"month","before"],PageDown:[ee.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(ge[ee.key]){ee.preventDefault(),ee.stopPropagation();const[Ue,fe]=ge[ee.key];R(Ue,fe)}g?.(le.date,de,ee)},[R,g,t.dir]),mi=h.useCallback((le,de)=>ee=>{b?.(le.date,de,ee)},[b]),Ct=h.useCallback((le,de)=>ee=>{v?.(le.date,de,ee)},[v]),An=h.useCallback(le=>de=>{const ee=Number(de.target.value),ge=s.setMonth(s.startOfMonth(le),ee);Q(ge)},[s,Q]),Pn=h.useCallback(le=>de=>{const ee=Number(de.target.value),ge=s.setYear(s.startOfMonth(le),ee);Q(ge)},[s,Q]),{className:fi,style:Re}=h.useMemo(()=>({className:[a[X.Root],t.className].filter(Boolean).join(" "),style:{...k?.[X.Root],...t.style}}),[a,t.className,t.style,k]),$t=Vp(t),ko=h.useRef(null);ch(ko,!!t.animate,{classNames:a,months:W,focused:Y,dateLib:s});const Eo={dayPickerProps:t,selected:ne,select:te,isSelected:oe,months:W,nextMonth:z,previousMonth:L,goToMonth:Q,getModifiers:re,components:n,classNames:a,styles:k,labels:o,formatters:r};return h.createElement(va.Provider,{value:Eo},h.createElement(n.Root,{rootRef:t.animate?ko:void 0,className:fi,style:Re,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...$t},h.createElement(n.Months,{className:a[X.Months],style:k?.[X.Months]},!t.hideNavigation&&!c&&h.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[X.Nav],style:k?.[X.Nav],"aria-label":Bt(),onPreviousClick:Mn,onNextClick:Dn,previousMonth:L,nextMonth:z}),W.map((le,de)=>h.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:a[X.Month],style:k?.[X.Month],key:de,displayIndex:de,calendarMonth:le},c==="around"&&!t.hideNavigation&&de===0&&h.createElement(n.PreviousMonthButton,{type:"button",className:a[X.PreviousMonthButton],tabIndex:L?void 0:-1,"aria-disabled":L?void 0:!0,"aria-label":dr(L),onClick:Mn,"data-animated-button":t.animate?"true":void 0},h.createElement(n.Chevron,{disabled:L?void 0:!0,className:a[X.Chevron],orientation:t.dir==="rtl"?"right":"left"})),h.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:a[X.MonthCaption],style:k?.[X.MonthCaption],calendarMonth:le,displayIndex:de},l?.startsWith("dropdown")?h.createElement(n.DropdownNav,{className:a[X.Dropdowns],style:k?.[X.Dropdowns]},(()=>{const ee=l==="dropdown"||l==="dropdown-months"?h.createElement(n.MonthsDropdown,{key:"month",className:a[X.MonthsDropdown],"aria-label":Je(),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:An(le.date),options:jp(le.date,U,K,r,s),style:k?.[X.Dropdown],value:s.getMonth(le.date)}):h.createElement("span",{key:"month"},A(le.date,s)),ge=l==="dropdown"||l==="dropdown-years"?h.createElement(n.YearsDropdown,{key:"year",className:a[X.YearsDropdown],"aria-label":vo(s.options),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:Pn(le.date),options:Kp(U,K,r,s,!!t.reverseYears),style:k?.[X.Dropdown],value:s.getYear(le.date)}):h.createElement("span",{key:"year"},O(le.date,s));return s.getMonthYearOrder()==="year-first"?[ge,ee]:[ee,ge]})(),h.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},S(le.date,s.options,s))):h.createElement(n.CaptionLabel,{className:a[X.CaptionLabel],role:"status","aria-live":"polite"},S(le.date,s.options,s))),c==="around"&&!t.hideNavigation&&de===m-1&&h.createElement(n.NextMonthButton,{type:"button",className:a[X.NextMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":mr(z),onClick:Dn,"data-animated-button":t.animate?"true":void 0},h.createElement(n.Chevron,{disabled:z?void 0:!0,className:a[X.Chevron],orientation:t.dir==="rtl"?"left":"right"})),de===m-1&&c==="after"&&!t.hideNavigation&&h.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[X.Nav],style:k?.[X.Nav],"aria-label":Bt(),onPreviousClick:Mn,onNextClick:Dn,previousMonth:L,nextMonth:z}),h.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":Ve(le.date,s.options,s)||void 0,className:a[X.MonthGrid],style:k?.[X.MonthGrid]},!t.hideWeekdays&&h.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:a[X.Weekdays],style:k?.[X.Weekdays]},D&&h.createElement(n.WeekNumberHeader,{"aria-label":xo(s.options),className:a[X.WeekNumberHeader],style:k?.[X.WeekNumberHeader],scope:"col"},T()),Tn.map(ee=>h.createElement(n.Weekday,{"aria-label":No(ee,s.options,s),className:a[X.Weekday],key:String(ee),style:k?.[X.Weekday],scope:"col"},M(ee,s.options,s)))),h.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:a[X.Weeks],style:k?.[X.Weeks]},le.weeks.map(ee=>h.createElement(n.Week,{className:a[X.Week],key:ee.weekNumber,style:k?.[X.Week],week:ee},D&&h.createElement(n.WeekNumber,{week:ee,style:k?.[X.WeekNumber],"aria-label":yo(ee.weekNumber,{locale:i}),className:a[X.WeekNumber],scope:"row",role:"rowheader"},x(ee.weekNumber,s)),ee.days.map(ge=>{const{date:Ue}=ge,fe=re(ge);if(fe[Ce.focused]=!fe.hidden&&!!Y?.isEqualTo(ge),fe[tt.selected]=oe?.(Ue)||fe.selected,_o(ne)){const{from:pr,to:et}=ne;fe[tt.range_start]=!!(pr&&et&&s.isSameDay(Ue,pr)),fe[tt.range_end]=!!(pr&&et&&s.isSameDay(Ue,et)),fe[tt.range_middle]=gt(ne,Ue,!0,s)}const In=Yp(fe,k,t.modifiersStyles),je=Lp(fe,a,t.modifiersClassNames),Ln=!fr&&!fe.hidden?Se(Ue,fe,s.options,s):void 0;return h.createElement(n.Day,{key:`${s.format(Ue,"yyyy-MM-dd")}_${s.format(ge.displayMonth,"yyyy-MM")}`,day:ge,modifiers:fe,className:je.join(" "),style:In,role:"gridcell","aria-selected":fe.selected||void 0,"aria-label":Ln,"data-day":s.format(Ue,"yyyy-MM-dd"),"data-month":ge.outside?s.format(Ue,"yyyy-MM"):void 0,"data-selected":fe.selected||void 0,"data-disabled":fe.disabled||void 0,"data-hidden":fe.hidden||void 0,"data-outside":ge.outside||void 0,"data-focused":fe.focused||void 0,"data-today":fe.today||void 0},!fe.hidden&&fr?h.createElement(n.DayButton,{className:a[X.DayButton],style:k?.[X.DayButton],type:"button",day:ge,modifiers:fe,disabled:fe.disabled||void 0,tabIndex:q(ge)?0:-1,"aria-label":ke(Ue,fe,s.options,s),onClick:wo(ge,fe),onBlur:ui(ge,fe),onFocus:ci(ge,fe),onKeyDown:di(ge,fe),onMouseEnter:mi(ge,fe),onMouseLeave:Ct(ge,fe)},E(Ue,s.options,s)):!fe.hidden&&E(ge.date,s.options,s))})))))))),t.footer&&h.createElement(n.Footer,{className:a[X.Footer],style:k?.[X.Footer],role:"status","aria-live":"polite"},t.footer)))}function Va(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Va(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _a(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Va(e))&&(r&&(r+=" "),r+=t);return r}const Fo="-",Ah=e=>{const t=Ih(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(Fo);return a[0]===""&&a.length!==1&&a.shift(),Ba(a,t)||Ph(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},Ba=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Ba(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(Fo);return t.validators.find(({validator:i})=>i(s))?.classGroupId},$a=/^\[(.+)\]$/,Ph=e=>{if($a.test(e)){const t=$a.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Ih=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const o in n)Ho(n[o],r,o,t);return r},Ho=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:Wa(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(Lh(o)){Ho(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{Ho(i,Wa(t,s),n,r)})})},Wa=(e,t)=>{let n=e;return t.split(Fo).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Lh=e=>e.isThemeGetter,Oh=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},Uo="!",jo=":",Vh=jo.length,_h=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const s=[];let i=0,a=0,l=0,d;for(let N=0;N<o.length;N++){let g=o[N];if(i===0&&a===0){if(g===jo){s.push(o.slice(l,N)),l=N+Vh;continue}if(g==="/"){d=N;continue}}g==="["?i++:g==="]"?i--:g==="("?a++:g===")"&&a--}const c=s.length===0?o:o.substring(l),m=Bh(c),f=m!==c,p=d&&d>l?d-l:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}};if(t){const o=t+jo,s=r;r=i=>i.startsWith(o)?s(i.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=s=>n({className:s,parseClassName:o})}return r},Bh=e=>e.endsWith(Uo)?e.substring(0,e.length-1):e.startsWith(Uo)?e.substring(1):e,$h=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let s=[];return r.forEach(i=>{i[0]==="["||t[i]?(o.push(...s.sort(),i),s=[]):s.push(i)}),o.push(...s.sort()),o}},Wh=e=>({cache:Oh(e.cacheSize),parseClassName:_h(e),sortModifiers:$h(e),...Ah(e)}),zh=/\s+/,Fh=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:s}=t,i=[],a=e.trim().split(zh);let l="";for(let d=a.length-1;d>=0;d-=1){const c=a[d],{isExternal:m,modifiers:f,hasImportantModifier:p,baseClassName:N,maybePostfixModifierPosition:g}=n(c);if(m){l=c+(l.length>0?" "+l:l);continue}let b=!!g,v=r(b?N.substring(0,g):N);if(!v){if(!b){l=c+(l.length>0?" "+l:l);continue}if(v=r(N),!v){l=c+(l.length>0?" "+l:l);continue}b=!1}const y=s(f).join(":"),w=p?y+Uo:y,D=w+v;if(i.includes(D))continue;i.push(D);const k=o(v,b);for(let S=0;S<k.length;++S){const E=k[S];i.push(w+E)}l=c+(l.length>0?" "+l:l)}return l};function Hh(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=za(t))&&(r&&(r+=" "),r+=n);return r}const za=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=za(e[r]))&&(n&&(n+=" "),n+=t);return n};function Uh(e,...t){let n,r,o,s=i;function i(l){const d=t.reduce((c,m)=>m(c),e());return n=Wh(d),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const d=r(l);if(d)return d;const c=Fh(l,n);return o(l,c),c}return function(){return s(Hh.apply(null,arguments))}}const Ae=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Fa=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ha=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jh=/^\d+\/\d+$/,Yh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kh=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Gh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,on=e=>jh.test(e),ue=e=>!!e&&!Number.isNaN(Number(e)),Dt=e=>!!e&&Number.isInteger(Number(e)),Yo=e=>e.endsWith("%")&&ue(e.slice(0,-1)),Nt=e=>Yh.test(e),Xh=()=>!0,Qh=e=>qh.test(e)&&!Kh.test(e),Ua=()=>!1,Jh=e=>Gh.test(e),Rh=e=>Zh.test(e),eg=e=>!G(e)&&!Z(e),tg=e=>sn(e,Ga,Ua),G=e=>Fa.test(e),Ut=e=>sn(e,Za,Qh),qo=e=>sn(e,ig,ue),ja=e=>sn(e,qa,Ua),ng=e=>sn(e,Ka,Rh),kr=e=>sn(e,Xa,Jh),Z=e=>Ha.test(e),Yn=e=>an(e,Za),rg=e=>an(e,ag),Ya=e=>an(e,qa),og=e=>an(e,Ga),sg=e=>an(e,Ka),Er=e=>an(e,Xa,!0),sn=(e,t,n)=>{const r=Fa.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},an=(e,t,n=!1)=>{const r=Ha.exec(e);return r?r[1]?t(r[1]):n:!1},qa=e=>e==="position"||e==="percentage",Ka=e=>e==="image"||e==="url",Ga=e=>e==="length"||e==="size"||e==="bg-size",Za=e=>e==="length",ig=e=>e==="number",ag=e=>e==="family-name",Xa=e=>e==="shadow",lg=Uh(()=>{const e=Ae("color"),t=Ae("font"),n=Ae("text"),r=Ae("font-weight"),o=Ae("tracking"),s=Ae("leading"),i=Ae("breakpoint"),a=Ae("container"),l=Ae("spacing"),d=Ae("radius"),c=Ae("shadow"),m=Ae("inset-shadow"),f=Ae("text-shadow"),p=Ae("drop-shadow"),N=Ae("blur"),g=Ae("perspective"),b=Ae("aspect"),v=Ae("ease"),y=Ae("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...D(),Z,G],S=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],A=()=>[Z,G,l],x=()=>[on,"full","auto",...A()],T=()=>[Dt,"none","subgrid",Z,G],M=()=>["auto",{span:["full",Dt,Z,G]},Dt,Z,G],O=()=>[Dt,"auto",Z,G],I=()=>["auto","min","max","fr",Z,G],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...A()],K=()=>[on,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],L=()=>[e,Z,G],z=()=>[...D(),Ya,ja,{position:[Z,G]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",og,tg,{size:[Z,G]}],oe=()=>[Yo,Yn,Ut],te=()=>["","none","full",d,Z,G],ne=()=>["",ue,Yn,Ut],B=()=>["solid","dashed","dotted","double"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>[ue,Yo,Ya,ja],R=()=>["","none",N,Z,G],Ne=()=>["none",ue,Z,G],ke=()=>["none",ue,Z,G],Se=()=>[ue,Z,G],Ve=()=>[on,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Nt],breakpoint:[Nt],color:[Xh],container:[Nt],"drop-shadow":[Nt],ease:["in","out","in-out"],font:[eg],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Nt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Nt],shadow:[Nt],spacing:["px",ue],text:[Nt],"text-shadow":[Nt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",on,G,Z,b]}],container:["container"],columns:[{columns:[ue,G,Z,a]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[Dt,"auto",Z,G]}],basis:[{basis:[on,"full","auto",a,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ue,on,"auto","initial","none",G]}],grow:[{grow:["",ue,Z,G]}],shrink:[{shrink:["",ue,Z,G]}],order:[{order:[Dt,"first","last","none",Z,G]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[a,"screen",...K()]}],"min-w":[{"min-w":[a,"screen","none",...K()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",n,Yn,Ut]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Z,qo]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Yo,G]}],"font-family":[{font:[rg,G,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Z,G]}],"line-clamp":[{"line-clamp":[ue,"none",Z,qo]}],leading:[{leading:[s,...A()]}],"list-image":[{"list-image":["none",Z,G]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Z,G]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[ue,"from-font","auto",Z,Ut]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[ue,"auto",Z,G]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z,G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z,G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Dt,Z,G],radial:["",Z,G],conic:[Dt,Z,G]},sg,ng]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:oe()}],"gradient-via-pos":[{via:oe()}],"gradient-to-pos":[{to:oe()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ue,Z,G]}],"outline-w":[{outline:["",ue,Yn,Ut]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",c,Er,kr]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",m,Er,kr]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[ue,Ut]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",f,Er,kr]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[ue,Z,G]}],"mix-blend":[{"mix-blend":[...Y(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Y()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":q()}],"mask-image-linear-to-pos":[{"mask-linear-to":q()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":q()}],"mask-image-t-to-pos":[{"mask-t-to":q()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":q()}],"mask-image-r-to-pos":[{"mask-r-to":q()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":q()}],"mask-image-b-to-pos":[{"mask-b-to":q()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":q()}],"mask-image-l-to-pos":[{"mask-l-to":q()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":q()}],"mask-image-x-to-pos":[{"mask-x-to":q()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":q()}],"mask-image-y-to-pos":[{"mask-y-to":q()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Z,G]}],"mask-image-radial-from-pos":[{"mask-radial-from":q()}],"mask-image-radial-to-pos":[{"mask-radial-to":q()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":q()}],"mask-image-conic-to-pos":[{"mask-conic-to":q()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Z,G]}],filter:[{filter:["","none",Z,G]}],blur:[{blur:R()}],brightness:[{brightness:[ue,Z,G]}],contrast:[{contrast:[ue,Z,G]}],"drop-shadow":[{"drop-shadow":["","none",p,Er,kr]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",ue,Z,G]}],"hue-rotate":[{"hue-rotate":[ue,Z,G]}],invert:[{invert:["",ue,Z,G]}],saturate:[{saturate:[ue,Z,G]}],sepia:[{sepia:["",ue,Z,G]}],"backdrop-filter":[{"backdrop-filter":["","none",Z,G]}],"backdrop-blur":[{"backdrop-blur":R()}],"backdrop-brightness":[{"backdrop-brightness":[ue,Z,G]}],"backdrop-contrast":[{"backdrop-contrast":[ue,Z,G]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ue,Z,G]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ue,Z,G]}],"backdrop-invert":[{"backdrop-invert":["",ue,Z,G]}],"backdrop-opacity":[{"backdrop-opacity":[ue,Z,G]}],"backdrop-saturate":[{"backdrop-saturate":[ue,Z,G]}],"backdrop-sepia":[{"backdrop-sepia":["",ue,Z,G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Z,G]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ue,"initial",Z,G]}],ease:[{ease:["linear","initial",v,Z,G]}],delay:[{delay:[ue,Z,G]}],animate:[{animate:["none",y,Z,G]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Z,G]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:ke()}],"scale-x":[{"scale-x":ke()}],"scale-y":[{"scale-y":ke()}],"scale-z":[{"scale-z":ke()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[Z,G,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z,G]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z,G]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[ue,Yn,Ut,qo]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function ie(...e){return lg(_a(e))}function Qa(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Cr(...e){return t=>{let n=!1;const r=e.map(o=>{const s=Qa(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Qa(e[o],null)}}}}function $e(...e){return C.useCallback(Cr(...e),e)}function qn(e){const t=ug(e),n=C.forwardRef((r,o)=>{const{children:s,...i}=r,a=C.Children.toArray(s),l=a.find(mg);if(l){const d=l.props.children,c=a.map(m=>m===l?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:m);return F.jsx(t,{...i,ref:o,children:C.isValidElement(d)?C.cloneElement(d,void 0,c):null})}return F.jsx(t,{...i,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var cg=qn("Slot");function ug(e){const t=C.forwardRef((n,r)=>{const{children:o,...s}=n;if(C.isValidElement(o)){const i=pg(o),a=fg(s,o.props);return o.type!==C.Fragment&&(a.ref=r?Cr(r,i):i),C.cloneElement(o,a)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ja=Symbol("radix.slottable");function dg(e){const t=({children:n})=>F.jsx(F.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Ja,t}function mg(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ja}function fg(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{const l=s(...a);return o(...a),l}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function pg(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Ra=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,el=_a,Ko=((e,t)=>n=>{var r;if(t?.variants==null)return el(e,n?.class,n?.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(d=>{const c=n?.[d],m=s?.[d];if(c===null)return null;const f=Ra(c)||Ra(m);return o[d][f]}),a=n&&Object.entries(n).reduce((d,c)=>{let[m,f]=c;return f===void 0||(d[m]=f),d},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,c)=>{let{class:m,className:f,...p}=c;return Object.entries(p).every(N=>{let[g,b]=N;return Array.isArray(b)?b.includes({...s,...a}[g]):{...s,...a}[g]===b})?[...d,m,f]:d},[]);return el(e,i,l,n?.class,n?.className)})("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-transparent shadow-xs hover:bg-accent dark:bg-transparent dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function At({className:e,variant:t,size:n,asChild:r=!1,...o}){const s=r?cg:"button";return u.jsxDEV(s,{"data-slot":"button",className:ie(Ko({variant:t,size:n,className:e})),...o},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/button.tsx",lineNumber:52,columnNumber:5},this)}function hg({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:o="ghost",formatters:s,components:i,...a}){const l=Bo();return u.jsxDEV(Dh,{showOutsideDays:n,className:ie("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:d=>d.toLocaleString("default",{month:"short"}),...s},classNames:{root:ie("w-fit",l.root),months:ie("flex gap-4 flex-col md:flex-row relative",l.months),month:ie("flex flex-col w-full gap-4",l.month),nav:ie("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",l.nav),button_previous:ie(Ko({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_previous),button_next:ie(Ko({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_next),month_caption:ie("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",l.month_caption),dropdowns:ie("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",l.dropdowns),dropdown_root:ie("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",l.dropdown_root),dropdown:ie("absolute bg-popover inset-0 opacity-0",l.dropdown),caption_label:ie("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:ie("flex",l.weekdays),weekday:ie("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",l.weekday),week:ie("flex w-full mt-2",l.week),week_number_header:ie("select-none w-(--cell-size)",l.week_number_header),week_number:ie("text-[0.8rem] select-none text-muted-foreground",l.week_number),day:ie("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",l.day),range_start:ie("rounded-l-md bg-accent",l.range_start),range_middle:ie("rounded-none",l.range_middle),range_end:ie("rounded-r-md bg-accent",l.range_end),today:ie("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",l.today),outside:ie("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:ie("text-muted-foreground opacity-50",l.disabled),hidden:ie("invisible",l.hidden),...t},components:{Root:({className:d,rootRef:c,...m})=>u.jsxDEV("div",{"data-slot":"calendar",ref:c,className:ie(d),...m},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/calendar.tsx",lineNumber:128,columnNumber:13},this),Chevron:({className:d,orientation:c,...m})=>c==="left"?u.jsxDEV(P.ChevronLeftIcon,{className:ie("size-4",d),...m},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/calendar.tsx",lineNumber:139,columnNumber:15},this):c==="right"?u.jsxDEV(P.ChevronRightIcon,{className:ie("size-4",d),...m},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/calendar.tsx",lineNumber:145,columnNumber:15},this):u.jsxDEV(P.ChevronDownIcon,{className:ie("size-4",d),...m},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/calendar.tsx",lineNumber:153,columnNumber:13},this),DayButton:gg,WeekNumber:({children:d,...c})=>u.jsxDEV("td",{...c,children:u.jsxDEV("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:d},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/calendar.tsx",lineNumber:160,columnNumber:15},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/calendar.tsx",lineNumber:159,columnNumber:13},this),...i},...a},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/calendar.tsx",lineNumber:27,columnNumber:5},this)}function gg({className:e,day:t,modifiers:n,...r}){const o=Bo(),s=C.useRef(null);return C.useEffect(()=>{n.focused&&s.current?.focus()},[n.focused]),u.jsxDEV(At,{ref:s,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:ie("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",o.day,e),...r},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/calendar.tsx",lineNumber:187,columnNumber:5},this)}let ln=null;const tl=new Map,bg=new Map;function Sr(){if(!ln)return;const e=ln;ln=null,setTimeout(()=>{try{e.root.unmount()}catch{}e.container.remove()},0)}function Ng(e){return ln?.pillDate===e}function yg({currentDate:e,theme:t,position:n,onSelectDate:r,onClose:o}){const s=h.useRef(null),i=Tr(e);h.useEffect(()=>{const y=w=>{w.key==="Escape"&&(w.stopPropagation(),w.preventDefault(),o())};return document.addEventListener("keydown",y,!0),()=>document.removeEventListener("keydown",y,!0)},[o]),h.useEffect(()=>{const y=D=>{s.current&&!s.current.contains(D.target)&&(D.target.closest(".date-pill")||o())},w=setTimeout(()=>{document.addEventListener("mousedown",y,!0)},50);return()=>{clearTimeout(w),document.removeEventListener("mousedown",y,!0)}},[o]);const a=h.useCallback(y=>{y&&r(un(y)),o()},[r,o]),l=h.useCallback(y=>{const w=new Date;w.setDate(w.getDate()+y),r(un(w)),o()},[r,o]),d=h.useCallback(()=>{const w=new Date().getDay(),D=w===0?1:8-w,k=new Date;k.setDate(k.getDate()+D),r(un(k)),o()},[r,o]),c=new Date,m=c.toDateString(),f=new Date(c);f.setDate(f.getDate()+1);const p=f.toDateString(),N=c.getDay(),g=N===0?1:8-N,b=new Date(c);b.setDate(b.getDate()+g);const v=b.toDateString();return u.jsxDEV("div",{ref:s,className:ie("date-picker-portal",t==="dark"?"dark":""),"data-theme":t,style:{position:"fixed",top:n.top,left:n.left,zIndex:99999,pointerEvents:"auto",animation:n.direction==="above"?"picker-slide-up 0.15s ease-out":"picker-slide-down 0.15s ease-out",transformOrigin:n.direction==="above"?"bottom center":"top center"},children:[u.jsxDEV("div",{className:"date-picker-arrow",style:{position:"absolute",left:Math.max(12,Math.min(n.pillCenter-n.left,280))+"px",...n.direction==="below"?{top:"-6px"}:{bottom:"-6px"},width:"12px",height:"12px",transform:n.direction==="below"?"rotate(45deg)":"rotate(225deg)",zIndex:-1}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:180,columnNumber:7},this),u.jsxDEV("div",{className:"date-picker-popup bg-popover text-popover-foreground border border-border rounded-lg shadow-xl overflow-hidden",children:u.jsxDEV("div",{className:"flex flex-col",children:[u.jsxDEV("div",{className:"flex justify-center p-1",children:u.jsxDEV(hg,{mode:"single",selected:i,onSelect:a},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:197,columnNumber:13},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:196,columnNumber:11},this),u.jsxDEV("div",{className:"border-t border-border"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:203,columnNumber:11},this),u.jsxDEV("div",{className:"flex items-center justify-center gap-2 px-3 py-3",children:[u.jsxDEV(At,{variant:"outline",size:"sm",className:ie("rounded-full text-xs",i.toDateString()===m&&"ring-2 ring-primary"),onClick:()=>l(0),children:"Today"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:205,columnNumber:13},this),u.jsxDEV(At,{variant:"outline",size:"sm",className:ie("rounded-full text-xs",i.toDateString()===p&&"ring-2 ring-primary"),onClick:()=>l(1),children:"Tomorrow"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:216,columnNumber:13},this),u.jsxDEV(At,{variant:"outline",size:"sm",className:ie("rounded-full text-xs",i.toDateString()===v&&"ring-2 ring-primary"),onClick:d,children:"Next Monday"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:227,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:204,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:195,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:194,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:163,columnNumber:5},this)}function xg(e,t,n){if(Ng(t)){Sr();return}Sr();const r=e.getBoundingClientRect(),o=window.innerWidth,s=window.innerHeight,i=320,a=420,l=10,d=16,c=s-r.bottom-l-d,m=r.top-l-d,f=c>=a?"below":m>=a?"above":c>=m?"below":"above";let p;f==="below"?p=r.bottom+l:p=r.top-a-l;const N=r.left+r.width/2;let g=N-i/2;g+i>o-d&&(g=o-i-d),g<d&&(g=d);const b=document.createElement("div");b.setAttribute("data-date-picker-standalone",t),b.style.cssText="position:fixed;top:0;left:0;width:0;height:0;overflow:visible;z-index:99999;pointer-events:auto;",document.body.appendChild(b),["mousedown","mouseup","click","pointerdown","pointerup","touchstart","touchend","focusin","focusout"].forEach(k=>{b.addEventListener(k,S=>{S.stopPropagation()},!1)});const y=sm.createRoot(b);ln={container:b,root:y,pillDate:t};const w=()=>{Sr()},D=k=>{const S=tl.get(t);S&&S(k)};y.render(u.jsxDEV(yg,{currentDate:t,theme:n,position:{top:p,left:g,direction:f,pillCenter:N},onSelectDate:D,onClose:w},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:327,columnNumber:5},this))}function vg({node:e,updateAttributes:t,selected:n}){const r=h.useRef(null),o=e.attrs.date||cn(),s=nl(o),i=Mr(o),a=h.useCallback(()=>{if(!r.current)return"";const l=r.current.closest(".markdown-editor-container");if(l){const c=l.getAttribute("data-theme");if(c)return c}return r.current.closest("[data-theme]")?.getAttribute("data-theme")||""},[]);return h.useEffect(()=>(tl.set(o,l=>{t({date:l})}),bg.set(o,a),()=>{}),[o,t,a]),h.useEffect(()=>{const l=r.current;if(!l)return;const d=c=>{c.preventDefault(),c.stopPropagation();const m=l.getAttribute("data-date")||cn(),f=a();xg(l,m,f)};return l.addEventListener("click",d),()=>l.removeEventListener("click",d)},[a]),h.useEffect(()=>{const l=r.current?.closest(".ProseMirror")||document,d=()=>{ln&&Sr()};return l.addEventListener("scroll",d,{passive:!0}),()=>{l.removeEventListener("scroll",d)}},[]),u.jsxDEV(_e.NodeViewWrapper,{as:"span",className:"inline",children:u.jsxDEV("span",{ref:r,className:`date-pill ${i} ${n?"ProseMirror-selectednode":""} cursor-pointer`,contentEditable:!1,"data-type":"date-pill","data-date":o,children:[u.jsxDEV(P.Calendar,{size:14,className:"date-icon"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:410,columnNumber:9},this),u.jsxDEV("span",{className:"date-text",children:s},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:411,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:403,columnNumber:7},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/DatePillComponent.tsx",lineNumber:402,columnNumber:5},this)}function Tr(e){const t=e.split("-");if(t.length===3)return new Date(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2]));const n=new Date(e);return new Date(n.getFullYear(),n.getMonth(),n.getDate())}function cn(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function Kn(e){const t=new Date;return t.setDate(t.getDate()+e),`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function un(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function nl(e){const t=Tr(e),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=new Date(r);o.setDate(o.getDate()+1);const s=new Date(r);s.setDate(s.getDate()-1);const i=r.getDay(),a=i===0?1:8-i,l=new Date(r);if(l.setDate(l.getDate()+a),t.getTime()===r.getTime())return"Today";if(t.getTime()===o.getTime())return"Tomorrow";if(t.getTime()===s.getTime())return"Yesterday";if(t.getTime()===l.getTime())return"Next Monday";const d={month:"short",day:"numeric"};return t.getFullYear()!==r.getFullYear()&&(d.year="numeric"),t.toLocaleDateString("en-US",d)}function wg(e){return Tr(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Pt(e){const t=e.trim(),n=t.toLowerCase();if(n==="today")return cn();if(n==="tomorrow")return Kn(1);if(n==="yesterday")return Kn(-1);if(n==="next monday"){const a=new Date().getDay(),l=a===0?1:8-a;return Kn(l)}const r=t.match(/^([A-Za-z]+)\s+(\d{1,2})(?:,?\s*(\d{4}))?$/);if(r){const a={jan:0,january:0,feb:1,february:1,mar:2,march:2,apr:3,april:3,may:4,jun:5,june:5,jul:6,july:6,aug:7,august:7,sep:8,september:8,oct:9,october:9,nov:10,november:10,dec:11,december:11}[r[1].toLowerCase()];if(a!==void 0){const l=parseInt(r[2],10),d=r[3]?parseInt(r[3],10):new Date().getFullYear(),c=new Date(d,a,l);return un(c)}}if(t.match(/^(\d{4})-(\d{2})-(\d{2})$/))return t;const s=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(s){const i=new Date(parseInt(s[3],10),parseInt(s[1],10)-1,parseInt(s[2],10));return un(i)}return null}function Mr(e){const t=Tr(e),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=new Date(r);return o.setDate(o.getDate()+7),t.getTime()===r.getTime()?"date-today":t<r?"date-overdue":t<=o?"date-upcoming":""}const kg=new ye.PluginKey("datePillPaste"),rl=me.Node.create({name:"datePill",group:"inline",inline:!0,atom:!0,addOptions(){return{HTMLAttributes:{}}},addAttributes(){return{date:{default:cn(),parseHTML:e=>e.getAttribute("data-date"),renderHTML:e=>({"data-date":e.date})}}},parseHTML(){return[{tag:'span[data-type="date-pill"]'}]},renderHTML({node:e,HTMLAttributes:t}){const n=e.attrs.date,r=nl(n),o=Mr(n);return["span",me.mergeAttributes(this.options.HTMLAttributes,t,{"data-type":"date-pill",class:`date-pill ${o}`.trim()}),["span",{class:"date-icon"},"📅"],["span",{class:"date-text"},r]]},addNodeView(){return _e.ReactNodeViewRenderer(vg,{stopEvent:({event:e})=>e.type==="click"||e.type==="mousedown"})},addCommands(){return{insertDatePill:e=>({commands:t})=>{const n=e||cn();return t.insertContent({type:this.name,attrs:{date:n}})},updateDatePill:e=>({commands:t})=>t.updateAttributes(this.name,{date:e})}},addKeyboardShortcuts(){return{"Mod-Shift-d":()=>this.editor.commands.insertDatePill()}},addInputRules(){const e=new me.InputRule({find:/@today\s$/,handler:({range:c,chain:m})=>{m().deleteRange(c).insertDatePill(cn()).run()}}),t=new me.InputRule({find:/@tomorrow\s$/,handler:({range:c,chain:m})=>{m().deleteRange(c).insertDatePill(Kn(1)).run()}}),n=new me.InputRule({find:/@yesterday\s$/,handler:({range:c,chain:m})=>{m().deleteRange(c).insertDatePill(Kn(-1)).run()}}),r=new me.InputRule({find:/@(\d{4}-\d{2}-\d{2})\s$/,handler:({range:c,chain:m,match:f})=>{m().deleteRange(c).insertDatePill(f[1]).run()}}),o=new me.InputRule({find:/@([A-Za-z]{3})\s?(\d{1,2})\s$/,handler:({range:c,chain:m,match:f})=>{const N={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}[f[1].toLowerCase()];if(N!==void 0){const g=new Date().getFullYear(),b=new Date(g,N,parseInt(f[2],10));m().deleteRange(c).insertDatePill(un(b)).run()}}}),s=new me.InputRule({find:/@([A-Za-z]{3,9}\s+\d{1,2},?\s*\d{4})@$/,handler:({range:c,chain:m,match:f})=>{const p=Pt(f[1]);p&&m().deleteRange(c).insertDatePill(p).run()}}),i=new me.InputRule({find:/@(today|tomorrow|yesterday|next monday)@$/i,handler:({range:c,chain:m,match:f})=>{const p=Pt(f[1]);p&&m().deleteRange(c).insertDatePill(p).run()}}),a=new me.InputRule({find:/@(\d{4}-\d{2}-\d{2})@$/,handler:({range:c,chain:m,match:f})=>{m().deleteRange(c).insertDatePill(f[1]).run()}}),l=new me.InputRule({find:/@([A-Za-z]{3,9}\s+\d{1,2})@$/,handler:({range:c,chain:m,match:f})=>{const p=Pt(f[1]);p&&m().deleteRange(c).insertDatePill(p).run()}}),d=new me.InputRule({find:/@(\d{1,2}\/\d{1,2}\/\d{4})@$/,handler:({range:c,chain:m,match:f})=>{const p=Pt(f[1]);p&&m().deleteRange(c).insertDatePill(p).run()}});return[e,t,n,r,o,s,i,a,l,d]},addProseMirrorPlugins(){const e=this.type;return[new ye.Plugin({key:kg,props:{handlePaste(t,n){const r=n.clipboardData;if(!r)return!1;const o=r.getData("text/plain"),s=r.getData("text/html");if(s&&s.includes('data-type="date-pill"'))return!1;const i=/@([^@\n]+)@/g;let a=!1,l;const d=new RegExp(i.source,i.flags);for(;(l=d.exec(o))!==null;)if(Pt(l[1])){a=!0;break}if(!a)return!1;const{state:c}=t,{tr:m,schema:f}=c,p=[];let N=0;const g=new RegExp(i.source,i.flags);let b;for(;(b=g.exec(o))!==null;){const D=b[1],k=Pt(D);if(k){const S=o.slice(N,b.index);S&&p.push(f.text(S)),p.push(e.create({date:k})),N=b.index+b[0].length}}const v=o.slice(N);if(v&&p.push(f.text(v)),p.length===0)return!1;const y=f.nodes.doc.create(null,f.nodes.paragraph.create(null,p)),{$from:w}=c.selection;if(w.parent.type.name==="paragraph"){const D=m;let k=c.selection.from;for(const S of p)D.insert(k,S),k+=S.nodeSize;D.delete(c.selection.from,c.selection.to),t.dispatch(D)}else m.replaceSelectionWith(y),t.dispatch(m);return n.preventDefault(),!0}}})]}});function Eg({node:e,selected:t}){const n=h.useRef(null),r=e.attrs.tag||"",o=h.useCallback(s=>{s.preventDefault(),s.stopPropagation()},[]);return u.jsxDEV(_e.NodeViewWrapper,{as:"span",className:"inline",children:u.jsxDEV("span",{ref:n,className:`tag-pill ${t?"ProseMirror-selectednode":""}`,contentEditable:!1,"data-type":"tag-pill","data-tag":r,onClick:o,children:[u.jsxDEV(P.Hash,{size:14,className:"tag-icon",strokeWidth:2.5},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TagPillComponent.tsx",lineNumber:33,columnNumber:9},this),u.jsxDEV("span",{className:"tag-text",children:r},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TagPillComponent.tsx",lineNumber:34,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/TagPillComponent.tsx",lineNumber:25,columnNumber:7},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TagPillComponent.tsx",lineNumber:24,columnNumber:5},this)}function dn(e){return/[a-zA-Z]/.test(e)&&/^[a-zA-Z0-9_-]+$/.test(e)}function Gn(e){return e.toLowerCase().trim()}const Cg=new ye.PluginKey("tagPillPaste"),ol=me.Node.create({name:"tagPill",group:"inline",inline:!0,atom:!0,addOptions(){return{HTMLAttributes:{},onTagClick:void 0}},addAttributes(){return{tag:{default:"",parseHTML:e=>e.getAttribute("data-tag"),renderHTML:e=>({"data-tag":e.tag})}}},parseHTML(){return[{tag:'span[data-type="tag-pill"]'}]},renderHTML({node:e,HTMLAttributes:t}){const n=e.attrs.tag;return["span",me.mergeAttributes(this.options.HTMLAttributes,t,{"data-type":"tag-pill",class:"tag-pill"}),["span",{class:"tag-icon"},"#"],["span",{class:"tag-text"},n]]},addNodeView(){return _e.ReactNodeViewRenderer(Eg,{stopEvent:({event:e})=>e.type==="click"||e.type==="mousedown"})},addCommands(){return{insertTagPill:e=>({commands:t})=>{const n=Gn(e);return dn(n)?t.insertContent({type:this.name,attrs:{tag:n}}):!1}}},addInputRules(){return[new me.InputRule({find:/(?:^|\s)#([a-zA-Z][a-zA-Z0-9_-]*|[a-zA-Z0-9_-]*[a-zA-Z][a-zA-Z0-9_-]*)\s$/,handler:({range:t,chain:n,match:r})=>{const o=Gn(r[1]);if(dn(o)){const i=r[0].startsWith(" ")?1:0,a=t.from+i;n().deleteRange({from:a,to:t.to}).insertTagPill(o).run()}}})]},addProseMirrorPlugins(){const e=this.type;return[new ye.Plugin({key:Cg,props:{handlePaste(t,n){const r=n.clipboardData;if(!r)return!1;const o=r.getData("text/plain"),s=r.getData("text/html");if(s&&s.includes('data-type="tag-pill"'))return!1;const i=/(?:^|\s)#([a-zA-Z][a-zA-Z0-9_-]*|[a-zA-Z0-9_-]*[a-zA-Z][a-zA-Z0-9_-]*)/g;let a=!1,l;const d=new RegExp(i.source,i.flags);for(;(l=d.exec(o))!==null;)if(dn(l[1])){a=!0;break}if(!a)return!1;const{state:c}=t,{tr:m,schema:f}=c,p=[];let N=0;const g=/(?:^|\s)#([a-zA-Z][a-zA-Z0-9_-]*|[a-zA-Z0-9_-]*[a-zA-Z][a-zA-Z0-9_-]*)/g;let b;for(;(b=g.exec(o))!==null;){const w=Gn(b[1]);if(dn(w)){const D=b[0],k=D.startsWith(" ")||D.startsWith(`
`)?1:0,S=o.slice(N,b.index+k);S&&p.push(f.text(S)),p.push(e.create({tag:w})),N=b.index+D.length}}const v=o.slice(N);if(v&&p.push(f.text(v)),p.length===0)return!1;const{$from:y}=c.selection;if(y.parent.type.name==="paragraph"){const w=m;let D=c.selection.from;for(const k of p)w.insert(D,k),D+=k.nodeSize;w.delete(c.selection.from,c.selection.to),t.dispatch(w)}else{const w=f.nodes.doc.create(null,f.nodes.paragraph.create(null,p));m.replaceSelectionWith(w),t.dispatch(m)}return n.preventDefault(),!0}}})]}});function sl({isOpen:e,onClose:t,onInsert:n,position:r}){const[o,s]=h.useState(""),[i,a]=h.useState(""),[l,d]=h.useState(""),[c,m]=h.useState(!1),f=h.useRef(null),p=h.useRef(null);h.useEffect(()=>{e&&(s(""),a(""),d(""),setTimeout(()=>{f.current?.focus()},100))},[e]),h.useEffect(()=>{if(!e)return;const y=k=>{p.current&&!p.current.contains(k.target)&&t()},w=k=>{k.key==="Escape"&&t()},D=setTimeout(()=>{document.addEventListener("mousedown",y)},100);return document.addEventListener("keydown",w),()=>{clearTimeout(D),document.removeEventListener("mousedown",y),document.removeEventListener("keydown",w)}},[e,t]);const N=y=>{if(!y.trim())return d("Please enter an image URL"),!1;try{const w=new URL(y);if(!["http:","https:","data:"].includes(w.protocol))return d("URL must start with http://, https://, or be a data URL"),!1}catch{return d("Please enter a valid URL"),!1}return d(""),!0},g=async()=>{if(!N(o))return;m(!0);const y=new window.Image;y.onload=()=>{m(!1),n(o.trim(),i.trim()),t()},y.onerror=()=>{m(!1),n(o.trim(),i.trim()),t()},setTimeout(()=>{c&&(m(!1),n(o.trim(),i.trim()),t())},3e3),y.src=o.trim()},b=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),g())};if(!e)return null;const v=r?{top:r.top,left:Math.min(r.left,typeof window<"u"?window.innerWidth-340:r.left)}:{top:"50%",left:"50%"};return u.jsxDEV("div",{ref:p,className:"image-url-dialog fixed z-50",style:{top:(typeof v.top=="number",v.top),left:typeof v.left=="number"?Math.max(8,v.left):v.left,transform:r?void 0:"translate(-50%, -50%)"},children:[u.jsxDEV("div",{className:"image-url-dialog-header",children:[u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV(P.Image,{size:16,className:"text-primary"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:148,columnNumber:11},this),u.jsxDEV("span",{className:"font-medium text-sm",children:"Insert Image from URL"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:149,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:147,columnNumber:9},this),u.jsxDEV("button",{onClick:t,className:"image-url-dialog-close","aria-label":"Close",children:u.jsxDEV(P.X,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:156,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:151,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:146,columnNumber:7},this),u.jsxDEV("div",{className:"image-url-dialog-content",children:[u.jsxDEV("div",{className:"image-url-dialog-field",children:[u.jsxDEV("label",{className:"image-url-dialog-label",children:[u.jsxDEV(P.Link2,{size:12},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:165,columnNumber:13},this),"Image URL"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:164,columnNumber:11},this),u.jsxDEV("input",{ref:f,type:"url",value:o,onChange:y=>{s(y.target.value),l&&d("")},onKeyDown:b,placeholder:"https://example.com/image.jpg",className:`image-url-dialog-input ${l?"error":""}`},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:168,columnNumber:11},this),l&&u.jsxDEV("span",{className:"image-url-dialog-error",children:l},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:181,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:163,columnNumber:9},this),u.jsxDEV("div",{className:"image-url-dialog-field",children:[u.jsxDEV("label",{className:"image-url-dialog-label",children:[u.jsxDEV(P.Type,{size:12},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:188,columnNumber:13},this),"Alt Text (optional)"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:187,columnNumber:11},this),u.jsxDEV("input",{type:"text",value:i,onChange:y=>a(y.target.value),onKeyDown:b,placeholder:"Describe the image",className:"image-url-dialog-input"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:191,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:186,columnNumber:9},this),u.jsxDEV("div",{className:"image-url-dialog-actions",children:[u.jsxDEV("button",{onClick:t,className:"image-url-dialog-btn image-url-dialog-btn-cancel",children:"Cancel"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:203,columnNumber:11},this),u.jsxDEV("button",{onClick:g,disabled:c||!o.trim(),className:"image-url-dialog-btn image-url-dialog-btn-insert",children:c?"Validating...":"Insert Image"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:209,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:202,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:161,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageURLDialog.tsx",lineNumber:136,columnNumber:5},this)}const Sg=[{title:"Paragraph",icon:u.jsxDEV(P.Type,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:62,columnNumber:11},void 0),command:e=>e.chain().focus().setParagraph().run(),keywords:["text","normal","p"]},{title:"Heading 1",icon:u.jsxDEV(P.Heading1,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:68,columnNumber:11},void 0),command:e=>e.chain().focus().toggleHeading({level:1}).run(),keywords:["h1","title","large"]},{title:"Heading 2",icon:u.jsxDEV(P.Heading2,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:74,columnNumber:11},void 0),command:e=>e.chain().focus().toggleHeading({level:2}).run(),keywords:["h2","subtitle"]},{title:"Heading 3",icon:u.jsxDEV(P.Heading3,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:80,columnNumber:11},void 0),command:e=>e.chain().focus().toggleHeading({level:3}).run(),keywords:["h3","subheading"]},{title:"Bullet List",icon:u.jsxDEV(P.List,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:86,columnNumber:11},void 0),command:e=>e.chain().focus().toggleBulletList().run(),keywords:["ul","unordered","bullets"]},{title:"Numbered List",icon:u.jsxDEV(P.ListOrdered,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:92,columnNumber:11},void 0),command:e=>e.chain().focus().toggleOrderedList().run(),keywords:["ol","ordered","numbers"]},{title:"Task List",icon:u.jsxDEV(P.CheckSquare,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:98,columnNumber:11},void 0),command:e=>e.chain().focus().toggleTaskList().run(),keywords:["todo","checkbox","tasks"]},{title:"Quote",icon:u.jsxDEV(P.Quote,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:104,columnNumber:11},void 0),command:e=>e.chain().focus().toggleBlockquote().run(),keywords:["blockquote","citation"]},{title:"Code Block",icon:u.jsxDEV(P.Code2,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:110,columnNumber:11},void 0),command:e=>e.chain().focus().toggleCodeBlock().run(),keywords:["code","pre","syntax"]},{title:"Table",icon:u.jsxDEV(P.Table,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:116,columnNumber:11},void 0),command:e=>e.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),keywords:["grid","spreadsheet"]},{title:"Image",icon:u.jsxDEV(P.Image,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:122,columnNumber:11},void 0),command:()=>{},keywords:["picture","photo","img"],isImageCommand:!0},{title:"Divider",icon:u.jsxDEV(P.Minus,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:129,columnNumber:11},void 0),command:e=>e.chain().focus().setHorizontalRule().run(),keywords:["hr","separator","line"]},{title:"Info Callout",icon:u.jsxDEV(P.Info,{size:16,className:"text-blue-400"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:135,columnNumber:11},void 0),command:e=>e.chain().focus().toggleCallout({type:"info"}).run(),keywords:["note","tip","information"]},{title:"Note Callout",icon:u.jsxDEV(P.StickyNote,{size:16,className:"text-purple-400"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:141,columnNumber:11},void 0),command:e=>e.chain().focus().toggleCallout({type:"note"}).run(),keywords:["memo","remember"]},{title:"Prompt Callout",icon:u.jsxDEV(P.MessageSquareText,{size:16,className:"text-amber-400"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:147,columnNumber:11},void 0),command:e=>e.chain().focus().toggleCallout({type:"prompt"}).run(),keywords:["question","ask","prompt"]},{title:"Resources Callout",icon:u.jsxDEV(P.BookOpen,{size:16,className:"text-green-400"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:153,columnNumber:11},void 0),command:e=>e.chain().focus().toggleCallout({type:"resources"}).run(),keywords:["links","reference","reading"]},{title:"To-Do Callout",icon:u.jsxDEV(P.ListTodo,{size:16,className:"text-cyan-400"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:159,columnNumber:11},void 0),command:e=>e.chain().focus().toggleCallout({type:"todo"}).run(),keywords:["task","action","checklist"]},{title:"Date",icon:u.jsxDEV(P.Calendar,{size:16,className:"text-cyan-400"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:165,columnNumber:11},void 0),command:e=>e.chain().focus().insertDatePill().run(),keywords:["date","today","calendar","time","schedule"]},{title:"Wiki Link",icon:u.jsxDEV(P.Link2,{size:16,className:"text-cyan-400"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:171,columnNumber:11},void 0),command:e=>{const t=window.prompt("Enter page name:");t&&e.chain().focus().insertContent(`[[${t}]]`).run()},keywords:["wiki","internal","page","link","backlink"]}],Tg=32,Mg=8,Dg=320,Ag=210,Dr=12;function il(e){try{const t=window.getSelection();if(t&&t.rangeCount>0){const o=t.getRangeAt(0),s=o.getBoundingClientRect();if(s.width===0&&s.height===0&&s.top===0){const i=document.createElement("span");i.textContent="​",o.cloneRange().insertNode(i);const l=i.getBoundingClientRect(),d={top:l.top,bottom:l.bottom,left:l.left};return i.parentNode?.removeChild(i),t.removeAllRanges(),t.addRange(o),d}return{top:s.top,bottom:s.bottom,left:s.left}}const n=e.state.selection.from,r=e.view.coordsAtPos(n);return{top:r.top,bottom:r.bottom,left:r.left}}catch{return null}}function al({editor:e}){const[t,n]=h.useState(!1),[r,o]=h.useState(""),[s,i]=h.useState(0),[a,l]=h.useState(null),[d,c]=h.useState(!1),[m,f]=h.useState({top:0,left:0}),[p,N]=h.useState("below"),g=h.useRef(null),b=h.useRef(-1),v=h.useRef(!1);h.useEffect(()=>{v.current=t},[t]);const y=Sg.filter(x=>{if(!r)return!0;const T=r.toLowerCase();return x.title.toLowerCase().includes(T)||x.keywords?.some(M=>M.includes(T))}),w=Math.min(y.length*Tg+Mg,Dg);h.useLayoutEffect(()=>{if(!t||!a)return;const{top:x,bottom:T,left:M}=a,O=window.innerHeight,I=window.innerWidth,V=O-T-Dr,W=x-Dr;let U;if(V>=w?U="below":W>=w?U="above":U=V>=W?"below":"above",N(U),g.current){const K=Math.max(Dr,Math.min(M,I-Ag-Dr)),L=U==="below"?T+4:x-w-4;g.current.style.top=`${L}px`,g.current.style.left=`${K}px`}},[t,a,w,y.length]);const D=h.useCallback(()=>{const{state:x}=e,{selection:T}=x,M=T.from,O=b.current;if(O>=0&&O<=M)e.chain().focus().deleteRange({from:O,to:M}).run();else{const{$from:I}=T,W=I.parent.textBetween(0,I.parentOffset,void 0,"￼").lastIndexOf("/");if(W!==-1){const U=I.pos-(I.parentOffset-W);e.chain().focus().deleteRange({from:U,to:I.pos}).run()}}},[e]),k=h.useCallback(()=>{n(!1),o(""),i(0),b.current=-1,l(null)},[]),S=h.useCallback(x=>{const T=y[x];if(T){if(D(),T.isImageCommand){const{state:M}=e,O=e.view.coordsAtPos(M.selection.from);f({top:O.bottom+8,left:O.left}),c(!0)}else T.command(e);k()}},[e,y,D,k]),E=h.useCallback((x,T)=>{e.chain().focus().setImage({src:x,alt:T}).run()},[e]);if(h.useEffect(()=>{if(!e)return;const x=()=>{if(v.current)return;const{state:T}=e,{selection:M}=T,{$from:O}=M;if(O.parentOffset===0)return;const I=O.parent.textBetween(0,O.parentOffset,void 0,"￼");if(!I.endsWith("/"))return;const V=I.length>1?I.slice(-2,-1):"";if(V&&V!==" "&&V!==`
`)return;b.current=O.pos-1;const W=il(e);W&&(l(W),n(!0),o(""),i(0))};return e.on("update",x),()=>{e.off("update",x)}},[e]),h.useEffect(()=>{if(!e||!t)return;const x=e.view.dom,T=M=>{v.current&&(M.key==="ArrowDown"?(M.preventDefault(),M.stopPropagation(),i(O=>(O+1)%y.length)):M.key==="ArrowUp"?(M.preventDefault(),M.stopPropagation(),i(O=>(O-1+y.length)%y.length)):M.key==="Enter"?(M.preventDefault(),M.stopPropagation(),S(s)):M.key==="Escape"&&(M.preventDefault(),M.stopPropagation(),k()))};return x.addEventListener("keydown",T,!0),()=>{x.removeEventListener("keydown",T,!0)}},[e,t,s,y,S,k]),h.useEffect(()=>{if(!e||!t)return;const x=()=>{if(!v.current||b.current<0)return;const{state:T}=e,{selection:M}=T,O=M.from,I=b.current;if(O<=I){k();return}try{const V=T.doc.textBetween(I+1,O,void 0,"￼");if(V.includes(`
`)){k();return}o(V),i(0);const W=il(e);W&&l(W)}catch{k()}};return e.on("update",x),e.on("selectionUpdate",x),()=>{e.off("update",x),e.off("selectionUpdate",x)}},[e,t,k]),h.useEffect(()=>{if(!t)return;const x=T=>{g.current&&!g.current.contains(T.target)&&k()};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[t,k]),h.useEffect(()=>{t&&y.length===0&&r.length>2&&k()},[t,y.length,r,k]),h.useEffect(()=>{s>=y.length&&i(Math.max(0,y.length-1))},[y.length,s]),h.useEffect(()=>{if(!t||!g.current)return;const x=g.current.querySelector(".slash-item.is-selected");x&&x.scrollIntoView({block:"nearest"})},[t,s]),d)return u.jsxDEV(sl,{isOpen:d,onClose:()=>c(!1),onInsert:E,position:m},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:516,columnNumber:7},this);if(!t||y.length===0)return null;const A=p==="below"?"slash-menu-below":"slash-menu-above";return it.createPortal(u.jsxDEV("div",{ref:g,className:`slash-menu ${A}`,style:{position:"fixed",top:0,left:0,zIndex:99999,pointerEvents:"auto"},children:y.map((x,T)=>u.jsxDEV("div",{className:`slash-item ${T===s?"is-selected":""}`,onClick:M=>{M.preventDefault(),M.stopPropagation(),S(T)},onMouseEnter:()=>i(T),children:[u.jsxDEV("span",{className:"slash-icon",children:x.icon},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:556,columnNumber:11},this),u.jsxDEV("span",{className:"slash-label",children:x.title},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:557,columnNumber:11},this)]},x.title,!0,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:546,columnNumber:9},this))},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SlashCommands.tsx",lineNumber:534,columnNumber:5},this),document.body)}const Pg=340,Ig=36,Lg=8,Og=240,Ar=8;function ll(e){try{const t=window.getSelection();if(t&&t.rangeCount>0){const o=t.getRangeAt(0),s=o.getBoundingClientRect();if(s.width===0&&s.height===0&&s.top===0){const i=document.createElement("span");i.textContent="​",o.cloneRange().insertNode(i);const l=i.getBoundingClientRect(),d={top:l.top,bottom:l.bottom,left:l.left};return i.parentNode?.removeChild(i),t.removeAllRanges(),t.addRange(o),d}return{top:s.top,bottom:s.bottom,left:s.left}}const n=e.state.selection.from,r=e.view.coordsAtPos(n);return{top:r.top,bottom:r.bottom,left:r.left}}catch{return null}}function Vg({editor:e,onSearch:t,onCreateItem:n}){const[r,o]=h.useState(!1),[s,i]=h.useState(""),[a,l]=h.useState([]),[d,c]=h.useState(0),[m,f]=h.useState(null),[p,N]=h.useState("below"),[g,b]=h.useState(!1),v=h.useRef(!1),y=h.useRef(null),w=h.useRef(-1),D=h.useRef(null);h.useEffect(()=>{v.current=r},[r]);const k=h.useCallback(()=>{o(!1),i(""),l([]),c(0),w.current=-1},[]),S=h.useCallback(M=>{const O=w.current;if(O<0)return;const{state:I}=e,V=I.selection.from;try{const W=I.tr.delete(O,V),U=I.schema.marks.wikiLink;if(U){const K=U.create({pageName:M}),L=I.schema.text(M,[K]);W.insert(O,L);const z=O+M.length;W.setSelection(ye.TextSelection.create(W.doc,z)),W.removeStoredMark(U)}else W.insertText(`[[${M}]]`,O);e.view.dispatch(W),e.view.focus()}catch(W){console.warn("WikiLinkAutocomplete: Error inserting link",W)}k()},[e,k]);h.useEffect(()=>{if(!e)return;const M=()=>{if(v.current)return;const{state:O}=e,{selection:I}=O,{$from:V}=I;if(V.parentOffset<2||!V.parent.textBetween(0,V.parentOffset,void 0,"￼").endsWith("[["))return;w.current=V.pos-2;const U=ll(e);U&&(f(U),o(!0),i(""),l([]),c(0))};return e.on("update",M),()=>{e.off("update",M)}},[e]),h.useEffect(()=>{if(!e||!r)return;const M=e.view.dom,O=I=>{if(v.current){if(I.key==="ArrowDown"){I.preventDefault();const V=a.length+(s.trim()?1:0)-1;c(W=>Math.min(W+1,V));return}if(I.key==="ArrowUp"){I.preventDefault(),c(V=>Math.max(V-1,0));return}if(I.key==="Enter"||I.key==="Tab"){I.preventDefault(),I.stopPropagation(),d<a.length?S(a[d].title):s.trim()&&n?(n(s.trim()),k()):s.trim()&&S(s.trim());return}if(I.key==="Escape"){I.preventDefault(),k();return}I.key==="]"&&setTimeout(()=>{const{state:V}=e,{$from:W}=V.selection;W.parent.textBetween(0,W.parentOffset,void 0,"￼").endsWith("]]")&&k()},0)}};return M.addEventListener("keydown",O,!0),()=>{M.removeEventListener("keydown",O,!0)}},[e,r,a,d,s,S,k,n]),h.useEffect(()=>{if(!e||!r)return;const M=()=>{const O=w.current;if(O<0){k();return}const{state:I}=e,V=I.selection.from;if(V<=O){k();return}try{const W=I.doc.textBetween(O+2,V,void 0,"￼");if(W.includes(`
`)||W.includes("]]")){k();return}i(W),c(0);const U=ll(e);U&&f(U)}catch{k()}};return e.on("update",M),e.on("selectionUpdate",M),()=>{e.off("update",M),e.off("selectionUpdate",M)}},[e,r,k]),h.useEffect(()=>{if(r){if(D.current&&clearTimeout(D.current),!s.trim()){b(!0),D.current=setTimeout(async()=>{try{const M=await t("");l(M)}catch{l([])}b(!1)},100);return}return b(!0),D.current=setTimeout(async()=>{try{const M=await t(s.trim());l(M)}catch{l([])}b(!1)},150),()=>{D.current&&clearTimeout(D.current)}}},[r,s,t]),h.useEffect(()=>{if(!r)return;const M=O=>{y.current&&!y.current.contains(O.target)&&k()};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[r,k]),h.useEffect(()=>{if(!r||!y.current)return;const M=y.current.querySelector(".wikilink-item.is-selected");M&&M.scrollIntoView({block:"nearest"})},[r,d]);const E=a.length+(s.trim()?1:0),A=Math.min(Math.max(E,1)*Ig+Lg,Og);if(h.useLayoutEffect(()=>{if(!r||!m)return;const{top:M,bottom:O,left:I}=m,V=window.innerHeight,W=window.innerWidth,U=V-O-Ar,K=M-Ar;let L;if(U>=A?L="below":K>=A?L="above":L=U>=K?"below":"above",N(L),y.current){const z=Math.max(Ar,Math.min(I,W-Pg-Ar)),Q=L==="below"?O+4:M-A-4;y.current.style.top=`${Q}px`,y.current.style.left=`${z}px`}},[r,m,A,E]),!r)return null;const x=s.trim()&&!a.some(M=>M.title.toLowerCase()===s.trim().toLowerCase()),T=p==="below"?"slash-menu-below":"slash-menu-above";return it.createPortal(u.jsxDEV("div",{ref:y,className:`wikilink-menu ${T}`,style:{position:"fixed",top:0,left:0,zIndex:99999,pointerEvents:"auto"},children:[g&&a.length===0&&u.jsxDEV("div",{className:"wikilink-item wikilink-loading",children:u.jsxDEV("span",{className:"wikilink-label",style:{color:"var(--muted-foreground)"},children:"Searching..."},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:367,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:366,columnNumber:9},this),a.map((M,O)=>u.jsxDEV("div",{className:`wikilink-item ${O===d?"is-selected":""}`,onMouseDown:I=>{I.preventDefault(),S(M.title)},onMouseEnter:()=>c(O),children:[u.jsxDEV("span",{className:"wikilink-icon",children:u.jsxDEV(P.FileText,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:381,columnNumber:13},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:380,columnNumber:11},this),u.jsxDEV("span",{className:"wikilink-label",children:M.title},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:383,columnNumber:11},this),u.jsxDEV("span",{className:"wikilink-type",children:M.type},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:384,columnNumber:11},this)]},M.id,!0,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:371,columnNumber:9},this)),x&&u.jsxDEV("div",{className:`wikilink-item wikilink-create ${a.length===d?"is-selected":""}`,onMouseDown:M=>{M.preventDefault(),n?(n(s.trim()),k()):S(s.trim())},onMouseEnter:()=>c(a.length),children:[u.jsxDEV("span",{className:"wikilink-icon",children:u.jsxDEV(P.Plus,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:402,columnNumber:13},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:401,columnNumber:11},this),u.jsxDEV("span",{className:"wikilink-label",children:["Create “",s.trim(),"”"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:404,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:388,columnNumber:9},this),!g&&a.length===0&&!s.trim()&&u.jsxDEV("div",{className:"wikilink-item wikilink-loading",children:u.jsxDEV("span",{className:"wikilink-label",style:{color:"var(--muted-foreground)"},children:"Type to search items..."},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:409,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:408,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/WikiLinkAutocomplete.tsx",lineNumber:354,columnNumber:5},this),document.body)}function ae(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function mn(e,t=[]){let n=[];function r(s,i){const a=C.createContext(i),l=n.length;n=[...n,i];const d=m=>{const{scope:f,children:p,...N}=m,g=f?.[e]?.[l]||a,b=C.useMemo(()=>N,Object.values(N));return F.jsx(g.Provider,{value:b,children:p})};d.displayName=s+"Provider";function c(m,f){const p=f?.[e]?.[l]||a,N=C.useContext(p);if(N)return N;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,c]}const o=()=>{const s=n.map(i=>C.createContext(i));return function(a){const l=a?.[e]||s;return C.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,_g(o,...t)]}function _g(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:d})=>{const m=l(s)[`__scope${d}`];return{...a,...m}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var It=globalThis?.document?C.useLayoutEffect:()=>{},Bg=C[" useInsertionEffect ".trim().toString()]||It;function Go({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,s,i]=$g({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:o;{const c=C.useRef(e!==void 0);C.useEffect(()=>{const m=c.current;m!==a&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=a},[a,r])}const d=C.useCallback(c=>{if(a){const m=Wg(c)?c(e):c;m!==e&&i.current?.(m)}else s(c)},[a,e,s,i]);return[l,d]}function $g({defaultProp:e,onChange:t}){const[n,r]=C.useState(e),o=C.useRef(n),s=C.useRef(t);return Bg(()=>{s.current=t},[t]),C.useEffect(()=>{o.current!==n&&(s.current?.(n),o.current=n)},[n,o]),[n,r,s]}function Wg(e){return typeof e=="function"}var zg=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=zg.reduce((e,t)=>{const n=qn(`Primitive.${t}`),r=C.forwardRef((o,s)=>{const{asChild:i,...a}=o,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),F.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function cl(e,t){e&&_i.flushSync(()=>e.dispatchEvent(t))}function ul(e){const t=e+"CollectionProvider",[n,r]=mn(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:b,children:v}=g,y=h.useRef(null),w=h.useRef(new Map).current;return F.jsx(o,{scope:b,itemMap:w,collectionRef:y,children:v})};i.displayName=t;const a=e+"CollectionSlot",l=qn(a),d=h.forwardRef((g,b)=>{const{scope:v,children:y}=g,w=s(a,v),D=$e(b,w.collectionRef);return F.jsx(l,{ref:D,children:y})});d.displayName=a;const c=e+"CollectionItemSlot",m="data-radix-collection-item",f=qn(c),p=h.forwardRef((g,b)=>{const{scope:v,children:y,...w}=g,D=h.useRef(null),k=$e(b,D),S=s(c,v);return h.useEffect(()=>(S.itemMap.set(D,{ref:D,...w}),()=>void S.itemMap.delete(D))),F.jsx(f,{[m]:"",ref:k,children:y})});p.displayName=c;function N(g){const b=s(e+"CollectionConsumer",g);return h.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(b.itemMap.values()).sort((S,E)=>w.indexOf(S.ref.current)-w.indexOf(E.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:d,ItemSlot:p},N,r]}var Fg=C.createContext(void 0);function dl(e){const t=C.useContext(Fg);return e||t||"ltr"}function yt(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>t.current?.(...n),[])}function Hg(e,t=globalThis?.document){const n=yt(e);C.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Ug="DismissableLayer",Zo="dismissableLayer.update",jg="dismissableLayer.pointerDownOutside",Yg="dismissableLayer.focusOutside",ml,fl=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xo=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,d=C.useContext(fl),[c,m]=C.useState(null),f=c?.ownerDocument??globalThis?.document,[,p]=C.useState({}),N=$e(t,E=>m(E)),g=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),y=c?g.indexOf(c):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,D=y>=v,k=Gg(E=>{const A=E.target,x=[...d.branches].some(T=>T.contains(A));!D||x||(o?.(E),i?.(E),E.defaultPrevented||a?.())},f),S=Zg(E=>{const A=E.target;[...d.branches].some(T=>T.contains(A))||(s?.(E),i?.(E),E.defaultPrevented||a?.())},f);return Hg(E=>{y===d.layers.size-1&&(r?.(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),C.useEffect(()=>{if(c)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ml=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(c)),d.layers.add(c),pl(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ml)}},[c,f,n,d]),C.useEffect(()=>()=>{c&&(d.layers.delete(c),d.layersWithOutsidePointerEventsDisabled.delete(c),pl())},[c,d]),C.useEffect(()=>{const E=()=>p({});return document.addEventListener(Zo,E),()=>document.removeEventListener(Zo,E)},[]),F.jsx(Le.div,{...l,ref:N,style:{pointerEvents:w?D?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,k.onPointerDownCapture)})});Xo.displayName=Ug;var qg="DismissableLayerBranch",Kg=C.forwardRef((e,t)=>{const n=C.useContext(fl),r=C.useRef(null),o=$e(t,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),F.jsx(Le.div,{...e,ref:o})});Kg.displayName=qg;function Gg(e,t=globalThis?.document){const n=yt(e),r=C.useRef(!1),o=C.useRef(()=>{});return C.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){hl(jg,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Zg(e,t=globalThis?.document){const n=yt(e),r=C.useRef(!1);return C.useEffect(()=>{const o=s=>{s.target&&!r.current&&hl(Yg,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pl(){const e=new CustomEvent(Zo);document.dispatchEvent(e)}function hl(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?cl(o,s):o.dispatchEvent(s)}var Qo=0;function Xg(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??gl()),document.body.insertAdjacentElement("beforeend",e[1]??gl()),Qo++,()=>{Qo===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qo--}},[])}function gl(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Jo="focusScope.autoFocusOnMount",Ro="focusScope.autoFocusOnUnmount",bl={bubbles:!1,cancelable:!0},Qg="FocusScope",Nl=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=C.useState(null),d=yt(o),c=yt(s),m=C.useRef(null),f=$e(t,g=>l(g)),p=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let g=function(w){if(p.paused||!a)return;const D=w.target;a.contains(D)?m.current=D:Lt(m.current,{select:!0})},b=function(w){if(p.paused||!a)return;const D=w.relatedTarget;D!==null&&(a.contains(D)||Lt(m.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const k of w)k.removedNodes.length>0&&Lt(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const y=new MutationObserver(v);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),y.disconnect()}}},[r,a,p.paused]),C.useEffect(()=>{if(a){vl.add(p);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Jo,bl);a.addEventListener(Jo,d),a.dispatchEvent(v),v.defaultPrevented||(Jg(rb(yl(a)),{select:!0}),document.activeElement===g&&Lt(a))}return()=>{a.removeEventListener(Jo,d),setTimeout(()=>{const v=new CustomEvent(Ro,bl);a.addEventListener(Ro,c),a.dispatchEvent(v),v.defaultPrevented||Lt(g??document.body,{select:!0}),a.removeEventListener(Ro,c),vl.remove(p)},0)}}},[a,d,c,p]);const N=C.useCallback(g=>{if(!n&&!r||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const y=g.currentTarget,[w,D]=Rg(y);w&&D?!g.shiftKey&&v===D?(g.preventDefault(),n&&Lt(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),n&&Lt(D,{select:!0})):v===y&&g.preventDefault()}},[n,r,p.paused]);return F.jsx(Le.div,{tabIndex:-1,...i,ref:f,onKeyDown:N})});Nl.displayName=Qg;function Jg(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Lt(r,{select:t}),document.activeElement!==n)return}function Rg(e){const t=yl(e),n=xl(t,e),r=xl(t.reverse(),e);return[n,r]}function yl(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xl(e,t){for(const n of e)if(!eb(n,{upTo:t}))return n}function eb(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tb(e){return e instanceof HTMLInputElement&&"select"in e}function Lt(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&tb(e)&&t&&e.select()}}var vl=nb();function nb(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=wl(e,t),e.unshift(t)},remove(t){e=wl(e,t),e[0]?.resume()}}}function wl(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function rb(e){return e.filter(t=>t.tagName!=="A")}var ob=C[" useId ".trim().toString()]||(()=>{}),sb=0;function Pr(e){const[t,n]=C.useState(ob());return It(()=>{n(r=>r??String(sb++))},[e]),e||(t?`radix-${t}`:"")}const ib=["top","right","bottom","left"],Ot=Math.min,Ke=Math.max,Ir=Math.round,Lr=Math.floor,ut=e=>({x:e,y:e}),ab={left:"right",right:"left",bottom:"top",top:"bottom"},lb={start:"end",end:"start"};function es(e,t,n){return Ke(e,Ot(t,n))}function xt(e,t){return typeof e=="function"?e(t):e}function vt(e){return e.split("-")[0]}function fn(e){return e.split("-")[1]}function ts(e){return e==="x"?"y":"x"}function ns(e){return e==="y"?"height":"width"}const cb=new Set(["top","bottom"]);function dt(e){return cb.has(vt(e))?"y":"x"}function rs(e){return ts(dt(e))}function ub(e,t,n){n===void 0&&(n=!1);const r=fn(e),o=rs(e),s=ns(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Or(i)),[i,Or(i)]}function db(e){const t=Or(e);return[os(e),t,os(t)]}function os(e){return e.replace(/start|end/g,t=>lb[t])}const kl=["left","right"],El=["right","left"],mb=["top","bottom"],fb=["bottom","top"];function pb(e,t,n){switch(e){case"top":case"bottom":return n?t?El:kl:t?kl:El;case"left":case"right":return t?mb:fb;default:return[]}}function hb(e,t,n,r){const o=fn(e);let s=pb(vt(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(os)))),s}function Or(e){return e.replace(/left|right|bottom|top/g,t=>ab[t])}function gb(e){return{top:0,right:0,bottom:0,left:0,...e}}function Cl(e){return typeof e!="number"?gb(e):{top:e,right:e,bottom:e,left:e}}function Vr(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Sl(e,t,n){let{reference:r,floating:o}=e;const s=dt(t),i=rs(t),a=ns(i),l=vt(t),d=s==="y",c=r.x+r.width/2-o.width/2,m=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let p;switch(l){case"top":p={x:c,y:r.y-o.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:m};break;case"left":p={x:r.x-o.width,y:m};break;default:p={x:r.x,y:r.y}}switch(fn(t)){case"start":p[i]-=f*(n&&d?-1:1);break;case"end":p[i]+=f*(n&&d?-1:1);break}return p}const bb=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:m}=Sl(d,r,l),f=r,p={},N=0;for(let g=0;g<a.length;g++){const{name:b,fn:v}=a[g],{x:y,y:w,data:D,reset:k}=await v({x:c,y:m,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:d,platform:i,elements:{reference:e,floating:t}});c=y??c,m=w??m,p={...p,[b]:{...p[b],...D}},k&&N<=50&&(N++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(d=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):k.rects),{x:c,y:m}=Sl(d,f,l)),g=-1)}return{x:c,y:m,placement:f,strategy:o,middlewareData:p}};async function Zn(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:c="viewport",elementContext:m="floating",altBoundary:f=!1,padding:p=0}=xt(t,e),N=Cl(p),b=a[f?m==="floating"?"reference":"floating":m],v=Vr(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:c,strategy:l})),y=m==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),D=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},k=Vr(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(v.top-k.top+N.top)/D.y,bottom:(k.bottom-v.bottom+N.bottom)/D.y,left:(v.left-k.left+N.left)/D.x,right:(k.right-v.right+N.right)/D.x}}const Nb=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:d,padding:c=0}=xt(e,t)||{};if(d==null)return{};const m=Cl(c),f={x:n,y:r},p=rs(o),N=ns(p),g=await i.getDimensions(d),b=p==="y",v=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",D=s.reference[N]+s.reference[p]-f[p]-s.floating[N],k=f[p]-s.reference[p],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let E=S?S[w]:0;(!E||!await(i.isElement==null?void 0:i.isElement(S)))&&(E=a.floating[w]||s.floating[N]);const A=D/2-k/2,x=E/2-g[N]/2-1,T=Ot(m[v],x),M=Ot(m[y],x),O=T,I=E-g[N]-M,V=E/2-g[N]/2+A,W=es(O,V,I),U=!l.arrow&&fn(o)!=null&&V!==W&&s.reference[N]/2-(V<O?T:M)-g[N]/2<0,K=U?V<O?V-O:V-I:0;return{[p]:f[p]+K,data:{[p]:W,centerOffset:V-W-K,...U&&{alignmentOffset:K}},reset:U}}}),yb=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:d}=t,{mainAxis:c=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:g=!0,...b}=xt(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=vt(o),y=dt(a),w=vt(a)===a,D=await(l.isRTL==null?void 0:l.isRTL(d.floating)),k=f||(w||!g?[Or(a)]:db(a)),S=N!=="none";!f&&S&&k.push(...hb(a,g,N,D));const E=[a,...k],A=await Zn(t,b),x=[];let T=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&x.push(A[v]),m){const V=ub(o,i,D);x.push(A[V[0]],A[V[1]])}if(T=[...T,{placement:o,overflows:x}],!x.every(V=>V<=0)){var M,O;const V=(((M=s.flip)==null?void 0:M.index)||0)+1,W=E[V];if(W&&(!(m==="alignment"?y!==dt(W):!1)||T.every(L=>dt(L.placement)===y?L.overflows[0]>0:!0)))return{data:{index:V,overflows:T},reset:{placement:W}};let U=(O=T.filter(K=>K.overflows[0]<=0).sort((K,L)=>K.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(p){case"bestFit":{var I;const K=(I=T.filter(L=>{if(S){const z=dt(L.placement);return z===y||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,Q)=>z+Q,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:I[0];K&&(U=K);break}case"initialPlacement":U=a;break}if(o!==U)return{reset:{placement:U}}}return{}}}};function Tl(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ml(e){return ib.some(t=>e[t]>=0)}const xb=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=xt(e,t);switch(r){case"referenceHidden":{const s=await Zn(t,{...o,elementContext:"reference"}),i=Tl(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Ml(i)}}}case"escaped":{const s=await Zn(t,{...o,altBoundary:!0}),i=Tl(s,n.floating);return{data:{escapedOffsets:i,escaped:Ml(i)}}}default:return{}}}}},Dl=new Set(["left","top"]);async function vb(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=vt(n),a=fn(n),l=dt(n)==="y",d=Dl.has(i)?-1:1,c=s&&l?-1:1,m=xt(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:N}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof N=="number"&&(p=a==="end"?N*-1:N),l?{x:p*c,y:f*d}:{x:f*d,y:p*c}}const wb=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await vb(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},kb=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:v,y}=b;return{x:v,y}}},...l}=xt(e,t),d={x:n,y:r},c=await Zn(t,l),m=dt(vt(o)),f=ts(m);let p=d[f],N=d[m];if(s){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=p+c[b],w=p-c[v];p=es(y,p,w)}if(i){const b=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=N+c[b],w=N-c[v];N=es(y,N,w)}const g=a.fn({...t,[f]:p,[m]:N});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[m]:i}}}}}},Eb=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=xt(e,t),c={x:n,y:r},m=dt(o),f=ts(m);let p=c[f],N=c[m];const g=xt(a,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=f==="y"?"height":"width",D=s.reference[f]-s.floating[w]+b.mainAxis,k=s.reference[f]+s.reference[w]-b.mainAxis;p<D?p=D:p>k&&(p=k)}if(d){var v,y;const w=f==="y"?"width":"height",D=Dl.has(vt(o)),k=s.reference[m]-s.floating[w]+(D&&((v=i.offset)==null?void 0:v[m])||0)+(D?0:b.crossAxis),S=s.reference[m]+s.reference[w]+(D?0:((y=i.offset)==null?void 0:y[m])||0)-(D?b.crossAxis:0);N<k?N=k:N>S&&(N=S)}return{[f]:p,[m]:N}}}},Cb=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...d}=xt(e,t),c=await Zn(t,d),m=vt(o),f=fn(o),p=dt(o)==="y",{width:N,height:g}=s.floating;let b,v;m==="top"||m==="bottom"?(b=m,v=f===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(v=m,b=f==="end"?"top":"bottom");const y=g-c.top-c.bottom,w=N-c.left-c.right,D=Ot(g-c[b],y),k=Ot(N-c[v],w),S=!t.middlewareData.shift;let E=D,A=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=y),S&&!f){const T=Ke(c.left,0),M=Ke(c.right,0),O=Ke(c.top,0),I=Ke(c.bottom,0);p?A=N-2*(T!==0||M!==0?T+M:Ke(c.left,c.right)):E=g-2*(O!==0||I!==0?O+I:Ke(c.top,c.bottom))}await l({...t,availableWidth:A,availableHeight:E});const x=await i.getDimensions(a.floating);return N!==x.width||g!==x.height?{reset:{rects:!0}}:{}}}};function _r(){return typeof window<"u"}function pn(e){return Al(e)?(e.nodeName||"").toLowerCase():"#document"}function Ge(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mt(e){var t;return(t=(Al(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Al(e){return _r()?e instanceof Node||e instanceof Ge(e).Node:!1}function nt(e){return _r()?e instanceof Element||e instanceof Ge(e).Element:!1}function ft(e){return _r()?e instanceof HTMLElement||e instanceof Ge(e).HTMLElement:!1}function Pl(e){return!_r()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ge(e).ShadowRoot}const Sb=new Set(["inline","contents"]);function Xn(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=rt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Sb.has(o)}const Tb=new Set(["table","td","th"]);function Mb(e){return Tb.has(pn(e))}const Db=[":popover-open",":modal"];function Br(e){return Db.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ab=["transform","translate","scale","rotate","perspective"],Pb=["transform","translate","scale","rotate","perspective","filter"],Ib=["paint","layout","strict","content"];function ss(e){const t=is(),n=nt(e)?rt(e):e;return Ab.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Pb.some(r=>(n.willChange||"").includes(r))||Ib.some(r=>(n.contain||"").includes(r))}function Lb(e){let t=Vt(e);for(;ft(t)&&!hn(t);){if(ss(t))return t;if(Br(t))return null;t=Vt(t)}return null}function is(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ob=new Set(["html","body","#document"]);function hn(e){return Ob.has(pn(e))}function rt(e){return Ge(e).getComputedStyle(e)}function $r(e){return nt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vt(e){if(pn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Pl(e)&&e.host||mt(e);return Pl(t)?t.host:t}function Il(e){const t=Vt(e);return hn(t)?e.ownerDocument?e.ownerDocument.body:e.body:ft(t)&&Xn(t)?t:Il(t)}function Qn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Il(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=Ge(o);if(s){const a=as(i);return t.concat(i,i.visualViewport||[],Xn(o)?o:[],a&&n?Qn(a):[])}return t.concat(o,Qn(o,[],n))}function as(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ll(e){const t=rt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ft(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=Ir(n)!==s||Ir(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function ls(e){return nt(e)?e:e.contextElement}function gn(e){const t=ls(e);if(!ft(t))return ut(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=Ll(t);let i=(s?Ir(n.width):n.width)/r,a=(s?Ir(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const Vb=ut(0);function Ol(e){const t=Ge(e);return!is()||!t.visualViewport?Vb:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _b(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ge(e)?!1:t}function jt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=ls(e);let i=ut(1);t&&(r?nt(r)&&(i=gn(r)):i=gn(e));const a=_b(s,n,r)?Ol(s):ut(0);let l=(o.left+a.x)/i.x,d=(o.top+a.y)/i.y,c=o.width/i.x,m=o.height/i.y;if(s){const f=Ge(s),p=r&&nt(r)?Ge(r):r;let N=f,g=as(N);for(;g&&r&&p!==N;){const b=gn(g),v=g.getBoundingClientRect(),y=rt(g),w=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,D=v.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,d*=b.y,c*=b.x,m*=b.y,l+=w,d+=D,N=Ge(g),g=as(N)}}return Vr({width:c,height:m,x:l,y:d})}function Wr(e,t){const n=$r(e).scrollLeft;return t?t.left+n:jt(mt(e)).left+n}function Vl(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Wr(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function Bb(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=mt(r),a=t?Br(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},d=ut(1);const c=ut(0),m=ft(r);if((m||!m&&!s)&&((pn(r)!=="body"||Xn(i))&&(l=$r(r)),ft(r))){const p=jt(r);d=gn(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}const f=i&&!m&&!s?Vl(i,l):ut(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+c.x+f.x,y:n.y*d.y-l.scrollTop*d.y+c.y+f.y}}function $b(e){return Array.from(e.getClientRects())}function Wb(e){const t=mt(e),n=$r(e),r=e.ownerDocument.body,o=Ke(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ke(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Wr(e);const a=-n.scrollTop;return rt(r).direction==="rtl"&&(i+=Ke(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}const _l=25;function zb(e,t){const n=Ge(e),r=mt(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const c=is();(!c||c&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}const d=Wr(r);if(d<=0){const c=r.ownerDocument,m=c.body,f=getComputedStyle(m),p=c.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,N=Math.abs(r.clientWidth-m.clientWidth-p);N<=_l&&(s-=N)}else d<=_l&&(s+=d);return{width:s,height:i,x:a,y:l}}const Fb=new Set(["absolute","fixed"]);function Hb(e,t){const n=jt(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=ft(e)?gn(e):ut(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,d=r*s.y;return{width:i,height:a,x:l,y:d}}function Bl(e,t,n){let r;if(t==="viewport")r=zb(e,n);else if(t==="document")r=Wb(mt(e));else if(nt(t))r=Hb(t,n);else{const o=Ol(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Vr(r)}function $l(e,t){const n=Vt(e);return n===t||!nt(n)||hn(n)?!1:rt(n).position==="fixed"||$l(n,t)}function Ub(e,t){const n=t.get(e);if(n)return n;let r=Qn(e,[],!1).filter(a=>nt(a)&&pn(a)!=="body"),o=null;const s=rt(e).position==="fixed";let i=s?Vt(e):e;for(;nt(i)&&!hn(i);){const a=rt(i),l=ss(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&Fb.has(o.position)||Xn(i)&&!l&&$l(e,i))?r=r.filter(c=>c!==i):o=a,i=Vt(i)}return t.set(e,r),r}function jb(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?Br(t)?[]:Ub(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((d,c)=>{const m=Bl(t,c,o);return d.top=Ke(m.top,d.top),d.right=Ot(m.right,d.right),d.bottom=Ot(m.bottom,d.bottom),d.left=Ke(m.left,d.left),d},Bl(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Yb(e){const{width:t,height:n}=Ll(e);return{width:t,height:n}}function qb(e,t,n){const r=ft(t),o=mt(t),s=n==="fixed",i=jt(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=ut(0);function d(){l.x=Wr(o)}if(r||!r&&!s)if((pn(t)!=="body"||Xn(o))&&(a=$r(t)),r){const p=jt(t,!0,s,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else o&&d();s&&!r&&o&&d();const c=o&&!r&&!s?Vl(o,a):ut(0),m=i.left+a.scrollLeft-l.x-c.x,f=i.top+a.scrollTop-l.y-c.y;return{x:m,y:f,width:i.width,height:i.height}}function cs(e){return rt(e).position==="static"}function Wl(e,t){if(!ft(e)||rt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return mt(e)===n&&(n=n.ownerDocument.body),n}function zl(e,t){const n=Ge(e);if(Br(e))return n;if(!ft(e)){let o=Vt(e);for(;o&&!hn(o);){if(nt(o)&&!cs(o))return o;o=Vt(o)}return n}let r=Wl(e,t);for(;r&&Mb(r)&&cs(r);)r=Wl(r,t);return r&&hn(r)&&cs(r)&&!ss(r)?n:r||Lb(e)||n}const Kb=async function(e){const t=this.getOffsetParent||zl,n=this.getDimensions,r=await n(e.floating);return{reference:qb(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Gb(e){return rt(e).direction==="rtl"}const Zb={convertOffsetParentRelativeRectToViewportRelativeRect:Bb,getDocumentElement:mt,getClippingRect:jb,getOffsetParent:zl,getElementRects:Kb,getClientRects:$b,getDimensions:Yb,getScale:gn,isElement:nt,isRTL:Gb};function Fl(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Xb(e,t){let n=null,r;const o=mt(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const d=e.getBoundingClientRect(),{left:c,top:m,width:f,height:p}=d;if(a||t(),!f||!p)return;const N=Lr(m),g=Lr(o.clientWidth-(c+f)),b=Lr(o.clientHeight-(m+p)),v=Lr(c),w={rootMargin:-N+"px "+-g+"px "+-b+"px "+-v+"px",threshold:Ke(0,Ot(1,l))||1};let D=!0;function k(S){const E=S[0].intersectionRatio;if(E!==l){if(!D)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!Fl(d,e.getBoundingClientRect())&&i(),D=!1}try{n=new IntersectionObserver(k,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(k,w)}n.observe(e)}return i(!0),s}function Qb(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=ls(e),c=o||s?[...d?Qn(d):[],...Qn(t)]:[];c.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const m=d&&a?Xb(d,n):null;let f=-1,p=null;i&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),d&&!l&&p.observe(d),p.observe(t));let N,g=l?jt(e):null;l&&b();function b(){const v=jt(e);g&&!Fl(g,v)&&n(),g=v,N=requestAnimationFrame(b)}return n(),()=>{var v;c.forEach(y=>{o&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),m?.(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(N)}}const Jb=wb,Rb=kb,e0=yb,t0=Cb,n0=xb,Hl=Nb,r0=Eb,o0=(e,t,n)=>{const r=new Map,o={platform:Zb,...n},s={...o.platform,_c:r};return bb(e,t,{...o,platform:s})};var s0=typeof document<"u",i0=function(){},zr=s0?h.useLayoutEffect:i0;function Fr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Fr(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!Fr(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Ul(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jl(e,t){const n=Ul(e);return Math.round(t*n)/n}function us(e){const t=C.useRef(e);return zr(()=>{t.current=e}),t}function a0(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:d}=e,[c,m]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=C.useState(r);Fr(f,r)||p(r);const[N,g]=C.useState(null),[b,v]=C.useState(null),y=C.useCallback(L=>{L!==S.current&&(S.current=L,g(L))},[]),w=C.useCallback(L=>{L!==E.current&&(E.current=L,v(L))},[]),D=s||N,k=i||b,S=C.useRef(null),E=C.useRef(null),A=C.useRef(c),x=l!=null,T=us(l),M=us(o),O=us(d),I=C.useCallback(()=>{if(!S.current||!E.current)return;const L={placement:t,strategy:n,middleware:f};M.current&&(L.platform=M.current),o0(S.current,E.current,L).then(z=>{const Q={...z,isPositioned:O.current!==!1};V.current&&!Fr(A.current,Q)&&(A.current=Q,_i.flushSync(()=>{m(Q)}))})},[f,t,n,M,O]);zr(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(L=>({...L,isPositioned:!1})))},[d]);const V=C.useRef(!1);zr(()=>(V.current=!0,()=>{V.current=!1}),[]),zr(()=>{if(D&&(S.current=D),k&&(E.current=k),D&&k){if(T.current)return T.current(D,k,I);I()}},[D,k,I,T,x]);const W=C.useMemo(()=>({reference:S,floating:E,setReference:y,setFloating:w}),[y,w]),U=C.useMemo(()=>({reference:D,floating:k}),[D,k]),K=C.useMemo(()=>{const L={position:n,left:0,top:0};if(!U.floating)return L;const z=jl(U.floating,c.x),Q=jl(U.floating,c.y);return a?{...L,transform:"translate("+z+"px, "+Q+"px)",...Ul(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Q}},[n,a,U.floating,c.x,c.y]);return C.useMemo(()=>({...c,update:I,refs:W,elements:U,floatingStyles:K}),[c,I,W,U,K])}const l0=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Hl({element:r.current,padding:o}).fn(n):{}:r?Hl({element:r,padding:o}).fn(n):{}}}},c0=(e,t)=>({...Jb(e),options:[e,t]}),u0=(e,t)=>({...Rb(e),options:[e,t]}),d0=(e,t)=>({...r0(e),options:[e,t]}),m0=(e,t)=>({...e0(e),options:[e,t]}),f0=(e,t)=>({...t0(e),options:[e,t]}),p0=(e,t)=>({...n0(e),options:[e,t]}),h0=(e,t)=>({...l0(e),options:[e,t]});var g0="Arrow",Yl=C.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return F.jsx(Le.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:F.jsx("polygon",{points:"0,0 30,0 15,10"})})});Yl.displayName=g0;var b0=Yl;function N0(e){const[t,n]=C.useState(void 0);return It(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,d=Array.isArray(l)?l[0]:l;i=d.inlineSize,a=d.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ds="Popper",[ql,Hr]=mn(ds),[y0,Kl]=ql(ds),Gl=e=>{const{__scopePopper:t,children:n}=e,[r,o]=C.useState(null);return F.jsx(y0,{scope:t,anchor:r,onAnchorChange:o,children:n})};Gl.displayName=ds;var Zl="PopperAnchor",Xl=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=Kl(Zl,n),i=C.useRef(null),a=$e(t,i),l=C.useRef(null);return C.useEffect(()=>{const d=l.current;l.current=r?.current||i.current,d!==l.current&&s.onAnchorChange(l.current)}),r?null:F.jsx(Le.div,{...o,ref:a})});Xl.displayName=Zl;var ms="PopperContent",[x0,v0]=ql(ms),Ql=C.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:c=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:N,...g}=e,b=Kl(ms,n),[v,y]=C.useState(null),w=$e(t,q=>y(q)),[D,k]=C.useState(null),S=N0(D),E=S?.width??0,A=S?.height??0,x=r+(s!=="center"?"-"+s:""),T=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},M=Array.isArray(d)?d:[d],O=M.length>0,I={padding:T,boundary:M.filter(k0),altBoundary:O},{refs:V,floatingStyles:W,placement:U,isPositioned:K,middlewareData:L}=a0({strategy:"fixed",placement:x,whileElementsMounted:(...q)=>Qb(...q,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[c0({mainAxis:o+A,alignmentAxis:i}),l&&u0({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?d0():void 0,...I}),l&&m0({...I}),f0({...I,apply:({elements:q,rects:R,availableWidth:Ne,availableHeight:ke})=>{const{width:Se,height:Ve}=R.reference,Je=q.floating.style;Je.setProperty("--radix-popper-available-width",`${Ne}px`),Je.setProperty("--radix-popper-available-height",`${ke}px`),Je.setProperty("--radix-popper-anchor-width",`${Se}px`),Je.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),D&&h0({element:D,padding:a}),E0({arrowWidth:E,arrowHeight:A}),f&&p0({strategy:"referenceHidden",...I})]}),[z,Q]=ec(U),re=yt(N);It(()=>{K&&re?.()},[K,re]);const oe=L.arrow?.x,te=L.arrow?.y,ne=L.arrow?.centerOffset!==0,[B,Y]=C.useState();return It(()=>{v&&Y(window.getComputedStyle(v).zIndex)},[v]),F.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:K?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:F.jsx(x0,{scope:n,placedSide:z,onArrowChange:k,arrowX:oe,arrowY:te,shouldHideArrow:ne,children:F.jsx(Le.div,{"data-side":z,"data-align":Q,...g,ref:w,style:{...g.style,animation:K?void 0:"none"}})})})});Ql.displayName=ms;var Jl="PopperArrow",w0={top:"bottom",right:"left",bottom:"top",left:"right"},Rl=C.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=v0(Jl,r),i=w0[s.placedSide];return F.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:F.jsx(b0,{...o,ref:n,style:{...o.style,display:"block"}})})});Rl.displayName=Jl;function k0(e){return e!==null}var E0=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:o}=t,i=o.arrow?.centerOffset!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[d,c]=ec(n),m={start:"0%",center:"50%",end:"100%"}[c],f=(o.arrow?.x??0)+a/2,p=(o.arrow?.y??0)+l/2;let N="",g="";return d==="bottom"?(N=i?m:`${f}px`,g=`${-l}px`):d==="top"?(N=i?m:`${f}px`,g=`${r.floating.height+l}px`):d==="right"?(N=`${-l}px`,g=i?m:`${p}px`):d==="left"&&(N=`${r.floating.width+l}px`,g=i?m:`${p}px`),{data:{x:N,y:g}}}});function ec(e){const[t,n="center"]=e.split("-");return[t,n]}var tc=Gl,nc=Xl,rc=Ql,oc=Rl,C0="Portal",fs=C.forwardRef((e,t)=>{const{container:n,...r}=e,[o,s]=C.useState(!1);It(()=>s(!0),[]);const i=n||o&&globalThis?.document?.body;return i?it.createPortal(F.jsx(Le.div,{...r,ref:t}),i):null});fs.displayName=C0;function S0(e,t){return C.useReducer((n,r)=>t[n][r]??n,e)}var Yt=e=>{const{present:t,children:n}=e,r=T0(t),o=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=$e(r.ref,M0(o));return typeof n=="function"||r.isPresent?C.cloneElement(o,{ref:s}):null};Yt.displayName="Presence";function T0(e){const[t,n]=C.useState(),r=C.useRef(null),o=C.useRef(e),s=C.useRef("none"),i=e?"mounted":"unmounted",[a,l]=S0(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=Ur(r.current);s.current=a==="mounted"?d:"none"},[a]),It(()=>{const d=r.current,c=o.current;if(c!==e){const f=s.current,p=Ur(d);e?l("MOUNT"):p==="none"||d?.display==="none"?l("UNMOUNT"):l(c&&f!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),It(()=>{if(t){let d;const c=t.ownerDocument.defaultView??window,m=p=>{const g=Ur(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(l("ANIMATION_END"),!o.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=p=>{p.target===t&&(s.current=Ur(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{c.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Ur(e){return e?.animationName||"none"}function M0(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ps="rovingFocusGroup.onEntryFocus",D0={bubbles:!1,cancelable:!0},Jn="RovingFocusGroup",[hs,sc,A0]=ul(Jn),[P0,ic]=mn(Jn,[A0]),[I0,L0]=P0(Jn),ac=C.forwardRef((e,t)=>F.jsx(hs.Provider,{scope:e.__scopeRovingFocusGroup,children:F.jsx(hs.Slot,{scope:e.__scopeRovingFocusGroup,children:F.jsx(O0,{...e,ref:t})})}));ac.displayName=Jn;var O0=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:c=!1,...m}=e,f=C.useRef(null),p=$e(t,f),N=dl(s),[g,b]=Go({prop:i,defaultProp:a??null,onChange:l,caller:Jn}),[v,y]=C.useState(!1),w=yt(d),D=sc(n),k=C.useRef(!1),[S,E]=C.useState(0);return C.useEffect(()=>{const A=f.current;if(A)return A.addEventListener(ps,w),()=>A.removeEventListener(ps,w)},[w]),F.jsx(I0,{scope:n,orientation:r,dir:N,loop:o,currentTabStopId:g,onItemFocus:C.useCallback(A=>b(A),[b]),onItemShiftTab:C.useCallback(()=>y(!0),[]),onFocusableItemAdd:C.useCallback(()=>E(A=>A+1),[]),onFocusableItemRemove:C.useCallback(()=>E(A=>A-1),[]),children:F.jsx(Le.div,{tabIndex:v||S===0?-1:0,"data-orientation":r,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{k.current=!0}),onFocus:ae(e.onFocus,A=>{const x=!k.current;if(A.target===A.currentTarget&&x&&!v){const T=new CustomEvent(ps,D0);if(A.currentTarget.dispatchEvent(T),!T.defaultPrevented){const M=D().filter(U=>U.focusable),O=M.find(U=>U.active),I=M.find(U=>U.id===g),W=[O,I,...M].filter(Boolean).map(U=>U.ref.current);uc(W,c)}}k.current=!1}),onBlur:ae(e.onBlur,()=>y(!1))})})}),lc="RovingFocusGroupItem",cc=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:i,...a}=e,l=Pr(),d=s||l,c=L0(lc,n),m=c.currentTabStopId===d,f=sc(n),{onFocusableItemAdd:p,onFocusableItemRemove:N,currentTabStopId:g}=c;return C.useEffect(()=>{if(r)return p(),()=>N()},[r,p,N]),F.jsx(hs.ItemSlot,{scope:n,id:d,focusable:r,active:o,children:F.jsx(Le.span,{tabIndex:m?0:-1,"data-orientation":c.orientation,...a,ref:t,onMouseDown:ae(e.onMouseDown,b=>{r?c.onItemFocus(d):b.preventDefault()}),onFocus:ae(e.onFocus,()=>c.onItemFocus(d)),onKeyDown:ae(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){c.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=B0(b,c.orientation,c.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=f().filter(D=>D.focusable).map(D=>D.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const D=w.indexOf(b.currentTarget);w=c.loop?$0(w,D+1):w.slice(D+1)}setTimeout(()=>uc(w))}}),children:typeof i=="function"?i({isCurrentTabStop:m,hasTabStop:g!=null}):i})})});cc.displayName=lc;var V0={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _0(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function B0(e,t,n){const r=_0(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return V0[r]}function uc(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function $0(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var W0=ac,z0=cc,F0=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bn=new WeakMap,jr=new WeakMap,Yr={},gs=0,dc=function(e){return e&&(e.host||dc(e.parentNode))},H0=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=dc(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},U0=function(e,t,n,r){var o=H0(t,Array.isArray(e)?e:[e]);Yr[n]||(Yr[n]=new WeakMap);var s=Yr[n],i=[],a=new Set,l=new Set(o),d=function(m){!m||a.has(m)||(a.add(m),d(m.parentNode))};o.forEach(d);var c=function(m){!m||l.has(m)||Array.prototype.forEach.call(m.children,function(f){if(a.has(f))c(f);else try{var p=f.getAttribute(r),N=p!==null&&p!=="false",g=(bn.get(f)||0)+1,b=(s.get(f)||0)+1;bn.set(f,g),s.set(f,b),i.push(f),g===1&&N&&jr.set(f,!0),b===1&&f.setAttribute(n,"true"),N||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return c(t),a.clear(),gs++,function(){i.forEach(function(m){var f=bn.get(m)-1,p=s.get(m)-1;bn.set(m,f),s.set(m,p),f||(jr.has(m)||m.removeAttribute(r),jr.delete(m)),p||m.removeAttribute(n)}),gs--,gs||(bn=new WeakMap,bn=new WeakMap,jr=new WeakMap,Yr={})}},j0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=F0(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),U0(r,o,n,"aria-hidden")):function(){return null}},pt=function(){return pt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},pt.apply(this,arguments)};function mc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Y0(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;var qr="right-scroll-bar-position",Kr="width-before-scroll-bar",q0="with-scroll-bars-hidden",K0="--removed-body-scroll-bar-size";function bs(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function G0(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var Z0=typeof window<"u"?C.useLayoutEffect:C.useEffect,fc=new WeakMap;function X0(e,t){var n=G0(null,function(r){return e.forEach(function(o){return bs(o,r)})});return Z0(function(){var r=fc.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||bs(a,null)}),s.forEach(function(a){o.has(a)||bs(a,i)})}fc.set(n,e)},[e]),n}function Q0(e){return e}function J0(e,t){t===void 0&&(t=Q0);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var c=i;i=[],c.forEach(s)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(c){i.push(c),d()},filter:function(c){return i=i.filter(c),n}}}};return o}function R0(e){e===void 0&&(e={});var t=J0(null);return t.options=pt({async:!0,ssr:!1},e),t}var pc=function(e){var t=e.sideCar,n=mc(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,pt({},n))};pc.isSideCarExport=!0;function eN(e,t){return e.useMedium(t),pc}var hc=R0(),Ns=function(){},Gr=C.forwardRef(function(e,t){var n=C.useRef(null),r=C.useState({onScrollCapture:Ns,onWheelCapture:Ns,onTouchMoveCapture:Ns}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,d=e.removeScrollBar,c=e.enabled,m=e.shards,f=e.sideCar,p=e.noRelative,N=e.noIsolation,g=e.inert,b=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,w=e.gapMode,D=mc(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,S=X0([n,t]),E=pt(pt({},D),o);return C.createElement(C.Fragment,null,c&&C.createElement(k,{sideCar:hc,removeScrollBar:d,shards:m,noRelative:p,noIsolation:N,inert:g,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:w}),i?C.cloneElement(C.Children.only(a),pt(pt({},E),{ref:S})):C.createElement(y,pt({},E,{className:l,ref:S}),a))});Gr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Gr.classNames={fullWidth:Kr,zeroRight:qr};var tN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nN(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tN();return t&&e.setAttribute("nonce",t),e}function rN(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function oN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sN=function(){var e=0,t=null;return{add:function(n){e==0&&(t=nN())&&(rN(t,n),oN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iN=function(){var e=sN();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},gc=function(){var e=iN(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},aN={left:0,top:0,right:0,gap:0},ys=function(e){return parseInt(e||"",10)||0},lN=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[ys(n),ys(r),ys(o)]},cN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return aN;var t=lN(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},uN=gc(),Nn="data-scroll-locked",dN=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(q0,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Nn,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qr,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Kr,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qr," .").concat(qr,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kr," .").concat(Kr,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Nn,`] {
    `).concat(K0,": ").concat(a,`px;
  }
`)},bc=function(){var e=parseInt(document.body.getAttribute(Nn)||"0",10);return isFinite(e)?e:0},mN=function(){C.useEffect(function(){return document.body.setAttribute(Nn,(bc()+1).toString()),function(){var e=bc()-1;e<=0?document.body.removeAttribute(Nn):document.body.setAttribute(Nn,e.toString())}},[])},fN=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;mN();var s=C.useMemo(function(){return cN(o)},[o]);return C.createElement(uN,{styles:dN(s,!t,o,n?"":"!important")})},xs=!1;if(typeof window<"u")try{var Zr=Object.defineProperty({},"passive",{get:function(){return xs=!0,!0}});window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{xs=!1}var yn=xs?{passive:!1}:!1,pN=function(e){return e.tagName==="TEXTAREA"},Nc=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!pN(e)&&n[t]==="visible")},hN=function(e){return Nc(e,"overflowY")},gN=function(e){return Nc(e,"overflowX")},yc=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=xc(e,r);if(o){var s=vc(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},bN=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},NN=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},xc=function(e,t){return e==="v"?hN(t):gN(t)},vc=function(e,t){return e==="v"?bN(t):NN(t)},yN=function(e,t){return e==="h"&&t==="rtl"?-1:1},xN=function(e,t,n,r,o){var s=yN(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),d=!1,c=i>0,m=0,f=0;do{if(!a)break;var p=vc(e,a),N=p[0],g=p[1],b=p[2],v=g-b-s*N;(N||v)&&xc(e,a)&&(m+=v,f+=N);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&Math.abs(m)<1||!c&&Math.abs(f)<1)&&(d=!0),d},Xr=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wc=function(e){return[e.deltaX,e.deltaY]},kc=function(e){return e&&"current"in e?e.current:e},vN=function(e,t){return e[0]===t[0]&&e[1]===t[1]},wN=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},kN=0,xn=[];function EN(e){var t=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),o=C.useState(kN++)[0],s=C.useState(gc)[0],i=C.useRef(e);C.useEffect(function(){i.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=Y0([e.lockRef.current],(e.shards||[]).map(kc),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=C.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var v=Xr(g),y=n.current,w="deltaX"in g?g.deltaX:y[0]-v[0],D="deltaY"in g?g.deltaY:y[1]-v[1],k,S=g.target,E=Math.abs(w)>Math.abs(D)?"h":"v";if("touches"in g&&E==="h"&&S.type==="range")return!1;var A=yc(E,S);if(!A)return!0;if(A?k=E:(k=E==="v"?"h":"v",A=yc(E,S)),!A)return!1;if(!r.current&&"changedTouches"in g&&(w||D)&&(r.current=k),!k)return!0;var x=r.current||k;return xN(x,b,g,x==="h"?w:D)},[]),l=C.useCallback(function(g){var b=g;if(!(!xn.length||xn[xn.length-1]!==s)){var v="deltaY"in b?wc(b):Xr(b),y=t.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&vN(k.delta,v)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(kc).filter(Boolean).filter(function(k){return k.contains(b.target)}),D=w.length>0?a(b,w[0]):!i.current.noIsolation;D&&b.cancelable&&b.preventDefault()}}},[]),d=C.useCallback(function(g,b,v,y){var w={name:g,delta:b,target:v,should:y,shadowParent:CN(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(D){return D!==w})},1)},[]),c=C.useCallback(function(g){n.current=Xr(g),r.current=void 0},[]),m=C.useCallback(function(g){d(g.type,wc(g),g.target,a(g,e.lockRef.current))},[]),f=C.useCallback(function(g){d(g.type,Xr(g),g.target,a(g,e.lockRef.current))},[]);C.useEffect(function(){return xn.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",l,yn),document.addEventListener("touchmove",l,yn),document.addEventListener("touchstart",c,yn),function(){xn=xn.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,yn),document.removeEventListener("touchmove",l,yn),document.removeEventListener("touchstart",c,yn)}},[]);var p=e.removeScrollBar,N=e.inert;return C.createElement(C.Fragment,null,N?C.createElement(s,{styles:wN(o)}):null,p?C.createElement(fN,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function CN(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const SN=eN(hc,EN);var Ec=C.forwardRef(function(e,t){return C.createElement(Gr,pt({},e,{ref:t,sideCar:SN}))});Ec.classNames=Gr.classNames;var vs=["Enter"," "],TN=["ArrowDown","PageUp","Home"],Cc=["ArrowUp","PageDown","End"],MN=[...TN,...Cc],DN={ltr:[...vs,"ArrowRight"],rtl:[...vs,"ArrowLeft"]},AN={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rn="Menu",[er,PN,IN]=ul(Rn),[qt,Sc]=mn(Rn,[IN,Hr,ic]),Qr=Hr(),Tc=ic(),[LN,Kt]=qt(Rn),[ON,tr]=qt(Rn),Mc=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=Qr(t),[l,d]=C.useState(null),c=C.useRef(!1),m=yt(s),f=dl(o);return C.useEffect(()=>{const p=()=>{c.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>c.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),F.jsx(tc,{...a,children:F.jsx(LN,{scope:t,open:n,onOpenChange:m,content:l,onContentChange:d,children:F.jsx(ON,{scope:t,onClose:C.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:c,dir:f,modal:i,children:r})})})};Mc.displayName=Rn;var VN="MenuAnchor",ws=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Qr(n);return F.jsx(nc,{...o,...r,ref:t})});ws.displayName=VN;var ks="MenuPortal",[_N,Dc]=qt(ks,{forceMount:void 0}),Ac=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=Kt(ks,t);return F.jsx(_N,{scope:t,forceMount:n,children:F.jsx(Yt,{present:n||s.open,children:F.jsx(fs,{asChild:!0,container:o,children:r})})})};Ac.displayName=ks;var Qe="MenuContent",[BN,Es]=qt(Qe),Pc=C.forwardRef((e,t)=>{const n=Dc(Qe,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=Kt(Qe,e.__scopeMenu),i=tr(Qe,e.__scopeMenu);return F.jsx(er.Provider,{scope:e.__scopeMenu,children:F.jsx(Yt,{present:r||s.open,children:F.jsx(er.Slot,{scope:e.__scopeMenu,children:i.modal?F.jsx($N,{...o,ref:t}):F.jsx(WN,{...o,ref:t})})})})}),$N=C.forwardRef((e,t)=>{const n=Kt(Qe,e.__scopeMenu),r=C.useRef(null),o=$e(t,r);return C.useEffect(()=>{const s=r.current;if(s)return j0(s)},[]),F.jsx(Cs,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ae(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),WN=C.forwardRef((e,t)=>{const n=Kt(Qe,e.__scopeMenu);return F.jsx(Cs,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),zN=qn("MenuContent.ScrollLock"),Cs=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:m,onInteractOutside:f,onDismiss:p,disableOutsideScroll:N,...g}=e,b=Kt(Qe,n),v=tr(Qe,n),y=Qr(n),w=Tc(n),D=PN(n),[k,S]=C.useState(null),E=C.useRef(null),A=$e(t,E,b.onContentChange),x=C.useRef(0),T=C.useRef(""),M=C.useRef(0),O=C.useRef(null),I=C.useRef("right"),V=C.useRef(0),W=N?Ec:C.Fragment,U=N?{as:zN,allowPinchZoom:!0}:void 0,K=z=>{const Q=T.current+z,re=D().filter(q=>!q.disabled),oe=document.activeElement,te=re.find(q=>q.ref.current===oe)?.textValue,ne=re.map(q=>q.textValue),B=JN(ne,Q,te),Y=re.find(q=>q.textValue===B)?.ref.current;(function q(R){T.current=R,window.clearTimeout(x.current),R!==""&&(x.current=window.setTimeout(()=>q(""),1e3))})(Q),Y&&setTimeout(()=>Y.focus())};C.useEffect(()=>()=>window.clearTimeout(x.current),[]),Xg();const L=C.useCallback(z=>I.current===O.current?.side&&ey(z,O.current?.area),[]);return F.jsx(BN,{scope:n,searchRef:T,onItemEnter:C.useCallback(z=>{L(z)&&z.preventDefault()},[L]),onItemLeave:C.useCallback(z=>{L(z)||(E.current?.focus(),S(null))},[L]),onTriggerLeave:C.useCallback(z=>{L(z)&&z.preventDefault()},[L]),pointerGraceTimerRef:M,onPointerGraceIntentChange:C.useCallback(z=>{O.current=z},[]),children:F.jsx(W,{...U,children:F.jsx(Nl,{asChild:!0,trapped:o,onMountAutoFocus:ae(s,z=>{z.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:F.jsx(Xo,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:m,onInteractOutside:f,onDismiss:p,children:F.jsx(W0,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:S,onEntryFocus:ae(l,z=>{v.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:F.jsx(rc,{role:"menu","aria-orientation":"vertical","data-state":Gc(b.open),"data-radix-menu-content":"",dir:v.dir,...y,...g,ref:A,style:{outline:"none",...g.style},onKeyDown:ae(g.onKeyDown,z=>{const re=z.target.closest("[data-radix-menu-content]")===z.currentTarget,oe=z.ctrlKey||z.altKey||z.metaKey,te=z.key.length===1;re&&(z.key==="Tab"&&z.preventDefault(),!oe&&te&&K(z.key));const ne=E.current;if(z.target!==ne||!MN.includes(z.key))return;z.preventDefault();const Y=D().filter(q=>!q.disabled).map(q=>q.ref.current);Cc.includes(z.key)&&Y.reverse(),XN(Y)}),onBlur:ae(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(x.current),T.current="")}),onPointerMove:ae(e.onPointerMove,rr(z=>{const Q=z.target,re=V.current!==z.clientX;if(z.currentTarget.contains(Q)&&re){const oe=z.clientX>V.current?"right":"left";I.current=oe,V.current=z.clientX}}))})})})})})})});Pc.displayName=Qe;var FN="MenuGroup",Ss=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return F.jsx(Le.div,{role:"group",...r,ref:t})});Ss.displayName=FN;var HN="MenuLabel",Ic=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return F.jsx(Le.div,{...r,ref:t})});Ic.displayName=HN;var Jr="MenuItem",Lc="menu.itemSelect",Rr=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=C.useRef(null),i=tr(Jr,e.__scopeMenu),a=Es(Jr,e.__scopeMenu),l=$e(t,s),d=C.useRef(!1),c=()=>{const m=s.current;if(!n&&m){const f=new CustomEvent(Lc,{bubbles:!0,cancelable:!0});m.addEventListener(Lc,p=>r?.(p),{once:!0}),cl(m,f),f.defaultPrevented?d.current=!1:i.onClose()}};return F.jsx(Oc,{...o,ref:l,disabled:n,onClick:ae(e.onClick,c),onPointerDown:m=>{e.onPointerDown?.(m),d.current=!0},onPointerUp:ae(e.onPointerUp,m=>{d.current||m.currentTarget?.click()}),onKeyDown:ae(e.onKeyDown,m=>{const f=a.searchRef.current!=="";n||f&&m.key===" "||vs.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Rr.displayName=Jr;var Oc=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=Es(Jr,n),a=Tc(n),l=C.useRef(null),d=$e(t,l),[c,m]=C.useState(!1),[f,p]=C.useState("");return C.useEffect(()=>{const N=l.current;N&&p((N.textContent??"").trim())},[s.children]),F.jsx(er.ItemSlot,{scope:n,disabled:r,textValue:o??f,children:F.jsx(z0,{asChild:!0,...a,focusable:!r,children:F.jsx(Le.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:ae(e.onPointerMove,rr(N=>{r?i.onItemLeave(N):(i.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ae(e.onPointerLeave,rr(N=>i.onItemLeave(N))),onFocus:ae(e.onFocus,()=>m(!0)),onBlur:ae(e.onBlur,()=>m(!1))})})})}),UN="MenuCheckboxItem",Vc=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return F.jsx(zc,{scope:e.__scopeMenu,checked:n,children:F.jsx(Rr,{role:"menuitemcheckbox","aria-checked":eo(n)?"mixed":n,...o,ref:t,"data-state":Ms(n),onSelect:ae(o.onSelect,()=>r?.(eo(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Vc.displayName=UN;var _c="MenuRadioGroup",[jN,YN]=qt(_c,{value:void 0,onValueChange:()=>{}}),Bc=C.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=yt(r);return F.jsx(jN,{scope:e.__scopeMenu,value:n,onValueChange:s,children:F.jsx(Ss,{...o,ref:t})})});Bc.displayName=_c;var $c="MenuRadioItem",Wc=C.forwardRef((e,t)=>{const{value:n,...r}=e,o=YN($c,e.__scopeMenu),s=n===o.value;return F.jsx(zc,{scope:e.__scopeMenu,checked:s,children:F.jsx(Rr,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Ms(s),onSelect:ae(r.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Wc.displayName=$c;var Ts="MenuItemIndicator",[zc,qN]=qt(Ts,{checked:!1}),Fc=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=qN(Ts,n);return F.jsx(Yt,{present:r||eo(s.checked)||s.checked===!0,children:F.jsx(Le.span,{...o,ref:t,"data-state":Ms(s.checked)})})});Fc.displayName=Ts;var KN="MenuSeparator",Hc=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return F.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Hc.displayName=KN;var GN="MenuArrow",Uc=C.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Qr(n);return F.jsx(oc,{...o,...r,ref:t})});Uc.displayName=GN;var ZN="MenuSub",[jw,jc]=qt(ZN),nr="MenuSubTrigger",Yc=C.forwardRef((e,t)=>{const n=Kt(nr,e.__scopeMenu),r=tr(nr,e.__scopeMenu),o=jc(nr,e.__scopeMenu),s=Es(nr,e.__scopeMenu),i=C.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,d={__scopeMenu:e.__scopeMenu},c=C.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return C.useEffect(()=>c,[c]),C.useEffect(()=>{const m=a.current;return()=>{window.clearTimeout(m),l(null)}},[a,l]),F.jsx(ws,{asChild:!0,...d,children:F.jsx(Oc,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":Gc(n.open),...e,ref:Cr(t,o.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ae(e.onPointerMove,rr(m=>{s.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),c()},100))})),onPointerLeave:ae(e.onPointerLeave,rr(m=>{c();const f=n.content?.getBoundingClientRect();if(f){const p=n.content?.dataset.side,N=p==="right",g=N?-5:5,b=f[N?"left":"right"],v=f[N?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+g,y:m.clientY},{x:b,y:f.top},{x:v,y:f.top},{x:v,y:f.bottom},{x:b,y:f.bottom}],side:p}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ae(e.onKeyDown,m=>{const f=s.searchRef.current!=="";e.disabled||f&&m.key===" "||DN[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});Yc.displayName=nr;var qc="MenuSubContent",Kc=C.forwardRef((e,t)=>{const n=Dc(Qe,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=Kt(Qe,e.__scopeMenu),i=tr(Qe,e.__scopeMenu),a=jc(qc,e.__scopeMenu),l=C.useRef(null),d=$e(t,l);return F.jsx(er.Provider,{scope:e.__scopeMenu,children:F.jsx(Yt,{present:r||s.open,children:F.jsx(er.Slot,{scope:e.__scopeMenu,children:F.jsx(Cs,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:c=>{i.isUsingKeyboardRef.current&&l.current?.focus(),c.preventDefault()},onCloseAutoFocus:c=>c.preventDefault(),onFocusOutside:ae(e.onFocusOutside,c=>{c.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ae(e.onEscapeKeyDown,c=>{i.onClose(),c.preventDefault()}),onKeyDown:ae(e.onKeyDown,c=>{const m=c.currentTarget.contains(c.target),f=AN[i.dir].includes(c.key);m&&f&&(s.onOpenChange(!1),a.trigger?.focus(),c.preventDefault())})})})})})});Kc.displayName=qc;function Gc(e){return e?"open":"closed"}function eo(e){return e==="indeterminate"}function Ms(e){return eo(e)?"indeterminate":e?"checked":"unchecked"}function XN(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function QN(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function JN(e,t,n){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=QN(e,Math.max(s,0));o.length===1&&(i=i.filter(d=>d!==n));const l=i.find(d=>d.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function RN(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s],l=t[i],d=a.x,c=a.y,m=l.x,f=l.y;c>r!=f>r&&n<(m-d)*(r-c)/(f-c)+d&&(o=!o)}return o}function ey(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return RN(n,t)}function rr(e){return t=>t.pointerType==="mouse"?e(t):void 0}var ty=Mc,ny=ws,ry=Ac,oy=Pc,sy=Ss,iy=Ic,ay=Rr,ly=Vc,cy=Bc,uy=Wc,dy=Fc,my=Hc,fy=Uc,py=Yc,hy=Kc,to="DropdownMenu",[gy]=mn(to,[Sc]),Fe=Sc(),[by,Zc]=gy(to),Xc=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=Fe(t),d=C.useRef(null),[c,m]=Go({prop:o,defaultProp:s??!1,onChange:i,caller:to});return F.jsx(by,{scope:t,triggerId:Pr(),triggerRef:d,contentId:Pr(),open:c,onOpenChange:m,onOpenToggle:C.useCallback(()=>m(f=>!f),[m]),modal:a,children:F.jsx(ty,{...l,open:c,onOpenChange:m,dir:r,modal:a,children:n})})};Xc.displayName=to;var Qc="DropdownMenuTrigger",Jc=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=Zc(Qc,n),i=Fe(n);return F.jsx(ny,{asChild:!0,...i,children:F.jsx(Le.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Cr(t,s.triggerRef),onPointerDown:ae(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ae(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Jc.displayName=Qc;var Ny="DropdownMenuPortal",Rc=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Fe(t);return F.jsx(ry,{...r,...n})};Rc.displayName=Ny;var eu="DropdownMenuContent",tu=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Zc(eu,n),s=Fe(n),i=C.useRef(!1);return F.jsx(oy,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:ae(e.onCloseAutoFocus,a=>{i.current||o.triggerRef.current?.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:ae(e.onInteractOutside,a=>{const l=a.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,c=l.button===2||d;(!o.modal||c)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tu.displayName=eu;var yy="DropdownMenuGroup",xy=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Fe(n);return F.jsx(sy,{...o,...r,ref:t})});xy.displayName=yy;var vy="DropdownMenuLabel",wy=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Fe(n);return F.jsx(iy,{...o,...r,ref:t})});wy.displayName=vy;var ky="DropdownMenuItem",nu=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Fe(n);return F.jsx(ay,{...o,...r,ref:t})});nu.displayName=ky;var Ey="DropdownMenuCheckboxItem",Cy=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Fe(n);return F.jsx(ly,{...o,...r,ref:t})});Cy.displayName=Ey;var Sy="DropdownMenuRadioGroup",Ty=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Fe(n);return F.jsx(cy,{...o,...r,ref:t})});Ty.displayName=Sy;var My="DropdownMenuRadioItem",Dy=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Fe(n);return F.jsx(uy,{...o,...r,ref:t})});Dy.displayName=My;var Ay="DropdownMenuItemIndicator",Py=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Fe(n);return F.jsx(dy,{...o,...r,ref:t})});Py.displayName=Ay;var Iy="DropdownMenuSeparator",ru=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Fe(n);return F.jsx(my,{...o,...r,ref:t})});ru.displayName=Iy;var Ly="DropdownMenuArrow",Oy=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Fe(n);return F.jsx(fy,{...o,...r,ref:t})});Oy.displayName=Ly;var Vy="DropdownMenuSubTrigger",_y=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Fe(n);return F.jsx(py,{...o,...r,ref:t})});_y.displayName=Vy;var By="DropdownMenuSubContent",$y=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Fe(n);return F.jsx(hy,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$y.displayName=By;var Wy=Xc,zy=Jc,Fy=Rc,Hy=tu,Uy=nu,jy=ru;function Ds({...e}){return u.jsxDEV(Wy,{"data-slot":"dropdown-menu",...e},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/dropdown-menu.tsx",lineNumber:10,columnNumber:10},this)}function As({...e}){return u.jsxDEV(zy,{"data-slot":"dropdown-menu-trigger",...e},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/dropdown-menu.tsx",lineNumber:25,columnNumber:5},this)}function Ps({className:e,sideOffset:t=4,...n}){return u.jsxDEV(Fy,{children:u.jsxDEV(Hy,{"data-slot":"dropdown-menu-content",sideOffset:t,className:ie("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/dropdown-menu.tsx",lineNumber:39,columnNumber:7},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/dropdown-menu.tsx",lineNumber:38,columnNumber:5},this)}function Ie({className:e,inset:t,variant:n="default",...r}){return u.jsxDEV(Uy,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:ie("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/dropdown-menu.tsx",lineNumber:70,columnNumber:5},this)}function Is({className:e,...t}){return u.jsxDEV(jy,{"data-slot":"dropdown-menu-separator",className:ie("bg-border -mx-1 my-1 h-px",e),...t},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/dropdown-menu.tsx",lineNumber:169,columnNumber:5},this)}var Yy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qy="VisuallyHidden",ou=C.forwardRef((e,t)=>F.jsx(Le.span,{...e,ref:t,style:{...Yy,...e.style}}));ou.displayName=qy;var Ky=ou,[no]=mn("Tooltip",[Hr]),ro=Hr(),su="TooltipProvider",Gy=700,Ls="tooltip.open",[Zy,Os]=no(su),iu=e=>{const{__scopeTooltip:t,delayDuration:n=Gy,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,i=C.useRef(!0),a=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),F.jsx(Zy,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(d=>{a.current=d},[]),disableHoverableContent:o,children:s})};iu.displayName=su;var or="Tooltip",[Xy,sr]=no(or),au=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o,onOpenChange:s,disableHoverableContent:i,delayDuration:a}=e,l=Os(or,e.__scopeTooltip),d=ro(t),[c,m]=C.useState(null),f=Pr(),p=C.useRef(0),N=i??l.disableHoverableContent,g=a??l.delayDuration,b=C.useRef(!1),[v,y]=Go({prop:r,defaultProp:o??!1,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(Ls))):l.onClose(),s?.(E)},caller:or}),w=C.useMemo(()=>v?b.current?"delayed-open":"instant-open":"closed",[v]),D=C.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,y(!0)},[y]),k=C.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),S=C.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,y(!0),p.current=0},g)},[g,y]);return C.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),F.jsx(tc,{...d,children:F.jsx(Xy,{scope:t,contentId:f,open:v,stateAttribute:w,trigger:c,onTriggerChange:m,onTriggerEnter:C.useCallback(()=>{l.isOpenDelayedRef.current?S():D()},[l.isOpenDelayedRef,S,D]),onTriggerLeave:C.useCallback(()=>{N?k():(window.clearTimeout(p.current),p.current=0)},[k,N]),onOpen:D,onClose:k,disableHoverableContent:N,children:n})})};au.displayName=or;var Vs="TooltipTrigger",lu=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=sr(Vs,n),s=Os(Vs,n),i=ro(n),a=C.useRef(null),l=$e(t,a,o.onTriggerChange),d=C.useRef(!1),c=C.useRef(!1),m=C.useCallback(()=>d.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),F.jsx(nc,{asChild:!0,...i,children:F.jsx(Le.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:ae(e.onPointerMove,f=>{f.pointerType!=="touch"&&!c.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),c.current=!0)}),onPointerLeave:ae(e.onPointerLeave,()=>{o.onTriggerLeave(),c.current=!1}),onPointerDown:ae(e.onPointerDown,()=>{o.open&&o.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ae(e.onFocus,()=>{d.current||o.onOpen()}),onBlur:ae(e.onBlur,o.onClose),onClick:ae(e.onClick,o.onClose)})})});lu.displayName=Vs;var _s="TooltipPortal",[Qy,Jy]=no(_s,{forceMount:void 0}),cu=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:o}=e,s=sr(_s,t);return F.jsx(Qy,{scope:t,forceMount:n,children:F.jsx(Yt,{present:n||s.open,children:F.jsx(fs,{asChild:!0,container:o,children:r})})})};cu.displayName=_s;var vn="TooltipContent",uu=C.forwardRef((e,t)=>{const n=Jy(vn,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=e,i=sr(vn,e.__scopeTooltip);return F.jsx(Yt,{present:r||i.open,children:i.disableHoverableContent?F.jsx(du,{side:o,...s,ref:t}):F.jsx(Ry,{side:o,...s,ref:t})})}),Ry=C.forwardRef((e,t)=>{const n=sr(vn,e.__scopeTooltip),r=Os(vn,e.__scopeTooltip),o=C.useRef(null),s=$e(t,o),[i,a]=C.useState(null),{trigger:l,onClose:d}=n,c=o.current,{onPointerInTransitChange:m}=r,f=C.useCallback(()=>{a(null),m(!1)},[m]),p=C.useCallback((N,g)=>{const b=N.currentTarget,v={x:N.clientX,y:N.clientY},y=rx(v,b.getBoundingClientRect()),w=ox(v,y),D=sx(g.getBoundingClientRect()),k=ax([...w,...D]);a(k),m(!0)},[m]);return C.useEffect(()=>()=>f(),[f]),C.useEffect(()=>{if(l&&c){const N=b=>p(b,c),g=b=>p(b,l);return l.addEventListener("pointerleave",N),c.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",N),c.removeEventListener("pointerleave",g)}}},[l,c,p,f]),C.useEffect(()=>{if(i){const N=g=>{const b=g.target,v={x:g.clientX,y:g.clientY},y=l?.contains(b)||c?.contains(b),w=!ix(v,i);y?f():w&&(f(),d())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[l,c,i,d,f]),F.jsx(du,{...e,ref:s})}),[ex,tx]=no(or,{isInside:!1}),nx=dg("TooltipContent"),du=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:i,...a}=e,l=sr(vn,n),d=ro(n),{onClose:c}=l;return C.useEffect(()=>(document.addEventListener(Ls,c),()=>document.removeEventListener(Ls,c)),[c]),C.useEffect(()=>{if(l.trigger){const m=f=>{f.target?.contains(l.trigger)&&c()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[l.trigger,c]),F.jsx(Xo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:c,children:F.jsxs(rc,{"data-state":l.stateAttribute,...d,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[F.jsx(nx,{children:r}),F.jsx(ex,{scope:n,isInside:!0,children:F.jsx(Ky,{id:l.contentId,role:"tooltip",children:o||r})})]})})});uu.displayName=vn;var mu="TooltipArrow",fu=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=ro(n);return tx(mu,n).isInside?null:F.jsx(oc,{...o,...r,ref:t})});fu.displayName=mu;function rx(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ox(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function sx(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function ix(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s],l=t[i],d=a.x,c=a.y,m=l.x,f=l.y;c>r!=f>r&&n<(m-d)*(r-c)/(f-c)+d&&(o=!o)}return o}function ax(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),lx(t)}function lx(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var cx=iu,ux=au,dx=lu,mx=cu,fx=uu,px=fu;function hx({delayDuration:e=0,...t}){return u.jsxDEV(cx,{"data-slot":"tooltip-provider",delayDuration:e,...t},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/tooltip.tsx",lineNumber:11,columnNumber:5},this)}function Bs({...e}){return u.jsxDEV(hx,{children:u.jsxDEV(ux,{"data-slot":"tooltip",...e},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/tooltip.tsx",lineNumber:24,columnNumber:7},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/tooltip.tsx",lineNumber:23,columnNumber:5},this)}function $s({...e}){return u.jsxDEV(dx,{"data-slot":"tooltip-trigger",...e},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/tooltip.tsx",lineNumber:32,columnNumber:10},this)}function Ws({className:e,sideOffset:t=0,children:n,...r}){return u.jsxDEV(mx,{children:u.jsxDEV(fx,{"data-slot":"tooltip-content",sideOffset:t,className:ie("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,u.jsxDEV(px,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/tooltip.tsx",lineNumber:53,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/ui/tooltip.tsx",lineNumber:43,columnNumber:7},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/ui/tooltip.tsx",lineNumber:42,columnNumber:5},this)}const Me=({onClick:e,isActive:t,disabled:n,children:r,tooltip:o})=>{const s=u.jsxDEV("button",{onClick:e,disabled:n,className:`
        flex items-center justify-center w-8 h-8 rounded-md shrink-0
        transition-all duration-100 ease-out touch-manipulation
        ${t?"bg-secondary text-foreground":"bg-transparent text-foreground hover:bg-secondary active:bg-secondary/80"}
        ${n?"opacity-50 cursor-not-allowed":""}
      `,children:r},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:100,columnNumber:5},void 0);return o?u.jsxDEV(Bs,{children:[u.jsxDEV($s,{asChild:!0,children:s},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:120,columnNumber:9},void 0),u.jsxDEV(Ws,{side:"bottom",className:"text-xs",children:o},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:121,columnNumber:9},void 0)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:119,columnNumber:7},void 0):s},wn=()=>u.jsxDEV("div",{className:"w-px h-5 bg-border mx-0.5 shrink-0"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:132,columnNumber:3},void 0),pu=h.memo(function({editor:t,onCopyMarkdown:n,onOpenLinkPopover:r,className:o="",autoReorderChecklist:s=!1,aiEnabled:i=!1,onAISparklesClick:a}){const l=h.useRef(null),[d,c]=h.useState(!1),[m,f]=h.useState(void 0),p=_e.useEditorState({editor:t,selector:({editor:S})=>({canUndo:S.can().undo(),canRedo:S.can().redo(),isBold:S.isActive("bold"),isItalic:S.isActive("italic"),isUnderline:S.isActive("underline"),isStrike:S.isActive("strike"),isCode:S.isActive("code"),isHighlight:S.isActive("highlight"),isH1:S.isActive("heading",{level:1}),isH2:S.isActive("heading",{level:2}),isH3:S.isActive("heading",{level:3}),isBlockquote:S.isActive("blockquote"),isBulletList:S.isActive("bulletList"),isOrderedList:S.isActive("orderedList"),isTaskList:S.isActive("taskList"),isCodeBlock:S.isActive("codeBlock"),isLink:S.isActive("link")})}),N=h.useCallback(()=>{const{view:S}=t,{from:E}=S.state.selection,A=S.coordsAtPos(E);f({top:A.bottom+8,left:A.left}),c(!0)},[t]),g=h.useCallback((S,E)=>{t.chain().focus().setImage({src:S,alt:E}).run(),c(!1)},[t]),b=h.useCallback(()=>{t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},[t]),v=h.useCallback(S=>{t.chain().focus().insertCallout({type:S}).run()},[t]),y=h.useRef(new Map),w=h.useRef(new Map),D=h.useCallback(S=>{const{doc:E,tr:A}=S.state;let x=!1;const T=new Set(["taskList","bulletList","orderedList"]),M=S.view.dom.querySelectorAll('ul[data-type="taskList"], ul:not([data-type]), ol');y.current.clear(),M.forEach((I,V)=>{I.querySelectorAll(":scope > li").forEach(U=>{const K=U,L=(K.textContent||"").trim().substring(0,50);y.current.set(`${V}-${L}`,K.getBoundingClientRect())})});const O=[];E.descendants((I,V,W,U)=>{if(!T.has(I.type.name))return!0;let K=!1;if(I.forEach(z=>{z.type.name==="taskItem"&&(K=!0)}),!K)return!0;let L=0;return E.nodesBetween(0,V,z=>(T.has(z.type.name)&&L++,!0)),O.push({node:I,pos:V,depth:L}),!0}),O.sort((I,V)=>V.depth-I.depth);for(const{node:I,pos:V}of O){const W=[];let U=0;I.forEach(B=>{W.push({node:B,isTask:B.type.name==="taskItem",checked:B.type.name==="taskItem"&&B.attrs.checked===!0,originalIndex:U++})});const K=W.filter(B=>B.isTask&&!B.checked),L=W.filter(B=>B.isTask&&B.checked),z=[...W],Q=W.map((B,Y)=>({index:Y,isTask:B.isTask})).filter(B=>B.isTask).map(B=>B.index),re=[...K,...L];if(Q.forEach((B,Y)=>{z[B]=re[Y]}),!z.some((B,Y)=>B.node!==W[Y].node))continue;const te=I.type.create(I.attrs,z.map(B=>B.node)),ne=A.mapping.map(V);A.replaceWith(ne,ne+I.nodeSize,te),x=!0}x&&(S.view.dispatch(A),requestAnimationFrame(()=>{S.view.dom.querySelectorAll('ul[data-type="taskList"], ul:not([data-type]), ol').forEach(V=>{const W=V.querySelectorAll(":scope > li"),U=new Map;y.current.forEach((K,L)=>{const z=L.replace(/^\d+-/,"");U.set(z,K)}),W.forEach(K=>{const L=K,z=(L.textContent||"").trim().substring(0,50),Q=U.get(z);if(!Q)return;const re=L.getBoundingClientRect(),oe=Q.top-re.top;if(Math.abs(oe)<2)return;L.style.transform=`translateY(${oe}px)`,L.style.transition="none",L.style.zIndex="1",L.offsetHeight,L.style.transition="transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",L.style.transform="translateY(0)";const te=()=>{L.style.transform="",L.style.transition="",L.style.zIndex="",L.removeEventListener("transitionend",te)};L.addEventListener("transitionend",te),setTimeout(te,400)})})}))},[]);h.useEffect(()=>{if(!s||!t)return;const S=new Map;t.state.doc.descendants((A,x)=>(A.type.name==="taskItem"&&S.set(x,A.attrs.checked===!0),!0)),w.current=S;const E=({transaction:A})=>{if(!A.docChanged)return;const x=new Map;t.state.doc.descendants((O,I)=>(O.type.name==="taskItem"&&x.set(I,O.attrs.checked===!0),!0));const T=w.current;let M=!1;if(T.size>0&&x.size>0){let O=0,I=0;T.forEach(V=>{V&&O++}),x.forEach(V=>{V&&I++}),O!==I&&(M=!0)}w.current=x,M&&setTimeout(()=>{D(t)},150)};return t.on("transaction",E),()=>{t.off("transaction",E)}},[t,s,D]);const k=h.useCallback(()=>{D(t)},[t,D]);return u.jsxDEV("div",{className:`flex items-center gap-0.5 px-2 py-1.5 border-b border-border/30 bg-muted/30 overflow-x-auto scrollbar-hide ${o}`,children:[u.jsxDEV(Me,{onClick:()=>t.chain().focus().undo().run(),disabled:!p?.canUndo,tooltip:"Undo (Ctrl+Z)",children:u.jsxDEV(P.Undo,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:382,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:377,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().redo().run(),disabled:!p?.canRedo,tooltip:"Redo (Ctrl+Shift+Z)",children:u.jsxDEV(P.Redo,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:389,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:384,columnNumber:7},this),u.jsxDEV(wn,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:392,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().toggleBold().run(),isActive:p?.isBold,tooltip:"Bold (Ctrl+B)",children:u.jsxDEV(P.Bold,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:400,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:395,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().toggleItalic().run(),isActive:p?.isItalic,tooltip:"Italic (Ctrl+I)",children:u.jsxDEV(P.Italic,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:407,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:402,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().toggleUnderline().run(),isActive:p?.isUnderline,tooltip:"Underline (Ctrl+U)",children:u.jsxDEV(P.Underline,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:414,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:409,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().toggleStrike().run(),isActive:p?.isStrike,tooltip:"Strikethrough",children:u.jsxDEV(P.Strikethrough,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:421,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:416,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().toggleCode().run(),isActive:p?.isCode,tooltip:"Inline Code (Ctrl+E)",children:u.jsxDEV(P.Code,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:428,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:423,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().toggleHighlight().run(),isActive:p?.isHighlight,tooltip:"Highlight",children:u.jsxDEV(P.Highlighter,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:435,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:430,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>r?.(),isActive:p?.isLink,tooltip:"Link (Ctrl+K)",children:u.jsxDEV(P.Link,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:442,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:437,columnNumber:7},this),u.jsxDEV(wn,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:445,columnNumber:7},this),u.jsxDEV(Ds,{children:[u.jsxDEV(As,{asChild:!0,children:u.jsxDEV("button",{className:`
              flex items-center gap-1 h-8 px-2 rounded-md shrink-0
              transition-all duration-100 ease-out touch-manipulation
              text-xs font-semibold
              ${p?.isH1||p?.isH2||p?.isH3?"bg-secondary text-foreground":"bg-transparent text-foreground hover:bg-secondary active:bg-secondary/80"}
            `,children:[u.jsxDEV("span",{className:"min-w-[18px] text-center",children:p?.isH1?"H1":p?.isH2?"H2":p?.isH3?"H3":"P"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:461,columnNumber:13},this),u.jsxDEV(P.ChevronDown,{size:12,strokeWidth:2.5,className:"flex-shrink-0"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:464,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:450,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:449,columnNumber:9},this),u.jsxDEV(Ps,{align:"start",className:"min-w-[130px]",children:[u.jsxDEV(Ie,{onClick:()=>t.chain().focus().setParagraph().run(),className:!p?.isH1&&!p?.isH2&&!p?.isH3?"bg-accent font-medium":"",children:[u.jsxDEV("span",{className:"w-6 text-xs font-semibold text-muted-foreground",children:"P"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:472,columnNumber:13},this),"Paragraph"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:468,columnNumber:11},this),u.jsxDEV(Ie,{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:p?.isH1?"bg-accent font-medium":"",children:[u.jsxDEV("span",{className:"w-6 text-xs font-semibold text-muted-foreground",children:"H1"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:479,columnNumber:13},this),u.jsxDEV("span",{className:"font-semibold",children:"Heading 1"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:480,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:475,columnNumber:11},this),u.jsxDEV(Ie,{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:p?.isH2?"bg-accent font-medium":"",children:[u.jsxDEV("span",{className:"w-6 text-xs font-semibold text-muted-foreground",children:"H2"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:486,columnNumber:13},this),u.jsxDEV("span",{className:"font-semibold",children:"Heading 2"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:487,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:482,columnNumber:11},this),u.jsxDEV(Ie,{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:p?.isH3?"bg-accent font-medium":"",children:[u.jsxDEV("span",{className:"w-6 text-xs font-semibold text-muted-foreground",children:"H3"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:493,columnNumber:13},this),u.jsxDEV("span",{className:"font-semibold",children:"Heading 3"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:494,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:489,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:467,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:448,columnNumber:7},this),u.jsxDEV(wn,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:499,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().toggleBulletList().run(),isActive:p?.isBulletList,tooltip:"Bullet List",children:u.jsxDEV(P.List,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:507,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:502,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().toggleOrderedList().run(),isActive:p?.isOrderedList,tooltip:"Numbered List",children:u.jsxDEV(P.ListOrdered,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:514,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:509,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().toggleTaskList().run(),isActive:p?.isTaskList,tooltip:"Task List",children:u.jsxDEV(P.CheckSquare,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:521,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:516,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().toggleBlockquote().run(),isActive:p?.isBlockquote,tooltip:"Quote",children:u.jsxDEV(P.Quote,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:528,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:523,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().toggleCodeBlock().run(),isActive:p?.isCodeBlock,tooltip:"Code Block",children:u.jsxDEV(P.Code2,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:535,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:530,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>{p?.isTaskList?t.chain().focus().sinkListItem("taskItem").run():(p?.isBulletList||p?.isOrderedList)&&t.chain().focus().sinkListItem("listItem").run()},disabled:!p?.isBulletList&&!p?.isOrderedList&&!p?.isTaskList,tooltip:"Indent (Tab)",children:u.jsxDEV(P.IndentIncrease,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:548,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:537,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>{p?.isTaskList?t.chain().focus().liftListItem("taskItem").run():(p?.isBulletList||p?.isOrderedList)&&t.chain().focus().liftListItem("listItem").run()},disabled:!p?.isBulletList&&!p?.isOrderedList&&!p?.isTaskList,tooltip:"Outdent (Shift+Tab)",children:u.jsxDEV(P.IndentDecrease,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:561,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:550,columnNumber:7},this),u.jsxDEV(wn,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:564,columnNumber:7},this),u.jsxDEV(Me,{onClick:b,tooltip:"Insert Table (3×3)",children:u.jsxDEV(P.Table,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:571,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:567,columnNumber:7},this),u.jsxDEV(Me,{onClick:N,tooltip:"Insert Image",children:u.jsxDEV(P.Image,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:577,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:573,columnNumber:7},this),u.jsxDEV(Me,{onClick:()=>t.chain().focus().setHorizontalRule().run(),tooltip:"Horizontal Rule",children:u.jsxDEV(P.Minus,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:583,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:579,columnNumber:7},this),u.jsxDEV(Ds,{children:[u.jsxDEV(As,{asChild:!0,children:u.jsxDEV("button",{className:"flex items-center justify-center w-8 h-8 rounded-md shrink-0 transition-all duration-100 ease-out touch-manipulation bg-transparent text-foreground hover:bg-secondary active:bg-secondary/80",title:"Insert Callout",children:u.jsxDEV(P.Info,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:592,columnNumber:13},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:588,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:587,columnNumber:9},this),u.jsxDEV(Ps,{align:"start",children:[u.jsxDEV(Ie,{onClick:()=>v("info"),children:[u.jsxDEV(P.Info,{size:16,className:"mr-2",style:{color:"#3F78BB"}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:597,columnNumber:13},this)," Info"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:596,columnNumber:11},this),u.jsxDEV(Ie,{onClick:()=>v("note"),children:[u.jsxDEV(P.BookOpen,{size:16,className:"mr-2",style:{color:"#FF8200"}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:600,columnNumber:13},this)," Note"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:599,columnNumber:11},this),u.jsxDEV(Ie,{onClick:()=>v("prompt"),children:[u.jsxDEV(P.PenLine,{size:16,className:"mr-2",style:{color:"#B244B3"}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:603,columnNumber:13},this)," Prompt"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:602,columnNumber:11},this),u.jsxDEV(Ie,{onClick:()=>v("resources"),children:[u.jsxDEV(P.Library,{size:16,className:"mr-2",style:{color:"#63B148"}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:606,columnNumber:13},this)," Resources"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:605,columnNumber:11},this),u.jsxDEV(Ie,{onClick:()=>v("todo"),children:[u.jsxDEV(P.ListTodo,{size:16,className:"mr-2",style:{color:"#4479B3"}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:609,columnNumber:13},this)," Todo"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:608,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:595,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:586,columnNumber:7},this),t.isActive("table")&&u.jsxDEV(Ds,{children:[u.jsxDEV(As,{asChild:!0,children:u.jsxDEV(At,{variant:"ghost",size:"sm",className:"h-8 px-1.5 gap-1 bg-primary/10 shrink-0",children:[u.jsxDEV(P.Table,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:623,columnNumber:15},this),u.jsxDEV("span",{className:"text-xs hidden sm:inline",children:"Table"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:624,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:618,columnNumber:13},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:617,columnNumber:11},this),u.jsxDEV(Ps,{align:"start",className:"w-56",children:[u.jsxDEV(Ie,{onClick:()=>t.chain().focus().addColumnBefore().run(),disabled:!t.can().addColumnBefore(),children:[u.jsxDEV(P.Columns,{size:16,className:"mr-2"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:632,columnNumber:15},this)," Add Column Before"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:628,columnNumber:13},this),u.jsxDEV(Ie,{onClick:()=>t.chain().focus().addColumnAfter().run(),disabled:!t.can().addColumnAfter(),children:[u.jsxDEV(P.Columns,{size:16,className:"mr-2"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:638,columnNumber:15},this)," Add Column After"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:634,columnNumber:13},this),u.jsxDEV(Ie,{onClick:()=>t.chain().focus().deleteColumn().run(),disabled:!t.can().deleteColumn(),children:[u.jsxDEV(P.Trash2,{size:16,className:"mr-2 text-destructive"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:644,columnNumber:15},this)," Delete Column"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:640,columnNumber:13},this),u.jsxDEV(Is,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:646,columnNumber:13},this),u.jsxDEV(Ie,{onClick:()=>t.chain().focus().addRowBefore().run(),disabled:!t.can().addRowBefore(),children:[u.jsxDEV(P.Rows,{size:16,className:"mr-2"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:651,columnNumber:15},this)," Add Row Before"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:647,columnNumber:13},this),u.jsxDEV(Ie,{onClick:()=>t.chain().focus().addRowAfter().run(),disabled:!t.can().addRowAfter(),children:[u.jsxDEV(P.Rows,{size:16,className:"mr-2"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:657,columnNumber:15},this)," Add Row After"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:653,columnNumber:13},this),u.jsxDEV(Ie,{onClick:()=>t.chain().focus().deleteRow().run(),disabled:!t.can().deleteRow(),children:[u.jsxDEV(P.Trash2,{size:16,className:"mr-2 text-destructive"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:663,columnNumber:15},this)," Delete Row"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:659,columnNumber:13},this),u.jsxDEV(Is,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:665,columnNumber:13},this),u.jsxDEV(Ie,{onClick:()=>t.chain().focus().toggleHeaderRow().run(),disabled:!t.can().toggleHeaderRow(),children:[u.jsxDEV(P.ToggleLeft,{size:16,className:"mr-2"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:670,columnNumber:15},this)," Toggle Header Row"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:666,columnNumber:13},this),u.jsxDEV(Ie,{onClick:()=>t.chain().focus().toggleHeaderColumn().run(),disabled:!t.can().toggleHeaderColumn(),children:[u.jsxDEV(P.ToggleLeft,{size:16,className:"mr-2"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:676,columnNumber:15},this)," Toggle Header Column"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:672,columnNumber:13},this),u.jsxDEV(Is,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:679,columnNumber:13},this),u.jsxDEV(Ie,{onClick:()=>t.chain().focus().deleteTable().run(),disabled:!t.can().deleteTable(),className:"text-destructive",children:[u.jsxDEV(P.Trash2,{size:16,className:"mr-2"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:685,columnNumber:15},this)," Delete Table"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:680,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:627,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:616,columnNumber:9},this),u.jsxDEV(sl,{isOpen:d,onClose:()=>c(!1),onInsert:g,position:m},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:692,columnNumber:7},this),u.jsxDEV(wn,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:700,columnNumber:7},this),u.jsxDEV(Me,{onClick:k,tooltip:"Sort tasks: unchecked first, checked last",children:u.jsxDEV(P.ArrowUpDown,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:705,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:701,columnNumber:7},this),i&&u.jsxDEV(u.Fragment,{children:[u.jsxDEV(wn,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:711,columnNumber:11},this),u.jsxDEV(Bs,{children:[u.jsxDEV($s,{asChild:!0,children:u.jsxDEV("button",{ref:l,onClick:()=>{l.current&&a?.(l.current)},className:`
                  flex items-center justify-center w-8 h-8 rounded-md shrink-0
                  transition-all duration-100 ease-out touch-manipulation
                  bg-transparent text-muted-foreground hover:bg-secondary active:bg-secondary/80
                  hover:text-foreground
                `,children:u.jsxDEV(P.Sparkles,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:728,columnNumber:17},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:714,columnNumber:15},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:713,columnNumber:13},this),u.jsxDEV(Ws,{side:"bottom",className:"text-xs",children:"AI Writing Assistant"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:731,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:712,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:710,columnNumber:9},this),u.jsxDEV("div",{className:"flex-1 min-w-2"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:739,columnNumber:7},this),n&&u.jsxDEV(Bs,{children:[u.jsxDEV($s,{asChild:!0,children:u.jsxDEV(At,{variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 shrink-0",onClick:n,children:[u.jsxDEV(P.Copy,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:751,columnNumber:15},this),u.jsxDEV("span",{className:"text-xs hidden md:inline",children:"Copy MD"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:752,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:745,columnNumber:13},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:744,columnNumber:11},this),u.jsxDEV(Ws,{side:"bottom",className:"text-xs",children:"Copy content as Markdown"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:755,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:743,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorToolbar.tsx",lineNumber:375,columnNumber:5},this)});function hu({editor:e,isOpen:t,onClose:n,focusTrigger:r=0,initialSearchQuery:o,editorMode:s="wysiwyg",rawMarkdown:i="",onRawMarkdownChange:a,onMatchesChange:l}){const d=s==="markdown",[c,m]=h.useState(""),[f,p]=h.useState(""),[N,g]=h.useState(!1),[b,v]=h.useState(!1),[y,w]=h.useState(!1),[D,k]=h.useState(!1),[S,E]=h.useState([]),[A,x]=h.useState(0),[T,M]=h.useState(null),[O,I]=h.useState(!1),V=h.useRef(!1),W=h.useRef(null),U=h.useRef(null),K=h.useRef(!1);h.useEffect(()=>{t&&o&&o.trim()&&m(o)},[t,o,r]);const L=h.useCallback(()=>{if(!c||!e){E([]),x(0),M(null);return}const B=[];let Y;try{if(b)Y=new RegExp(c,N?"g":"gi");else{let q=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");y&&(q=`\\b${q}\\b`),Y=new RegExp(q,N?"g":"gi")}M(null)}catch(q){M(q.message),E([]);return}if(d){let q;for(;(q=Y.exec(i))!==null;)B.push({from:q.index,to:q.index+q[0].length,text:q[0]})}else{const{doc:q}=e.state;q.descendants((R,Ne)=>{if(R.isText&&R.text){let ke;for(;(ke=Y.exec(R.text))!==null;)B.push({from:Ne+ke.index,to:Ne+ke.index+ke[0].length,text:ke[0]})}return!0})}E(B),B.length>0&&A>=B.length&&x(0)},[c,N,b,y,e,A,d,i]);h.useEffect(()=>{L()},[L]),h.useEffect(()=>{d&&l&&(t&&S.length>0?l(S,A):l([],0))},[d,t,S,A,l]),h.useEffect(()=>{if(!e)return;if(d){typeof e.commands.clearSearchHighlight=="function"&&e.commands.clearSearchHighlight();return}const B=typeof e.commands.setSearchHighlight=="function";t&&c&&B?e.commands.setSearchHighlight({searchTerm:c,caseSensitive:N,useRegex:b,currentMatchIndex:A}):B&&e.commands.clearSearchHighlight()},[e,t,c,N,b,A,d,S,i]),h.useEffect(()=>{!t&&e&&(typeof e.commands.clearSearchHighlight=="function"&&e.commands.clearSearchHighlight(),l&&l([],0),V.current||typeof e.commands.clearAllOccurrences=="function"&&(e.commands.clearAllOccurrences(),I(!1)),V.current=!1)},[t,e,l]),h.useEffect(()=>{if(S.length>0&&A<S.length){const B=S[A];if(d){const q=document.querySelector(".syntax-textarea");if(q&&K.current){const R=parseInt(getComputedStyle(q).lineHeight)||22,ke=i.substring(0,B.from).split(`
`).length;q.scrollTop=Math.max(0,(ke-3)*R)}K.current&&(K.current=!1);return}const Y=e.view.domAtPos(B.from);Y.node&&Y.node.parentElement?.scrollIntoView({behavior:"smooth",block:"center"}),K.current&&(K.current=!1)}},[A,S,e,d,i]),h.useEffect(()=>{t&&W.current&&(W.current.focus(),W.current.select())},[t,r]);const z=h.useCallback(()=>{S.length!==0&&(K.current=!0,x(B=>(B+1)%S.length))},[S.length]),Q=h.useCallback(()=>{S.length!==0&&(K.current=!0,x(B=>(B-1+S.length)%S.length))},[S.length]),re=h.useCallback(()=>{if(S.length===0||A>=S.length)return;const B=S[A];if(d&&a){const Y=i.substring(0,B.from)+f+i.substring(B.to);a(Y),setTimeout(L,10);return}e.chain().focus().setTextSelection({from:B.from,to:B.to}).deleteSelection().insertContent(f).run(),setTimeout(L,10)},[S,A,f,e,L,d,i,a]),oe=h.useCallback(()=>{if(S.length===0)return;if(d&&a){const Y=[...S].sort((R,Ne)=>Ne.from-R.from);let q=i;Y.forEach(R=>{q=q.substring(0,R.from)+f+q.substring(R.to)}),a(q),setTimeout(L,10);return}const B=[...S].sort((Y,q)=>q.from-Y.from);e.chain().focus(),B.forEach(Y=>{e.chain().setTextSelection({from:Y.from,to:Y.to}).deleteSelection().insertContent(f).run()}),setTimeout(L,10)},[S,f,e,L,d,i,a]),te=h.useCallback(()=>{if(S.length===0||!c||!(typeof e.commands.selectAllOccurrences=="function"))return;e.commands.selectAllOccurrences({searchTerm:c,caseSensitive:N,useRegex:b,wholeWord:y})&&(I(!0),V.current=!0,typeof e.commands.clearSearchHighlight=="function"&&e.commands.clearSearchHighlight(),n(),e.commands.focus())},[S,c,N,b,y,e,n]),ne=h.useCallback(B=>{B.key==="Enter"?(B.preventDefault(),B.shiftKey?Q():z(),W.current?.focus()):B.key==="Escape"?(B.preventDefault(),n()):B.key==="h"&&(B.ctrlKey||B.metaKey)?(B.preventDefault(),k(Y=>!Y)):B.key==="l"&&(B.ctrlKey||B.metaKey)&&B.shiftKey&&(B.preventDefault(),te())},[z,Q,n,te]);return t?u.jsxDEV("div",{className:"find-replace-panel",onKeyDown:ne,children:[u.jsxDEV("div",{className:"find-replace-row",children:[u.jsxDEV("div",{className:"find-replace-input-wrapper",children:[u.jsxDEV(P.Search,{size:14,className:"find-replace-icon"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:381,columnNumber:11},this),u.jsxDEV("input",{ref:W,type:"text",placeholder:"Find...",value:c,onChange:B=>m(B.target.value),className:`find-replace-input ${T?"has-error":""}`},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:382,columnNumber:11},this),T&&u.jsxDEV("span",{className:"find-replace-error",title:T,children:"!"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:391,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:380,columnNumber:9},this),u.jsxDEV("span",{className:"find-replace-count",children:S.length>0?`${A+1} of ${S.length}`:c?"No results":""},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:396,columnNumber:9},this),u.jsxDEV("button",{onClick:Q,disabled:S.length===0,className:"find-replace-btn",title:"Previous match (Shift+Enter)",children:u.jsxDEV(P.ChevronUp,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:410,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:404,columnNumber:9},this),u.jsxDEV("button",{onClick:z,disabled:S.length===0,className:"find-replace-btn",title:"Next match (Enter)",children:u.jsxDEV(P.ChevronDown,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:418,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:412,columnNumber:9},this),u.jsxDEV("button",{onClick:te,disabled:S.length===0,className:`find-replace-btn ${O?"active":""}`,title:`Select all occurrences (${navigator.platform?.includes("Mac")?"⌘":"Ctrl"}+Shift+L) — Apply formatting to all ${S.length} matches`,children:u.jsxDEV(P.MousePointerClick,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:428,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:422,columnNumber:9},this),u.jsxDEV("div",{className:"find-replace-separator"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:432,columnNumber:9},this),u.jsxDEV("button",{onClick:()=>g(B=>!B),className:`find-replace-btn ${N?"active":""}`,title:"Match case",children:u.jsxDEV(P.CaseSensitive,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:440,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:435,columnNumber:9},this),u.jsxDEV("button",{onClick:()=>w(B=>!B),className:`find-replace-btn ${y?"active":""}`,title:"Match whole word",children:u.jsxDEV(P.WholeWord,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:447,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:442,columnNumber:9},this),u.jsxDEV("button",{onClick:()=>v(B=>!B),className:`find-replace-btn ${b?"active":""}`,title:"Use regex",children:u.jsxDEV(P.Regex,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:454,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:449,columnNumber:9},this),u.jsxDEV("button",{onClick:()=>k(B=>!B),className:`find-replace-btn ${D?"active":""}`,title:"Toggle replace (Ctrl+H)",children:u.jsxDEV(P.Replace,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:463,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:458,columnNumber:9},this),u.jsxDEV("button",{onClick:n,className:"find-replace-btn",title:"Close (Escape)",children:u.jsxDEV(P.X,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:472,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:467,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:379,columnNumber:7},this),D&&u.jsxDEV("div",{className:"find-replace-row",children:[u.jsxDEV("div",{className:"find-replace-input-wrapper",children:[u.jsxDEV(P.Replace,{size:14,className:"find-replace-icon"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:480,columnNumber:13},this),u.jsxDEV("input",{ref:U,type:"text",placeholder:"Replace with...",value:f,onChange:B=>p(B.target.value),className:"find-replace-input"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:481,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:479,columnNumber:11},this),u.jsxDEV("button",{onClick:re,disabled:S.length===0,className:"find-replace-btn replace-btn",title:"Replace current",children:"Replace"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:491,columnNumber:11},this),u.jsxDEV("button",{onClick:oe,disabled:S.length===0,className:"find-replace-btn replace-btn",title:"Replace all",children:[u.jsxDEV(P.ReplaceAll,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:505,columnNumber:13},this),"All"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:499,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:478,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/FindReplace.tsx",lineNumber:374,columnNumber:5},this):null}const wt=typeof navigator<"u"&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"⌘":"Ctrl",gx=({editor:e})=>{const[t,n]=h.useState(!1),[r,o]=h.useState(0),[s,i]=h.useState(0),[a,l]=h.useState(""),[d,c]=h.useState(""),[m,f]=h.useState(!1),[p,N]=h.useState(!1);h.useEffect(()=>{if(!e)return;const E=()=>{const x=e.storage.selectAllOccurrences;x?(n(x.isActive),o(x.ranges.length),i(x.allMatches.length),l(x.searchTerm),c(x.typedBuffer),f(x.isTypingReplace),N(x.isIncremental)):(n(!1),o(0),i(0))},A=()=>{E()};return e.on("transaction",A),E(),()=>{e.off("transaction",A)}},[e]);const g=h.useCallback(()=>{e.commands.toggleMarkOnAllOccurrences("bold"),e.commands.focus()},[e]),b=h.useCallback(()=>{e.commands.toggleMarkOnAllOccurrences("italic"),e.commands.focus()},[e]),v=h.useCallback(()=>{e.commands.toggleMarkOnAllOccurrences("underline"),e.commands.focus()},[e]),y=h.useCallback(()=>{e.commands.toggleMarkOnAllOccurrences("strike"),e.commands.focus()},[e]),w=h.useCallback(()=>{e.commands.deleteAllOccurrences(),e.commands.focus()},[e]),D=h.useCallback(()=>{e.commands.clearAllOccurrences(),e.commands.focus()},[e]),k=h.useCallback(()=>{e.commands.selectNextOccurrence(),e.commands.focus()},[e]),S=h.useCallback(()=>{a&&(e.commands.selectAllOccurrences({searchTerm:a,caseSensitive:!1,useRegex:!1,wholeWord:!1}),e.commands.focus())},[e,a]);return!t||r===0?null:u.jsxDEV("div",{className:"select-all-action-bar",children:[u.jsxDEV("div",{className:"select-all-action-bar-inner",children:[u.jsxDEV("div",{className:"select-all-action-bar-count",children:[u.jsxDEV("span",{className:"select-all-action-bar-count-number",children:p&&s>0?`${r}/${s}`:r},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:131,columnNumber:11},void 0),u.jsxDEV("span",{className:"select-all-action-bar-count-label",children:"selected"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:134,columnNumber:11},void 0)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:130,columnNumber:9},void 0),u.jsxDEV("div",{className:"select-all-action-bar-preview",children:m?u.jsxDEV(u.Fragment,{children:[u.jsxDEV(P.Type,{size:12,className:"select-all-action-bar-preview-icon"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:141,columnNumber:15},void 0),u.jsxDEV("span",{className:"select-all-action-bar-preview-old",children:a},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:142,columnNumber:15},void 0),u.jsxDEV("span",{className:"select-all-action-bar-preview-arrow",children:"→"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:143,columnNumber:15},void 0),u.jsxDEV("span",{className:"select-all-action-bar-preview-new",children:d||"∅"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:144,columnNumber:15},void 0)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:140,columnNumber:13},void 0):u.jsxDEV(u.Fragment,{children:u.jsxDEV("span",{className:"select-all-action-bar-preview-term",children:['"',a,'"']},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:148,columnNumber:15},void 0)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:147,columnNumber:13},void 0)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:138,columnNumber:9},void 0),u.jsxDEV("div",{className:"select-all-action-bar-separator"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:154,columnNumber:9},void 0),p&&r<s&&u.jsxDEV(u.Fragment,{children:[u.jsxDEV("button",{onClick:k,className:"select-all-action-bar-btn select-all-action-bar-btn-primary",title:`Select next occurrence (${wt}+D)`,children:u.jsxDEV(P.Plus,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:164,columnNumber:15},void 0)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:159,columnNumber:13},void 0),u.jsxDEV("button",{onClick:S,className:"select-all-action-bar-btn select-all-action-bar-btn-secondary",title:`Select all remaining (${wt}+Shift+L)`,children:"All"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:166,columnNumber:13},void 0),u.jsxDEV("div",{className:"select-all-action-bar-separator"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:173,columnNumber:13},void 0)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:158,columnNumber:11},void 0),u.jsxDEV("button",{onClick:g,className:"select-all-action-bar-btn",title:`Bold all occurrences (${wt}+B)`,children:u.jsxDEV(P.Bold,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:183,columnNumber:11},void 0)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:178,columnNumber:9},void 0),u.jsxDEV("button",{onClick:b,className:"select-all-action-bar-btn",title:`Italic all occurrences (${wt}+I)`,children:u.jsxDEV(P.Italic,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:190,columnNumber:11},void 0)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:185,columnNumber:9},void 0),u.jsxDEV("button",{onClick:v,className:"select-all-action-bar-btn",title:`Underline all occurrences (${wt}+U)`,children:u.jsxDEV(P.Underline,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:197,columnNumber:11},void 0)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:192,columnNumber:9},void 0),u.jsxDEV("button",{onClick:y,className:"select-all-action-bar-btn",title:"Strikethrough all occurrences",children:u.jsxDEV(P.Strikethrough,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:204,columnNumber:11},void 0)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:199,columnNumber:9},void 0),u.jsxDEV("div",{className:"select-all-action-bar-separator"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:208,columnNumber:9},void 0),u.jsxDEV("button",{onClick:w,className:"select-all-action-bar-btn select-all-action-bar-btn-danger",title:"Delete all occurrences",children:u.jsxDEV(P.Trash2,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:216,columnNumber:11},void 0)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:211,columnNumber:9},void 0),u.jsxDEV("button",{onClick:D,className:"select-all-action-bar-btn",title:"Exit select all mode (Escape)",children:u.jsxDEV(P.X,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:225,columnNumber:11},void 0)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:220,columnNumber:9},void 0)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:128,columnNumber:7},void 0),u.jsxDEV("div",{className:"select-all-action-bar-hint",children:p&&r<s?u.jsxDEV(u.Fragment,{children:[u.jsxDEV("kbd",{children:[wt,"+D"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:233,columnNumber:13},void 0)," next · ",u.jsxDEV("kbd",{children:[wt,"+Shift+L"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:233,columnNumber:42},void 0)," all · Type to replace · ",u.jsxDEV("kbd",{children:"Esc"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:233,columnNumber:94},void 0)," to exit · ",u.jsxDEV("kbd",{children:[wt,"+Z"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:233,columnNumber:119},void 0)," undo"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:232,columnNumber:11},void 0):u.jsxDEV(u.Fragment,{children:["Type to replace all · ",u.jsxDEV("kbd",{children:"Esc"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:237,columnNumber:35},void 0)," to exit · ",u.jsxDEV("kbd",{children:"Backspace"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:237,columnNumber:60},void 0)," to delete · ",u.jsxDEV("kbd",{children:[wt,"+Z"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:237,columnNumber:93},void 0)," undo"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:236,columnNumber:11},void 0)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:230,columnNumber:7},void 0)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SelectAllActionBar.tsx",lineNumber:127,columnNumber:5},void 0)},gu=h.memo(gx),oo="-dismissed";function bx(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return t}function bu(e,t={}){const{storageKey:n="paragon-editor-content",debounceMs:r=1e3,enabled:o=!0,onSave:s,onRecover:i}=t,[a,l]=h.useState({status:"idle",lastSaved:null,hasRecoverableContent:!1,error:null}),d=h.useRef(null),c=h.useRef(""),m=h.useRef(0);h.useEffect(()=>{if(o&&!(!e||e.isDestroyed))try{const v=localStorage.getItem(n),y=localStorage.getItem(n+oo);if(v&&!y){let w="";try{w=e.getHTML()||""}catch{return}v!==w&&v.length>50&&l(D=>({...D,hasRecoverableContent:!0}))}}catch(v){console.warn("useAutoSave: Error checking for recoverable content",v)}},[e,n,o]);const f=h.useCallback(()=>{if(!(!e||!o||e.isDestroyed))try{const v=e.getHTML(),y=bx(v);if(y===m.current&&v.length===c.current.length){l(w=>({...w,status:"saved"}));return}if(v.length<20)return;l(w=>({...w,status:"saving"})),localStorage.setItem(n,v),localStorage.setItem(n+"-timestamp",new Date().toISOString()),c.current=v,m.current=y,l(w=>({...w,status:"saved",lastSaved:new Date,error:null})),s?.(v),setTimeout(()=>{l(w=>w.status==="saved"?{...w,status:"idle"}:w)},2e3)}catch(v){console.error("useAutoSave: Error saving content",v),l(y=>({...y,status:"error",error:v instanceof Error?v.message:"Failed to save"}))}},[e,n,o,s]);h.useEffect(()=>{if(!e||!o||e.isDestroyed)return;const v=()=>{e.isDestroyed||(d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{f()},r))};return e.on("update",v),()=>{e.off("update",v),d.current&&clearTimeout(d.current)}},[e,r,o,f]),h.useEffect(()=>{if(!e||!o||e.isDestroyed)return;const v=()=>{if(!e.isDestroyed)try{const y=e.getHTML();y.length>=20&&(localStorage.setItem(n,y),localStorage.setItem(n+"-timestamp",new Date().toISOString()))}catch(y){console.warn("useAutoSave: Error saving on unload",y)}};return window.addEventListener("beforeunload",v),()=>{window.removeEventListener("beforeunload",v)}},[e,n,o]);const p=h.useCallback(()=>{d.current&&clearTimeout(d.current),f()},[f]),N=h.useCallback(()=>{try{localStorage.removeItem(n),localStorage.removeItem(n+"-timestamp"),localStorage.removeItem(n+oo),c.current="",l({status:"idle",lastSaved:null,hasRecoverableContent:!1,error:null})}catch(v){console.warn("useAutoSave: Error clearing content",v)}},[n]),g=h.useCallback(()=>{if(!e||e.isDestroyed)return null;try{const v=localStorage.getItem(n);return v&&e&&!e.isDestroyed?(l(y=>({...y,hasRecoverableContent:!1})),queueMicrotask(()=>{if(e&&!e.isDestroyed)try{e.commands.setContent(v),c.current=v,localStorage.removeItem(n+oo),i?.(v)}catch(y){console.warn("useAutoSave: Error setting content during recovery",y)}}),v):null}catch(v){return console.warn("useAutoSave: Error recovering content",v),null}},[e,n,i]),b=h.useCallback(()=>{try{localStorage.setItem(n+oo,"true"),l(v=>({...v,hasRecoverableContent:!1}))}catch(v){console.warn("useAutoSave: Error dismissing recovery",v)}},[n]);return{...a,save:p,clear:N,recover:g,dismissRecovery:b}}const Nx=200;function Nu(e,t={}){const{debounceMs:n=500,extendedStats:r=!1,enabled:o=!0}=t,[s,i]=h.useState({words:0,characters:0,charactersWithSpaces:0,paragraphs:0,sentences:0,readingTime:0,isCalculating:!1}),a=h.useRef(null),l=h.useRef(""),d=h.useCallback(c=>{const m=c.trim(),f=m.length>0?m.split(/\s+/).filter(y=>y.length>0).length:0,p=m.replace(/\s/g,"").length,N=c.length;let g=0,b=0;r&&(g=m.length>0?m.split(/\n\s*\n/).filter(y=>y.trim().length>0).length:0,b=m.length>0?(m.match(/[.!?]+/g)||[]).length:0);const v=Math.max(1,Math.ceil(f/Nx));return{words:f,characters:p,charactersWithSpaces:N,paragraphs:g,sentences:b,readingTime:v,isCalculating:!1}},[r]);return h.useEffect(()=>{if(!e||!o)return;const c=()=>{a.current&&clearTimeout(a.current),i(m=>({...m,isCalculating:!0})),a.current=setTimeout(()=>{try{const m=e.getText();if(m===l.current){i(p=>({...p,isCalculating:!1}));return}l.current=m;const f=d(m);i(f)}catch(m){console.warn("useWordCount: Error calculating word count",m),i(f=>({...f,isCalculating:!1}))}},n)};return c(),e.on("update",c),()=>{e.off("update",c),a.current&&clearTimeout(a.current)}},[e,n,o,d]),s}function yu({status:e,lastSaved:t,className:n=""}){const r=o=>{if(!o)return"";const i=new Date().getTime()-o.getTime(),a=Math.floor(i/1e3),l=Math.floor(a/60),d=Math.floor(l/60);return a<10?"Just now":a<60?`${a}s ago`:l<60?`${l}m ago`:d<24?`${d}h ago`:o.toLocaleDateString()};return u.jsxDEV("div",{className:`auto-save-indicator flex items-center gap-1.5 text-xs ${n}`,title:t?`Last saved: ${t.toLocaleString()}`:"Not saved yet",children:[e==="idle"&&t&&u.jsxDEV(u.Fragment,{children:[u.jsxDEV(P.Cloud,{className:"w-3.5 h-3.5 text-muted-foreground"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:40,columnNumber:11},this),u.jsxDEV("span",{className:"text-muted-foreground",children:["Saved ",r(t)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:41,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:39,columnNumber:9},this),e==="saving"&&u.jsxDEV(u.Fragment,{children:[u.jsxDEV(P.Loader2,{className:"w-3.5 h-3.5 text-cyan-500 animate-spin"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:47,columnNumber:11},this),u.jsxDEV("span",{className:"text-cyan-500",children:"Saving..."},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:48,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:46,columnNumber:9},this),e==="saved"&&u.jsxDEV(u.Fragment,{children:[u.jsxDEV(P.Check,{className:"w-3.5 h-3.5 text-emerald-500"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:54,columnNumber:11},this),u.jsxDEV("span",{className:"text-emerald-500",children:"Saved"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:55,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:53,columnNumber:9},this),e==="error"&&u.jsxDEV(u.Fragment,{children:[u.jsxDEV(P.CloudOff,{className:"w-3.5 h-3.5 text-red-500"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:61,columnNumber:11},this),u.jsxDEV("span",{className:"text-red-500",children:"Save failed"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:60,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/AutoSaveIndicator.tsx",lineNumber:34,columnNumber:5},this)}function xu({onRecover:e,onDismiss:t,className:n=""}){return u.jsxDEV("div",{className:`recovery-banner flex items-center justify-between gap-4 px-4 py-3 rounded-lg ${n}`,children:[u.jsxDEV("div",{className:"flex items-center gap-3 min-w-0",children:[u.jsxDEV(P.AlertCircle,{className:"w-5 h-5 recovery-banner-icon flex-shrink-0"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/RecoveryBanner.tsx",lineNumber:22,columnNumber:9},this),u.jsxDEV("span",{className:"text-sm recovery-banner-text",children:"We found unsaved content from your last session."},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/RecoveryBanner.tsx",lineNumber:23,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/RecoveryBanner.tsx",lineNumber:21,columnNumber:7},this),u.jsxDEV("div",{className:"flex items-center gap-3 flex-shrink-0",children:[u.jsxDEV("button",{onClick:e,className:"recovery-banner-btn flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-md transition-colors duration-150",children:[u.jsxDEV(P.RotateCcw,{className:"w-4 h-4"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/RecoveryBanner.tsx",lineNumber:33,columnNumber:11},this),"Recover"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/RecoveryBanner.tsx",lineNumber:29,columnNumber:9},this),u.jsxDEV("button",{onClick:t,className:"recovery-banner-dismiss p-2 rounded-md transition-colors duration-150",title:"Dismiss","aria-label":"Dismiss recovery banner",children:u.jsxDEV(P.X,{className:"w-5 h-5"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/RecoveryBanner.tsx",lineNumber:43,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/RecoveryBanner.tsx",lineNumber:37,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/RecoveryBanner.tsx",lineNumber:28,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/RecoveryBanner.tsx",lineNumber:18,columnNumber:5},this)}const yx=/\[\[([^\[\]]+)\]\]$/,vu=me.Mark.create({name:"wikiLink",addOptions(){return{HTMLAttributes:{},onWikiLinkClick:void 0,validateLink:void 0,linkClass:"wiki-link",invalidLinkClass:"wiki-link-invalid"}},addAttributes(){return{pageName:{default:null,parseHTML:e=>e.getAttribute("data-page-name"),renderHTML:e=>e.pageName?{"data-page-name":e.pageName}:{}}}},parseHTML(){return[{tag:"span[data-wiki-link]"}]},renderHTML({HTMLAttributes:e}){const t=e["data-page-name"]||"",n=this.options.validateLink?this.options.validateLink(t):!0;return["span",me.mergeAttributes(this.options.HTMLAttributes,e,{"data-wiki-link":"",class:n?this.options.linkClass:`${this.options.linkClass} ${this.options.invalidLinkClass}`}),0]},addCommands(){return{setWikiLink:e=>({commands:t})=>t.setMark(this.name,e),unsetWikiLink:()=>({commands:e})=>e.unsetMark(this.name)}},addInputRules(){return this.type,[new me.InputRule({find:yx,handler:({state:e,range:t,match:n,chain:r})=>{try{const o=n[1];if(!o)return;const s=t.from,i=t.to;r().deleteRange({from:s,to:i}).insertContentAt(s,{type:"text",text:o,marks:[{type:"wikiLink",attrs:{pageName:o}}]}).run()}catch(o){console.warn("WikiLinkSafe: Error in input rule",o)}}})]},onCreate(){const{onWikiLinkClick:e}=this.options;if(!e)return;const t=n=>{const r=n.target;if(r.hasAttribute("data-wiki-link")){const o=r.getAttribute("data-page-name");o&&(n.preventDefault(),e(o))}};this.editor.view.dom.addEventListener("click",t),this._clickHandler=t},onDestroy(){const e=this._clickHandler;e&&this.editor.view.dom.removeEventListener("click",e)}}),kt={header:/^#{1,6}\s+/m,bold:/\*\*[^*]+\*\*/,highlight:/==[^=]+==/,codeBlock:/```[\s\S]*?```/,list:/^\s*[-*]\s+/m,taskList:/^\s*[-*]\s*\[[ x]\]/im,link:/\[.+\]\(.+\)/,table:/^\|[^\n]+\n\|[-:\s|]+/m,callout:/```(?:info|note|prompt|resources|todo)\s*\n[\s\S]*?```/},wu=["info","note","prompt","resources","todo"];function xx(e){return e.length<3?!1:!!(kt.header.test(e)||kt.bold.test(e)||kt.list.test(e)||kt.taskList.test(e)||kt.codeBlock.test(e)||kt.callout.test(e)||kt.highlight.test(e)||kt.link.test(e)||kt.table.test(e))}function vx(e){const t=e.trim().split(`
`);if(t.length<2)return"";const r=t[0].split("|").map(a=>a.trim()).filter(a=>a.length>0);if(r.length===0||!t[1].includes("-"))return"";const s=t.slice(2);let i="<table><thead><tr>";for(const a of r)i+="<th><p>"+a+"</p></th>";i+="</tr></thead><tbody>";for(const a of s){if(!a.trim())continue;const l=a.split("|"),d=[];for(let c=0;c<l.length;c++){const m=l[c].trim();c===0&&m===""&&a.trim().startsWith("|")||c===l.length-1&&m===""&&a.trim().endsWith("|")||d.push(m)}if(d.length!==0){i+="<tr>";for(let c=0;c<r.length;c++){const m=d[c]||"";i+="<td><p>"+m+"</p></td>"}i+="</tr>"}}return i+="</tbody></table>",i}function wx(e){let t=e;const n=/^(\|[^\n]*(?:\n\|[^\n]*)*)/gm,r=[];t=t.replace(n,i=>{const a=i.split(`
`);if(a.length>=2){const l=a[1];if(/^\|?[\s\-:|]+\|?$/.test(l)&&l.includes("-")){const d=vx(i);if(d){const c=`MANUSTABLEPLACEHOLDER${r.length}END`;return r.push(d),c}}}return i}),wu.forEach(i=>{const a=new RegExp(`\`\`\`${i}\\s*\\n([\\s\\S]*?)\`\`\``,"g");t=t.replace(a,(l,d)=>{let c=d.trim();return c=c.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),c=c.replace(/__([^_]+)__/g,"<strong>$1</strong>"),c=c.replace(new RegExp("(?<!\\*)\\*([^*]+)\\*(?!\\*)","g"),"<em>$1</em>"),c=c.replace(new RegExp("(?<!_)_([^_]+)_(?!_)","g"),"<em>$1</em>"),c=c.replace(/`([^`]+)`/g,"<code>$1</code>"),c.startsWith("<")||(c=`<p>${c}</p>`),`<div data-callout="" data-type="${i}" class="callout callout-${i}">${c}</div>`})}),t=t.replace(/```(\w*)\n([\s\S]*?)```/g,(i,a,l)=>{if(wu.includes(a))return`<div data-callout="" data-type="${a}" class="callout callout-${a}"><p>${l.trim()}</p></div>`;const d=a||"plaintext",c=l.trim().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return`<pre><code class="language-${d}">${c}</code></pre>`}),t=t.replace(/`([^`]+)`/g,"<code>$1</code>"),t=t.replace(/^(#{1,6})\s+(.+)$/gm,(i,a,l)=>{const d=a.length;return`<h${d}>${l}</h${d}>`}),t=t.replace(/^(\s*)[-*]\s*\[x\]\s+(.+)$/gim,'$1<li data-type="taskItem" data-checked="true"><p>$2</p></li>'),t=t.replace(/^(\s*)[-*]\s*\[\s*\]\s+(.+)$/gim,'$1<li data-type="taskItem" data-checked="false"><p>$2</p></li>'),t=t.replace(/^(\s*)[-*]\s+(?!\[)(.+)$/gm,"$1<li><p>$2</p></li>"),t=t.replace(/^(\s*)\d+\.\s+(.+)$/gm,"$1<li><p>$2</p></li>"),t=t.replace(/(<li data-type="taskItem"[^>]*>[\s\S]*?<\/li>\n?)+/g,'<ul data-type="taskList">$&</ul>'),t=t.replace(/(<li><p>[\s\S]*?<\/p><\/li>\n?)+/g,"<ul>$&</ul>"),t=t.replace(/^>\s+(.+)$/gm,"<blockquote><p>$1</p></blockquote>"),t=t.replace(/^[-*_]{3,}$/gm,"<hr>"),t=t.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),t=t.replace(/__([^_]+)__/g,"<strong>$1</strong>"),t=t.replace(new RegExp("(?<!\\*)\\*([^*]+)\\*(?!\\*)","g"),"<em>$1</em>"),t=t.replace(new RegExp("(?<!_)_([^_]+)_(?!_)","g"),"<em>$1</em>"),t=t.replace(/~~([^~]+)~~/g,"<s>$1</s>"),t=t.replace(new RegExp("(?<!`)==((?:(?!==)[^\\n])+)==(?!`)","g"),"<mark>$1</mark>"),t=t.replace(/!\[([^\]]*?)\s*\|\s*(\d+)\]\(([^)]+)\)/g,'<img src="$3" alt="$1" width="$2" style="width: $2px">'),t=t.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1">'),t=t.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>'),t=t.split(`
`).map(i=>{const a=i.trim();return a?/^<[a-z]/.test(a)||/^<\//.test(a)||a.startsWith("MANUSTABLEPLACEHOLDER")?i:`<p>${a}</p>`:""}).join(`
`),t=t.replace(/<p>\s*<\/p>/g,"");for(let i=0;i<r.length;i++)t=t.replace(`MANUSTABLEPLACEHOLDER${i}END`,r[i]);return t}const ku=me.Extension.create({name:"markdownPasteSafe",addOptions(){return{enableMarkdownPaste:!0}},addProseMirrorPlugins(){if(!this.options.enableMarkdownPaste)return[];const e=this.editor;return[new ye.Plugin({key:new ye.PluginKey("markdownPaste"),props:{handlePaste(t,n,r){const o=n.clipboardData;if(!o)return!1;const s=o.getData("text/html");if(s&&s.trim())return!1;const i=o.getData("text/plain");if(!i||!xx(i))return!1;n.preventDefault();const a=wx(i);return e.commands.insertContent(a,{parseOptions:{preserveWhitespace:!1}}),!0}}})]}}),Eu=new ye.PluginKey("collapsibleHeading");function so(e,t,n){return`h${t}-${n}-${e.textContent.slice(0,50)}`}let kn=null;function zs(e,t,n){const r=[],o=[];e.descendants((l,d)=>{if(l.type.name==="heading"&&n.levels.includes(l.attrs.level)){const c=so(l,l.attrs.level,d);o.push({pos:d,level:l.attrs.level,id:c,isCollapsed:t.collapsedHeadings.has(c),nodeSize:l.nodeSize})}});const s=[];for(let l=0;l<o.length;l++){const d=o[l];if(d.isCollapsed){const c=d.pos+d.nodeSize;let m=e.content.size;for(let f=l+1;f<o.length;f++)if(o[f].level<=d.level){m=o[f].pos;break}c<m&&s.push({start:c,end:m})}}const i=[];for(const l of s)if(i.length===0)i.push(l);else{const d=i[i.length-1];l.start<=d.end?d.end=Math.max(d.end,l.end):i.push(l)}function a(l){for(const d of i)if(l>=d.start&&l<d.end)return!0;return!1}return e.descendants((l,d)=>{if(l.type.name==="heading"&&n.levels.includes(l.attrs.level)){const c=so(l,l.attrs.level,d),m=t.collapsedHeadings.has(c),f=a(d);r.push(Ee.Decoration.node(d,d+l.nodeSize,{class:`collapsible-heading collapsible-heading-level-${l.attrs.level} ${m?"is-collapsed":"is-expanded"}${f?" collapsible-heading-hidden":""}`,"data-heading-id":c,"data-heading-level":String(l.attrs.level)}));const p=Ee.Decoration.widget(d+l.nodeSize-1,()=>{const N=document.querySelector(`button.collapsible-heading-chevron[data-heading-id="${c}"]`);if(N){N.classList.contains("collapsed")!==m&&(N.classList.remove("collapsed","expanded"),N.classList.add(m?"collapsed":"expanded"),N.title=m?"Click to expand":"Click to collapse");const y=N.parentElement;if(y)return y}const g=document.createElement("span");g.className="collapsible-heading-chevron-wrapper",g.setAttribute("contenteditable","false");const b=document.createElement("button");return b.className=`collapsible-heading-chevron ${m?"collapsed":"expanded"}`,b.setAttribute("data-heading-id",c),b.setAttribute("data-heading-level",String(l.attrs.level)),b.setAttribute("contenteditable","false"),b.setAttribute("tabindex","-1"),b.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>',b.title=m?"Click to expand":"Click to collapse",b.addEventListener("click",v=>{v.preventDefault(),v.stopPropagation();const y=b.classList.contains("collapsed");b.classList.remove("collapsed","expanded"),b.classList.add(y?"expanded":"collapsed"),b.title=y?"Click to collapse":"Click to expand",t.collapsedHeadings.has(c)?t.collapsedHeadings.delete(c):t.collapsedHeadings.add(c),kn&&kn.dispatch(kn.state.tr.setMeta("collapsibleHeading",{toggled:c}))}),g.appendChild(b),g},{side:1,key:`chevron-${c}`});r.push(p)}else l.isBlock&&a(d)&&r.push(Ee.Decoration.node(d,d+l.nodeSize,{class:"collapsible-heading-hidden"}))}),Ee.DecorationSet.create(e,r)}const Cu=me.Extension.create({name:"collapsibleHeading",addOptions(){return{levels:[1,2,3,4,5,6]}},addStorage(){return{collapsedHeadings:new Set}},addCommands(){return{toggleHeadingCollapse:e=>({editor:t,tr:n})=>{const r=this.storage,o=n.doc.nodeAt(e);if(!o||o.type.name!=="heading")return!1;const s=so(o,o.attrs.level,e);return r.collapsedHeadings.has(s)?r.collapsedHeadings.delete(s):r.collapsedHeadings.add(s),t.view.dispatch(n.setMeta("collapsibleHeading",{toggled:s})),!0},expandAllHeadings:()=>({editor:e,tr:t})=>(this.storage.collapsedHeadings.clear(),e.view.dispatch(t.setMeta("collapsibleHeading",{expandAll:!0})),!0),collapseAllHeadings:()=>({editor:e,tr:t})=>{const n=this.storage;return t.doc.descendants((o,s)=>{o.type.name==="heading"&&n.collapsedHeadings.add(so(o,o.attrs.level,s))}),e.view.dispatch(t.setMeta("collapsibleHeading",{collapseAll:!0})),!0}}},addProseMirrorPlugins(){const e=this.storage,t=this.options;return[new ye.Plugin({key:Eu,view(n){return kn=n,{update(r){kn=r},destroy(){kn=null}}},state:{init(n,r){return{collapsedHeadings:new Set,decorations:zs(r.doc,e,t),docVersion:0}},apply(n,r,o,s){return n.getMeta("collapsibleHeading")||n.docChanged?{collapsedHeadings:new Set(e.collapsedHeadings),decorations:zs(s.doc,e,t),docVersion:r.docVersion+1}:{...r,decorations:r.decorations.map(n.mapping,n.doc)}}},props:{decorations(n){const r=Eu.getState(n);return r?.decorations?r.decorations:zs(n.doc,e,t)}}})]}}),kx=/\[([^\]]+)\]\(([^)]+)\)$/,Ex=/^(https?:\/\/|www\.)[^\s]+$/i,Su=me.Extension.create({name:"markdownLinkInputRule",addInputRules(){return[new me.InputRule({find:kx,handler:({state:e,range:t,match:n,chain:r})=>{const o=n[1];let s=n[2];s&&!s.startsWith("http://")&&!s.startsWith("https://")&&(s.startsWith("www."),s="https://"+s),r().deleteRange(t).insertContent({type:"text",text:o,marks:[{type:"link",attrs:{href:s,target:"_blank",rel:"noopener noreferrer"}}]}).run()}})]},addProseMirrorPlugins(){const e=this.editor;return[new ye.Plugin({key:new ye.PluginKey("pasteUrlAsLink"),props:{handlePaste(t,n){const r=n.clipboardData;if(!r)return!1;const o=r.getData("text/plain");if(!o)return!1;const s=o.trim();if(!Ex.test(s))return!1;const{state:i}=t,{selection:a}=i,{from:l,to:d,empty:c}=a;let m=s;if(!m.startsWith("http://")&&!m.startsWith("https://")&&(m.startsWith("www."),m="https://"+m),!c&&i.doc.textBetween(l,d))return e.chain().focus().extendMarkRange("link").setLink({href:m}).run(),!0;const f=i.schema.marks.link.create({href:m}),p=i.tr;return p.insertText(m,l,d),p.addMark(l,l+m.length,f),t.dispatch(p),!0}}})]}}),Cx=["info","note","prompt","resources","todo"],Tu=me.Extension.create({name:"calloutInputRule",addProseMirrorPlugins(){const e=this.editor;return[new ye.Plugin({key:new ye.PluginKey("calloutInputRule"),props:{handleKeyDown(t,n){if(n.key!=="Enter")return!1;const{state:r}=t,{selection:o,doc:s}=r,{$from:i}=o,a=i.start();i.end();const l=s.textBetween(a,i.pos,""),d=l.trim();for(const c of Cx)if(d===`\`\`\`${c}`){n.preventDefault();const m=r.tr,f=a+l.indexOf("```");m.delete(f,i.pos);const p=e.schema.nodes.callout,N=e.schema.nodes.paragraph;if(p&&N){const g=N.create(),b=p.create({type:c},im.Fragment.from(g));m.insert(f,b);const v=m.doc.resolve(f+2);m.setSelection(ye.TextSelection.near(v)),t.dispatch(m)}return!0}return!1}}})]}}),io=new ye.PluginKey("searchHighlight"),Mu=me.Extension.create({name:"searchHighlight",addOptions(){return{searchTerm:"",caseSensitive:!1,useRegex:!1,currentMatchIndex:0}},addStorage(){return{searchTerm:"",caseSensitive:!1,useRegex:!1,currentMatchIndex:0}},addCommands(){return{setSearchHighlight:e=>({editor:t,tr:n,dispatch:r})=>(this.storage.searchTerm=e.searchTerm??this.storage.searchTerm,this.storage.caseSensitive=e.caseSensitive??this.storage.caseSensitive,this.storage.useRegex=e.useRegex??this.storage.useRegex,this.storage.currentMatchIndex=e.currentMatchIndex??this.storage.currentMatchIndex,r&&r(n.setMeta(io,{update:!0})),!0),clearSearchHighlight:()=>({editor:e,tr:t,dispatch:n})=>(this.storage.searchTerm="",this.storage.caseSensitive=!1,this.storage.useRegex=!1,this.storage.currentMatchIndex=0,n&&n(t.setMeta(io,{update:!0})),!0)}},addProseMirrorPlugins(){const e=this.storage;return[new ye.Plugin({key:io,state:{init(){return Ee.DecorationSet.empty},apply(t,n,r,o){const{searchTerm:s,caseSensitive:i,useRegex:a,currentMatchIndex:l}=e,d=t.getMeta(io),c=t.docChanged;if(!s)return Ee.DecorationSet.empty;if(!c&&!d)return n.map(t.mapping,o.doc);const m=[];let f=0;try{let p;if(a)p=new RegExp(s,i?"g":"gi");else{const N=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");p=new RegExp(N,i?"g":"gi")}o.doc.descendants((N,g)=>{if(N.isText&&N.text){let b;for(;(b=p.exec(N.text))!==null;){const v=g+b.index,y=g+b.index+b[0].length,w=f===l;m.push(Ee.Decoration.inline(v,y,{class:w?"search-highlight-current":"search-highlight"})),f++}}return!0})}catch{return Ee.DecorationSet.empty}return Ee.DecorationSet.create(o.doc,m)}},props:{decorations(t){return this.getState(t)}}})]}}),Sx=new ye.PluginKey("tabIndent");function Tx(e){const{$from:t}=e.selection;for(let n=t.depth;n>=0;n--){const r=t.node(n);if(r.type.name==="taskItem")return"taskItem";if(r.type.name==="listItem")return"listItem"}return null}const Du=me.Extension.create({name:"tabIndent",priority:1e3,addProseMirrorPlugins(){return[new ye.Plugin({key:Sx,props:{handleKeyDown(e,t){if(t.key!=="Tab")return!1;const{state:n,dispatch:r}=e,o=Tx(n);if(!o)return t.preventDefault(),!0;t.preventDefault();const s=n.schema.nodes[o];if(!s)return!0;if(t.shiftKey){if(!yr.liftListItem(s)(n,r)){const l=o==="taskItem"?"listItem":"taskItem",d=n.schema.nodes[l];d&&yr.liftListItem(d)(n,r)}}else if(!yr.sinkListItem(s)(n,r)){const l=o==="taskItem"?"listItem":"taskItem",d=n.schema.nodes[l];d&&yr.sinkListItem(d)(n,r)}return!0}}})]}}),Oe=new ye.PluginKey("selectAllOccurrences");function Au(e,t,n,r,o){const s=[];if(!t)return s;let i;try{if(r)i=new RegExp(t,n?"g":"gi");else{let a=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");o&&(a=`\\b${a}\\b`),i=new RegExp(a,n?"g":"gi")}}catch{return s}return e.descendants((a,l)=>{if(a.isText&&a.text){let d;for(;(d=i.exec(a.text))!==null;)s.push({from:l+d.index,to:l+d.index+d[0].length,text:d[0]})}return!0}),s}function _t(e,t){const n=Oe.getState(e.state);if(!n)return[];const r=[];return n.find().forEach(o=>{if(o.from===o.to)return;const s=e.state.doc.textBetween(o.from,o.to,"");r.push({from:o.from,to:o.to,text:s})}),r}function Mx(e,t){for(let n=0;n<e.length;n++)if(e[n].from>=t)return n;return 0}function Pe(e){e.isActive=!1,e.ranges=[],e.searchTerm="",e.typedBuffer="",e.isTypingReplace=!1,e.allMatches=[],e.nextMatchIndex=0,e.isIncremental=!1,e.undoStack=[],e.redoStack=[]}const Pu=me.Extension.create({name:"selectAllOccurrences",addStorage(){return{isActive:!1,ranges:[],searchTerm:"",caseSensitive:!1,useRegex:!1,wholeWord:!1,typedBuffer:"",isTypingReplace:!1,originalTermLength:0,allMatches:[],nextMatchIndex:0,isIncremental:!1,undoStack:[],redoStack:[]}},addCommands(){return{selectAllOccurrences:e=>({editor:t,tr:n,dispatch:r})=>{const{searchTerm:o,caseSensitive:s=!1,useRegex:i=!1,wholeWord:a=!1}=e;if(!o)return!1;const l=Au(t.state.doc,o,s,i,a);return l.length===0?!1:(this.storage.isActive=!0,this.storage.ranges=l,this.storage.searchTerm=o,this.storage.caseSensitive=s,this.storage.useRegex=i,this.storage.wholeWord=a,this.storage.typedBuffer="",this.storage.isTypingReplace=!1,this.storage.originalTermLength=o.length,this.storage.allMatches=l,this.storage.nextMatchIndex=l.length,this.storage.isIncremental=!1,this.storage.undoStack=[],this.storage.redoStack=[],r&&r(n.setMeta(Oe,{activate:!0})),!0)},selectNextOccurrence:()=>({editor:e,tr:t,dispatch:n})=>{const r=this.storage;if(!r.isActive){const{state:o}=e,{from:s,to:i}=o.selection;let a="";if(s!==i)a=o.doc.textBetween(s,i,"");else{const m=o.doc.resolve(s),f=m.parent;if(f.isTextblock){const p=f.textContent,N=m.parentOffset;let g=N,b=N;for(;g>0&&/\w/.test(p[g-1]);)g--;for(;b<p.length&&/\w/.test(p[b]);)b++;g<b&&(a=p.slice(g,b))}}if(!a)return!1;const l=Au(o.doc,a,!1,!1,!1);if(l.length===0)return!1;const d=Mx(l,s),c=l[d];return r.isActive=!0,r.ranges=[c],r.searchTerm=a,r.caseSensitive=!1,r.useRegex=!1,r.wholeWord=!1,r.typedBuffer="",r.isTypingReplace=!1,r.originalTermLength=a.length,r.allMatches=l,r.nextMatchIndex=(d+1)%l.length,r.isIncremental=!0,r.undoStack=[],r.redoStack=[],n&&n(t.setMeta(Oe,{activate:!0})),setTimeout(()=>{try{const m=e.view.domAtPos(c.from);m.node&&m.node.parentElement?.scrollIntoView({behavior:"smooth",block:"center"})}catch{}},20),!0}if(r.isIncremental&&r.allMatches.length>0){const o=r.nextMatchIndex,s=r.allMatches[o];return r.ranges.some(a=>a.from===s.from&&a.to===s.to)?!1:(r.ranges=[...r.ranges,s],r.nextMatchIndex=(o+1)%r.allMatches.length,r.ranges.length>=r.allMatches.length&&(r.isIncremental=!1),n&&n(t.setMeta(Oe,{activate:!0})),setTimeout(()=>{try{const a=e.view.domAtPos(s.from);a.node&&a.node.parentElement?.scrollIntoView({behavior:"smooth",block:"center"})}catch{}},20),!0)}return!1},clearAllOccurrences:()=>({tr:e,dispatch:t})=>(Pe(this.storage),t&&t(e.setMeta(Oe,{deactivate:!0})),!0),toggleMarkOnAllOccurrences:e=>({editor:t,tr:n,dispatch:r})=>{if(!this.storage.isActive||this.storage.ranges.length===0)return!1;const o=t.schema.marks[e];if(!o)return!1;const{ranges:s}=this.storage,i=s.every(a=>{let l=!0;return t.state.doc.nodesBetween(a.from,a.to,d=>{d.isText&&!o.isInSet(d.marks)&&(l=!1)}),l});if(r){for(const a of s)i?n.removeMark(a.from,a.to,o):n.addMark(a.from,a.to,o.create());r(n)}return setTimeout(()=>{try{const a=t.view;if(a){const l=_t(a,this.storage);this.storage.ranges=l,l.length===0&&Pe(this.storage)}}catch{}},10),!0},deleteAllOccurrences:()=>({editor:e,tr:t,dispatch:n})=>{if(!this.storage.isActive||this.storage.ranges.length===0)return!1;if(n){const r=[...this.storage.ranges].sort((o,s)=>s.from-o.from);for(const o of r)t.delete(o.from,o.to);n(t)}return Pe(this.storage),!0},replaceAllOccurrences:e=>({editor:t,tr:n,dispatch:r})=>{if(!this.storage.isActive||this.storage.ranges.length===0)return!1;if(r){const o=[...this.storage.ranges].sort((s,i)=>i.from-s.from);for(const s of o)n.replaceWith(s.from,s.to,t.schema.text(e));r(n)}return e?setTimeout(()=>{try{const o=t.view;if(o){const s=_t(o,this.storage);this.storage.ranges=s,this.storage.searchTerm=e,s.length===0&&Pe(this.storage)}}catch{}},10):Pe(this.storage),!0},getOccurrencesState:()=>()=>!0}},addKeyboardShortcuts(){return{"Mod-d":()=>this.editor.commands.selectNextOccurrence()}},addProseMirrorPlugins(){const e=this.storage;return[new ye.Plugin({key:Oe,state:{init(){return Ee.DecorationSet.empty},apply(t,n,r,o){const s=t.getMeta(Oe);if(s?.deactivate||!e.isActive)return Ee.DecorationSet.empty;if(s?.activate||s?.refresh){const i=[];for(const a of e.ranges){i.push(Ee.Decoration.inline(a.from,a.to,{class:"select-all-occurrence-highlight","data-occurrence":"true"}));const l=document.createElement("span");l.className="select-all-multi-cursor",l.setAttribute("aria-hidden","true"),i.push(Ee.Decoration.widget(a.to,l,{side:1,key:`cursor-${a.from}-${a.to}`}))}return Ee.DecorationSet.create(o.doc,i)}return t.docChanged?n.map(t.mapping,o.doc):n}},props:{decorations(t){return this.getState(t)},handleClick(t,n){if(!e.isActive)return!1;if(!e.ranges.some(o=>n>=o.from&&n<=o.to)){Pe(e);const{tr:o}=t.state;t.dispatch(o.setMeta(Oe,{deactivate:!0}))}return!1},handleKeyDown(t,n){if(!e.isActive)return!1;if(n.key==="Escape"){Pe(e);const{tr:r}=t.state;return t.dispatch(r.setMeta(Oe,{deactivate:!0})),!0}if((n.metaKey||n.ctrlKey)&&n.key==="z"&&!n.shiftKey){if(n.preventDefault(),e.isTypingReplace&&e.undoStack.length>0){e.redoStack.push(e.typedBuffer);const o=e.undoStack.pop();return e.typedBuffer=o,o===""&&(e.isTypingReplace=!1),Oi.undo(t.state,t.dispatch),setTimeout(()=>{const s=_t(t);e.ranges=s,s.length===0&&Pe(e)},10),!0}Pe(e);const{tr:r}=t.state;return t.dispatch(r.setMeta(Oe,{deactivate:!0})),!1}if((n.metaKey||n.ctrlKey)&&(n.key==="z"&&n.shiftKey||n.key==="y")){if(n.preventDefault(),e.redoStack.length>0){e.undoStack.push(e.isTypingReplace?e.typedBuffer:"");const o=e.redoStack.pop();return e.typedBuffer=o,e.isTypingReplace=!0,Oi.redo(t.state,t.dispatch),setTimeout(()=>{const s=_t(t);e.ranges=s,s.length===0&&Pe(e)},10),!0}Pe(e);const{tr:r}=t.state;return t.dispatch(r.setMeta(Oe,{deactivate:!0})),!1}if(n.metaKey||n.ctrlKey)return!1;if(n.key==="Backspace"){if(n.preventDefault(),e.isTypingReplace&&e.typedBuffer.length>0){e.undoStack.push(e.typedBuffer),e.typedBuffer=e.typedBuffer.slice(0,-1);const r=_t(t);if(r.length===0){Pe(e);const{tr:a}=t.state;return t.dispatch(a.setMeta(Oe,{deactivate:!0})),!0}const o=e.typedBuffer.length>0?e.typedBuffer:e.searchTerm,s=[...r].sort((a,l)=>l.from-a.from),{tr:i}=t.state;for(const a of s)i.replaceWith(a.from,a.to,t.state.schema.text(o));t.dispatch(i),e.typedBuffer.length===0&&(e.isTypingReplace=!1),setTimeout(()=>{const a=_t(t);e.ranges=a,a.length===0&&Pe(e)},10)}else if(!e.isTypingReplace){const r=[...e.ranges].sort((i,a)=>a.from-i.from),{tr:o}=t.state;for(const i of r)o.delete(i.from,i.to);t.dispatch(o),Pe(e);const{tr:s}=t.state;t.dispatch(s.setMeta(Oe,{deactivate:!0}))}return!0}if(n.key==="Delete"){n.preventDefault();const r=[...e.ranges].sort((i,a)=>a.from-i.from),{tr:o}=t.state;for(const i of r)o.delete(i.from,i.to);t.dispatch(o),Pe(e);const{tr:s}=t.state;return t.dispatch(s.setMeta(Oe,{deactivate:!0})),!0}if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab","Home","End"].includes(n.key)){Pe(e);const{tr:r}=t.state;return t.dispatch(r.setMeta(Oe,{deactivate:!0})),!1}if(n.key==="Enter"){Pe(e);const{tr:r}=t.state;return t.dispatch(r.setMeta(Oe,{deactivate:!0})),!1}return!1},handleTextInput(t,n,r,o){if(!e.isActive||!o)return!1;const s=_t(t);if(s.length===0){Pe(e);const{tr:l}=t.state;return t.dispatch(l.setMeta(Oe,{deactivate:!0})),!0}e.undoStack.push(e.isTypingReplace?e.typedBuffer:""),e.redoStack=[],e.isTypingReplace?e.typedBuffer+=o:(e.isTypingReplace=!0,e.typedBuffer=o);const i=[...s].sort((l,d)=>d.from-l.from),{tr:a}=t.state;for(const l of i)a.replaceWith(l.from,l.to,t.state.schema.text(e.typedBuffer));return t.dispatch(a),setTimeout(()=>{const l=_t(t);e.ranges=l,l.length===0&&Pe(e)},10),!0}}})]}});function Dx(){return`${Date.now()}-${Math.random().toString(36).slice(2,8)}`}function Ax(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{typeof r.result=="string"?t(r.result):n(new Error("Failed to read file"))},r.onerror=()=>n(new Error("Failed to read file")),r.readAsDataURL(e)})}function Px(e,t){const[n,r]=e.split(","),o=n.match(/:(.*?);/),s=o?o[1]:"image/jpeg",i=atob(r),a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return new File([a],t,{type:s})}function Ix(e,t){return t.includes(e.type)}function Lx(e){return new Promise(t=>{const n=new window.Image;n.onload=()=>{t({width:n.width,height:n.height})},n.onerror=()=>{t({width:400,height:300})},n.src=e})}async function Ox(e,t,n){return new Promise((r,o)=>{const s=new window.Image,i=new FileReader;i.onload=a=>{s.src=a.target?.result},i.onerror=()=>o(new Error("Failed to read file")),s.onload=()=>{let a=s.width,l=s.height;if(a>t){const b=t/a;a=t,l=Math.round(l*b)}const d=document.createElement("canvas");d.width=a,d.height=l;const c=d.getContext("2d");if(!c){o(new Error("Failed to get canvas context"));return}c.imageSmoothingEnabled=!0,c.imageSmoothingQuality="high",c.drawImage(s,0,0,a,l);const m=e.type==="image/png"||e.type==="image/gif",f=m?"image/png":"image/jpeg",p=m?void 0:n,N=d.toDataURL(f,p),g=Px(N,e.name);r({dataUrl:N,file:g,width:a,height:l})},s.onerror=()=>o(new Error("Failed to load image")),i.readAsDataURL(e)})}function Vx(e,t,n){e.view.state.doc.descendants((r,o)=>{if(r.type.name==="resizableImage"&&r.attrs.src===t&&r.attrs.alt===n){try{const{state:s,dispatch:i}=e.view,a=s.tr.delete(o,o+r.nodeSize);i(a)}catch{}return!1}return!0})}async function Iu(e,t,n){if(!n.onImageUpload)return n.onUploadError?.("Image upload not available. Please connect Dropbox in Settings."),!1;if(!Ix(e,n.allowedMimeTypes))return n.onUploadError?.(`Invalid file type: ${e.type}. Allowed types: ${n.allowedMimeTypes.join(", ")}`),!1;if(e.size>n.maxFileSize){const o=(n.maxFileSize/1048576).toFixed(1),s=(e.size/(1024*1024)).toFixed(1);return n.onUploadError?.(`File too large: ${s}MB. Maximum size: ${o}MB`),!1}const r=Dx();try{n.onUploadStart?.();let o,s,i;const a=["image/jpeg","image/png","image/webp"].includes(e.type);if(n.enableCompression&&a){const m=await Ox(e,n.maxCompressedWidth,n.compressionQuality);o=m.dataUrl,i=m.file,s=Math.min(m.width,600)}else{o=await Ax(e),i=e;const m=await Lx(o);s=Math.min(m.width,600)}t.chain().focus().setImage({src:o,alt:e.name,width:s}).run();const{state:l}=t.view,d=l.selection.from-1,c=l.doc.nodeAt(d);if(c&&c.type.name==="resizableImage"){const m=t.view.nodeDOM(d);if(m){const f=m instanceof HTMLElement?m:m.dom;f&&f.classList.add("image-uploading")}}try{const m=await n.onImageUpload(i,{fileName:e.name,mimeType:i.type,fileSize:i.size,uploadId:r});let f=!1;return t.view.state.doc.descendants((p,N)=>{if(f)return!1;if(p.type.name==="resizableImage"&&p.attrs.src===o&&p.attrs.alt===e.name){try{const{state:g,dispatch:b}=t.view,v=g.doc.nodeAt(N);if(v){const y=g.tr.setNodeMarkup(N,void 0,{...v.attrs,src:m});b(y)}}catch(g){console.warn("Failed to replace placeholder with uploaded reference:",g)}return f=!0,!1}return!0}),t.view.state.doc.descendants((p,N)=>{if(p.type.name==="resizableImage"&&p.attrs.src===m){const g=t.view.nodeDOM(N);if(g){const b=g instanceof HTMLElement?g:g.dom;b&&b.classList.remove("image-uploading")}return!1}return!0}),n.onUploadComplete?.(),!0}catch(m){return console.warn("Image upload failed, removing placeholder:",m),Vx(t,o,e.name),n.onUploadError?.(`Upload failed: ${m instanceof Error?m.message:"Unknown error"}`),n.onUploadComplete?.(),!1}}catch(o){return n.onUploadError?.(`Failed to process image: ${o instanceof Error?o.message:"Unknown error"}`),!1}}function Lu(e){const t=[];if(e.items)for(let n=0;n<e.items.length;n++){const r=e.items[n];if(r.kind==="file"&&r.type.startsWith("image/")){const o=r.getAsFile();o&&t.push(o)}}if(t.length===0&&e.files)for(let n=0;n<e.files.length;n++){const r=e.files[n];r.type.startsWith("image/")&&t.push(r)}return t}const Ou=me.Extension.create({name:"imageUpload",addOptions(){return{maxFileSize:10*1024*1024,allowedMimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/svg+xml"],enableCompression:!0,maxCompressedWidth:1200,compressionQuality:.8,onUploadStart:void 0,onUploadComplete:void 0,onUploadError:void 0,onImageUpload:void 0}},addProseMirrorPlugins(){const e=this.options,t=this.editor;return[new ye.Plugin({key:new ye.PluginKey("imageUpload"),props:{handlePaste(n,r){const o=r.clipboardData;if(!o)return!1;const s=Lu(o);return s.length===0?!1:(r.preventDefault(),s.forEach(i=>{Iu(i,t,e)}),!0)},handleDrop(n,r,o,s){if(s)return!1;const i=r.dataTransfer;if(!i)return!1;const a=Lu(i);if(a.length===0)return!1;r.preventDefault();const l=n.posAtCoords({left:r.clientX,top:r.clientY});if(l){const d=n.state.tr.setSelection(ye.TextSelection.near(n.state.doc.resolve(l.pos)));n.dispatch(d)}return a.forEach(d=>{Iu(d,t,e)}),!0}}})]}});function Vu({containerRef:e,enabled:t=!0}){const[n,r]=h.useState(!1),[o,s]=h.useState(0),i=h.useCallback(c=>{c.preventDefault(),c.stopPropagation(),c.dataTransfer?.types.includes("Files")&&(s(m=>m+1),r(!0))},[]),a=h.useCallback(c=>{c.preventDefault(),c.stopPropagation(),s(m=>{const f=m-1;return f===0&&r(!1),f})},[]),l=h.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]),d=h.useCallback(c=>{c.preventDefault(),c.stopPropagation(),r(!1),s(0)},[]);return h.useEffect(()=>{if(!t||!e.current)return;const c=e.current;return c.addEventListener("dragenter",i),c.addEventListener("dragleave",a),c.addEventListener("dragover",l),c.addEventListener("drop",d),()=>{c.removeEventListener("dragenter",i),c.removeEventListener("dragleave",a),c.removeEventListener("dragover",l),c.removeEventListener("drop",d)}},[t,e,i,a,l,d]),n?u.jsxDEV("div",{className:"image-drop-zone",children:u.jsxDEV("div",{className:"image-drop-zone-content",children:[u.jsxDEV("div",{className:"image-drop-zone-icon",children:u.jsxDEV(P.ImagePlus,{className:"w-12 h-12"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageDropZone.tsx",lineNumber:84,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageDropZone.tsx",lineNumber:83,columnNumber:9},this),u.jsxDEV("div",{className:"image-drop-zone-text",children:[u.jsxDEV("span",{className:"image-drop-zone-title",children:"Drop image here"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageDropZone.tsx",lineNumber:87,columnNumber:11},this),u.jsxDEV("span",{className:"image-drop-zone-subtitle",children:"Release to insert image into the editor"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageDropZone.tsx",lineNumber:88,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageDropZone.tsx",lineNumber:86,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageDropZone.tsx",lineNumber:82,columnNumber:7},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageDropZone.tsx",lineNumber:81,columnNumber:5},this):null}function _x({src:e,alt:t,position:n,onSave:r,onDelete:o,onClose:s}){const[i,a]=h.useState(e),[l,d]=h.useState(t),c=h.useRef(null),m=h.useRef(null);h.useEffect(()=>{m.current?.focus(),m.current?.select()},[]),h.useEffect(()=>{const g=v=>{c.current&&!c.current.contains(v.target)&&s()},b=setTimeout(()=>{document.addEventListener("mousedown",g)},100);return()=>{clearTimeout(b),document.removeEventListener("mousedown",g)}},[s]),h.useEffect(()=>{const g=b=>{b.key==="Escape"?s():b.key==="Enter"&&(b.metaKey||b.ctrlKey)&&f()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[i,l,s]);const f=()=>{i.trim()&&r(i.trim(),l.trim())},N=(()=>{let y=n.x,w=n.y+10;return y+320>window.innerWidth-16&&(y=window.innerWidth-320-16),y<16&&(y=16),w+200>window.innerHeight-16&&(w=n.y-200-10),{left:y,top:w}})();return u.jsxDEV("div",{ref:c,className:"image-edit-popover",style:{position:"fixed",left:N.left,top:N.top,zIndex:1e3},children:[u.jsxDEV("div",{className:"image-edit-popover-header",children:[u.jsxDEV("span",{className:"image-edit-popover-title",children:"Edit Image"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:135,columnNumber:9},this),u.jsxDEV("button",{onClick:s,className:"image-edit-popover-close","aria-label":"Close",children:u.jsxDEV(P.X,{className:"w-4 h-4"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:141,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:136,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:134,columnNumber:7},this),u.jsxDEV("div",{className:"image-edit-popover-content",children:[u.jsxDEV("div",{className:"image-edit-popover-field",children:[u.jsxDEV("label",{className:"image-edit-popover-label",children:[u.jsxDEV(P.Link,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:150,columnNumber:13},this),u.jsxDEV("span",{children:"Image URL"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:151,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:149,columnNumber:11},this),u.jsxDEV("input",{ref:m,type:"text",value:i,onChange:g=>a(g.target.value),placeholder:"https://example.com/image.jpg",className:"image-edit-popover-input"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:153,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:148,columnNumber:9},this),u.jsxDEV("div",{className:"image-edit-popover-field",children:[u.jsxDEV("label",{className:"image-edit-popover-label",children:[u.jsxDEV(P.Type,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:166,columnNumber:13},this),u.jsxDEV("span",{children:"Alt Text"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:167,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:165,columnNumber:11},this),u.jsxDEV("input",{type:"text",value:l,onChange:g=>d(g.target.value),placeholder:"Describe the image...",className:"image-edit-popover-input"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:169,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:164,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:146,columnNumber:7},this),u.jsxDEV("div",{className:"image-edit-popover-footer",children:[u.jsxDEV("button",{onClick:o,className:"image-edit-popover-btn image-edit-popover-btn-delete",title:"Delete image",children:u.jsxDEV(P.Trash2,{className:"w-4 h-4"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:186,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:181,columnNumber:9},this),u.jsxDEV("div",{className:"image-edit-popover-actions",children:[u.jsxDEV("button",{onClick:s,className:"image-edit-popover-btn image-edit-popover-btn-cancel",children:"Cancel"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:189,columnNumber:11},this),u.jsxDEV("button",{onClick:f,className:"image-edit-popover-btn image-edit-popover-btn-save",disabled:!i.trim(),children:[u.jsxDEV(P.Check,{className:"w-4 h-4"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:200,columnNumber:13},this),"Save"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:195,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:188,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:180,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ImageEditPopover.tsx",lineNumber:123,columnNumber:5},this)}function ao(e){const t=[],n=e.split(`
`);let r=0,o=!1,s="";for(let i=0;i<n.length;i++){const a=n[i],l=r;if(a.startsWith("```")){o?(o=!1,t.push({type:"code-block",content:a,start:l,end:l+a.length})):(o=!0,s=a.slice(3).trim(),t.push({type:"code-block",content:"```",start:l,end:l+3}),s&&t.push({type:"code-block-lang",content:s,start:l+3,end:l+3+s.length})),r+=a.length+1;continue}if(o){t.push({type:"code-block",content:a,start:l,end:l+a.length}),r+=a.length+1;continue}const d=a.match(/^(#{1,6})\s+(.*)$/);if(d){const y=d[1].length;t.push({type:`heading${y}`,content:a,start:l,end:l+a.length}),r+=a.length+1;continue}if(/^(-{3,}|\*{3,}|_{3,})$/.test(a.trim())){t.push({type:"horizontal-rule",content:a,start:l,end:l+a.length}),r+=a.length+1;continue}if(a.startsWith(">")){t.push({type:"blockquote",content:a,start:l,end:l+a.length}),r+=a.length+1;continue}if(/^\|?[\s-:|]+\|?$/.test(a)&&a.includes("-")){t.push({type:"table-separator",content:a,start:l,end:l+a.length}),r+=a.length+1;continue}if(a.includes("|")&&(a.startsWith("|")||a.trim().includes(" | "))){t.push({type:"table-cell",content:a,start:l,end:l+a.length}),r+=a.length+1;continue}const c=a.match(/^(\s*[-*+]\s+)\[([xX ])\]\s+(.*)$/);if(c){const y=c[2].toLowerCase()==="x";t.push({type:y?"task-checked":"task-list",content:a,start:l,end:l+a.length}),r+=a.length+1;continue}if(a.match(/^(\s*[-*+])\s+(.*)$/)){t.push({type:"list-bullet",content:a,start:l,end:l+a.length}),r+=a.length+1;continue}if(a.match(/^(\s*\d+\.)\s+(.*)$/)){t.push({type:"list-number",content:a,start:l,end:l+a.length}),r+=a.length+1;continue}let p=0;const N=[{regex:/@[A-Z][a-z]{2}\s+\d{1,2},\s+\d{4}@/g,type:"date-pill"},{regex:/\*\*\*(.+?)\*\*\*|___(.+?)___/g,type:"bold-italic"},{regex:/\*\*(.+?)\*\*|__(.+?)__/g,type:"bold"},{regex:/\*(.+?)\*|_(.+?)_/g,type:"italic"},{regex:/~~(.+?)~~/g,type:"strikethrough"},{regex:/`([^`]+)`/g,type:"code-inline"},{regex:/!\[([^\]]*)\]\(([^)]+)\)/g,type:"image"},{regex:/\[([^\]]+)\]\(([^)]+)\)/g,type:"link"}],g=[];for(const y of N){let w;for(y.regex.lastIndex=0;(w=y.regex.exec(a))!==null;)g.push({start:l+w.index,end:l+w.index+w[0].length,type:y.type,content:w[0]})}g.sort((y,w)=>y.start-w.start);const b=[];let v=l;for(const y of g)y.start>=v&&(b.push(y),v=y.end);for(const y of b)y.start>l+p&&t.push({type:"text",content:a.substring(p,y.start-l),start:l+p,end:y.start}),t.push({type:y.type,content:y.content,start:y.start,end:y.end}),p=y.end-l;p<a.length&&t.push({type:"text",content:a.substring(p),start:l+p,end:l+a.length}),r+=a.length+1}return t}function _u(e){return{heading1:"md-heading md-h1",heading2:"md-heading md-h2",heading3:"md-heading md-h3",heading4:"md-heading md-h4",heading5:"md-heading md-h5",heading6:"md-heading md-h6",bold:"md-bold",italic:"md-italic","bold-italic":"md-bold-italic",strikethrough:"md-strikethrough","code-inline":"md-code-inline","code-block":"md-code-block","code-block-lang":"md-code-lang",link:"md-link","link-text":"md-link-text","link-url":"md-link-url",image:"md-image","list-bullet":"md-list-bullet","list-number":"md-list-number","task-list":"md-task","task-checked":"md-task-checked",blockquote:"md-blockquote","horizontal-rule":"md-hr","table-header":"md-table-header","table-separator":"md-table-separator","table-cell":"md-table-cell","date-pill":"md-date-pill",text:"md-text"}[e]||"md-text"}function Gt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function lo(e,t,n,r){if(t.length===0&&(!n||n.length===0))return Gt(e);let o="";const s=e.split(`
`);let i=0;if(!n||n.length===0){for(let l=0;l<s.length;l++){const d=s[l],c=i+d.length,m=t.filter(p=>p.start>=i&&p.start<c);let f=i;for(const p of m)p.start>f&&(o+=Gt(e.substring(f,p.start))),o+=`<span class="${_u(p.type)}">${Gt(p.content)}</span>`,f=p.end;f<c&&(o+=Gt(e.substring(f,c))),l<s.length-1&&(o+=`
`),i=c+1}return o}const a=new Map;n.forEach((l,d)=>{for(let c=l.from;c<l.to;c++)a.set(c,{matchIdx:d,isCurrent:d===r})}),i=0;for(let l=0;l<s.length;l++){const d=s[l],c=i+d.length,m=t.filter(p=>p.start>=i&&p.start<c);let f=i;for(const p of m)p.start>f&&(o+=Fs(e,f,p.start,null,a)),o+=Fs(e,p.start,p.end,_u(p.type),a),f=p.end;f<c&&(o+=Fs(e,f,c,null,a)),l<s.length-1&&(o+=`
`),i=c+1}return o}function Fs(e,t,n,r,o){let s="",i=t;for(;i<n;){const a=o.get(i);if(a){const l=i;for(;i<n&&o.get(i)?.matchIdx===a.matchIdx;)i++;const d=Gt(e.substring(l,i)),c=a.isCurrent?"search-highlight search-highlight-current":"search-highlight";r?s+=`<span class="${r}"><mark class="${c}">${d}</mark></span>`:s+=`<mark class="${c}">${d}</mark>`}else{const l=i;for(;i<n&&!o.has(i);)i++;const d=Gt(e.substring(l,i));r?s+=`<span class="${r}">${d}</span>`:s+=d}}return s}function Bx({content:e,onChange:t,placeholder:n="Write your markdown here...",editable:r=!0,autofocus:o=!1,className:s="",searchMatches:i,currentMatchIndex:a}){const l=h.useRef(null),d=h.useRef(null),c=h.useRef(null),m=h.useRef(null),f=5e3,p=80,[N,g]=h.useState(()=>{const E=ao(e);return lo(e,E,i,a)}),b=h.useRef(null),v=h.useMemo(()=>{if(e.length<=f){const E=ao(e),A=lo(e,E,i,a);return b.current&&(clearTimeout(b.current),b.current=null),A}return null},[e,i,a]);h.useEffect(()=>{if(e.length<=f){const E=ao(e);g(lo(e,E,i,a));return}return b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{const E=ao(e);g(lo(e,E,i,a)),b.current=null},p),()=>{b.current&&clearTimeout(b.current)}},[e,i,a]);const y=v??N,w=h.useCallback(()=>{const E=l.current,A=d.current,x=c.current;if(E){const T=x?.parentElement,M=T?T.clientHeight:200;E.style.height="auto";const O=Math.max(E.scrollHeight,M,200);E.style.height=`${O}px`,A&&(A.style.height=`${O}px`)}},[]);h.useEffect(()=>{const E=l.current;if(!E)return;const A=x=>{const T=E.closest(".editor-content-wrapper");if(!T)return;const{scrollTop:M,scrollHeight:O,clientHeight:I}=T,V=M<=0,W=M+I>=O-1;(x.deltaY>0&&!W||x.deltaY<0&&!V)&&(x.preventDefault(),T.scrollTop+=x.deltaY)};return E.addEventListener("wheel",A,{passive:!1}),()=>E.removeEventListener("wheel",A)},[]);const D=h.useCallback(()=>{},[]);h.useEffect(()=>{w()},[e,w]),h.useEffect(()=>{o&&l.current&&l.current.focus()},[o]),h.useEffect(()=>{if(m.current&&l.current){const{start:E,end:A}=m.current;l.current.selectionStart=E,l.current.selectionEnd=A,m.current=null}},[e]);const k=h.useCallback(E=>{const A=E.target;m.current={start:A.selectionStart,end:A.selectionEnd},t(A.value)},[t]),S=h.useCallback(E=>{const A=E.currentTarget,x=A.selectionStart,T=A.selectionEnd,M=A.value,O=x!==T;if(E.key==="`"&&!E.ctrlKey&&!E.metaKey){if(E.preventDefault(),O){const I=M.substring(x,T),V=M.substring(0,x)+"`"+I+"`"+M.substring(T);m.current={start:x+1,end:T+1},t(V)}else if(M[x]==="`")m.current={start:x+1,end:x+1},t(M),A.selectionStart=A.selectionEnd=x+1;else{const I=M.substring(0,x)+"``"+M.substring(T);m.current={start:x+1,end:x+1},t(I)}return}if(E.key==="*"&&!E.ctrlKey&&!E.metaKey){if(M[x-1]==="*"&&M[x],O){E.preventDefault();const W=M.substring(x,T),U=M.substring(0,x)+"*"+W+"*"+M.substring(T);m.current={start:x+1,end:T+1},t(U);return}if(M[x]==="*"){E.preventDefault(),m.current={start:x+1,end:x+1},t(M.substring(0,x)+M.substring(x));return}E.preventDefault();const V=M.substring(0,x)+"**"+M.substring(T);m.current={start:x+1,end:x+1},t(V);return}if(E.key==="_"&&!E.ctrlKey&&!E.metaKey){if(O){E.preventDefault();const V=M.substring(x,T),W=M.substring(0,x)+"_"+V+"_"+M.substring(T);m.current={start:x+1,end:T+1},t(W);return}if(M[x]==="_"){E.preventDefault(),m.current={start:x+1,end:x+1},t(M.substring(0,x)+M.substring(x));return}E.preventDefault();const I=M.substring(0,x)+"__"+M.substring(T);m.current={start:x+1,end:x+1},t(I);return}if(E.key==="~"&&!E.ctrlKey&&!E.metaKey){if(O){E.preventDefault();const V=M.substring(x,T),W=M.substring(0,x)+"~"+V+"~"+M.substring(T);m.current={start:x+1,end:T+1},t(W);return}if(M[x]==="~"){E.preventDefault(),m.current={start:x+1,end:x+1},t(M.substring(0,x)+M.substring(x));return}E.preventDefault();const I=M.substring(0,x)+"~~"+M.substring(T);m.current={start:x+1,end:x+1},t(I);return}if(E.key==="["&&!E.ctrlKey&&!E.metaKey){if(E.preventDefault(),O){const I=M.substring(x,T),V=M.substring(0,x)+"["+I+"]()"+M.substring(T);m.current={start:T+3,end:T+3},t(V)}else{const I=M.substring(0,x)+"[]()"+M.substring(T);m.current={start:x+1,end:x+1},t(I)}return}if(E.key==="]"&&!E.ctrlKey&&!E.metaKey&&M[x]==="]"){E.preventDefault(),m.current={start:x+1,end:x+1},t(M.substring(0,x)+M.substring(x));return}if(E.key===")"&&!E.ctrlKey&&!E.metaKey&&M[x]===")"){E.preventDefault(),m.current={start:x+1,end:x+1},t(M.substring(0,x)+M.substring(x));return}if(E.key==="Backspace"&&!O&&x>0){const I=M[x-1],V=M[x],W=[["`","`"],["*","*"],["_","_"],["~","~"],["[","]"]];for(const[U,K]of W)if(I===U&&V===K){E.preventDefault();const L=M.substring(0,x-1)+M.substring(x+1);m.current={start:x-1,end:x-1},t(L);return}if(I==="["&&M.substring(x,x+3)==="]()"){E.preventDefault();const U=M.substring(0,x-1)+M.substring(x+3);m.current={start:x-1,end:x-1},t(U);return}}if(E.key==="Tab")if(E.preventDefault(),E.shiftKey){const I=M.substring(0,x),V=M.substring(x,T),W=M.substring(T),K=I.lastIndexOf(`
`)+1,L=I.substring(0,K),z=I.substring(K),Q=(z+V).split(`
`),re=Q.map(ne=>ne.startsWith("  ")?ne.substring(2):ne.startsWith("	")?ne.substring(1):ne),oe=L+re.join(`
`)+W,te=(z+V).length-re.join(`
`).length;m.current={start:Math.max(K,x-(Q[0].length-re[0].length)),end:T-te},t(oe)}else if(x===T){const I=M.substring(0,x)+"  "+M.substring(T);m.current={start:x+2,end:x+2},t(I)}else{const I=M.substring(0,x),V=M.substring(x,T),W=M.substring(T),K=I.lastIndexOf(`
`)+1,L=I.substring(0,K),Q=(I.substring(K)+V).split(`
`),re=Q.map(te=>"  "+te),oe=L+re.join(`
`)+W;m.current={start:x+2,end:T+Q.length*2},t(oe)}},[t]);return u.jsxDEV("div",{ref:c,className:`syntax-highlighted-editor ${s}`,children:[u.jsxDEV("div",{ref:d,className:"syntax-highlight-overlay",dangerouslySetInnerHTML:{__html:y||`<span class="md-placeholder">${Gt(n)}</span>`},"aria-hidden":"true"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SyntaxHighlightedMarkdown.tsx",lineNumber:874,columnNumber:7},this),u.jsxDEV("textarea",{ref:l,value:e,onChange:k,onKeyDown:S,onScroll:D,placeholder:"",disabled:!r,className:"syntax-textarea",spellCheck:!1},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/SyntaxHighlightedMarkdown.tsx",lineNumber:880,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/SyntaxHighlightedMarkdown.tsx",lineNumber:873,columnNumber:5},this)}let Bu=0,Hs=0,$u=0;function $x(e){Hs++,$u=e}const Wx=h.memo(function({visible:t,onClose:n,editor:r}){const[o,s]=h.useState(!1),[i,a]=h.useState({fps:0,frameTime:0,frameTimeMax:0,memoryUsed:0,memoryTotal:0,renderCount:0,transactionCount:0,lastTransactionTime:0,domNodes:0,longFrames:0}),l=h.useRef([]),d=h.useRef(performance.now()),c=h.useRef(0),m=h.useRef(0),f=h.useRef(0),p=h.useRef(0),[N,g]=h.useState(new Array(60).fill(0)),[b,v]=h.useState(new Array(60).fill(0));h.useEffect(()=>{if(!t||!r)return;const E=()=>{const A=performance.now();queueMicrotask(()=>{const x=performance.now()-A;$x(x)})};return r.on("transaction",E),()=>{r.off("transaction",E)}},[t,r]),h.useEffect(()=>{if(!t)return;let E=0,A=performance.now(),x=0;const T=M=>{const O=M-d.current;if(d.current=M,l.current.push({time:M,duration:O}),l.current.length>120&&(l.current=l.current.slice(-120)),O>16.67&&m.current++,E++,M-A>=1e3){x=E,E=0,A=M;const I=l.current.slice(-60),V=I.length>0?I.reduce((oe,te)=>oe+te.duration,0)/I.length:0,W=I.length>0?Math.max(...I.map(oe=>oe.duration)):0,U=performance.memory,K=U?U.usedJSHeapSize/(1024*1024):0,L=U?U.jsHeapSizeLimit/(1024*1024):0,z=document.querySelectorAll("*").length,Q=Bu-f.current,re=Hs-p.current;f.current=Bu,p.current=Hs,a({fps:x,frameTime:Math.round(V*100)/100,frameTimeMax:Math.round(W*100)/100,memoryUsed:Math.round(K*10)/10,memoryTotal:Math.round(L),renderCount:Q,transactionCount:re,lastTransactionTime:Math.round($u*100)/100,domNodes:z,longFrames:m.current}),g(oe=>[...oe.slice(1),x]),v(oe=>[...oe.slice(1),V]),m.current=0}c.current=requestAnimationFrame(T)};return c.current=requestAnimationFrame(T),()=>{cancelAnimationFrame(c.current)}},[t]);const y=h.useCallback(()=>{n?.()},[n]),w=h.useCallback(()=>{s(E=>!E)},[]);if(!t)return null;const D=E=>E>=55?"#4ade80":E>=30?"#fbbf24":"#f87171",k=E=>E<=16.67?"#4ade80":E<=33.33?"#fbbf24":"#f87171",S=(E,A,x)=>{const O=E.map((I,V)=>{const W=V/(E.length-1)*120,U=24-Math.min(I,A)/A*24;return`${W},${U}`}).join(" ");return u.jsxDEV("svg",{width:120,height:24,className:"perf-sparkline",children:u.jsxDEV("polyline",{points:O,fill:"none",stroke:x,strokeWidth:"1.5",strokeLinejoin:"round"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:225,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:224,columnNumber:7},this)};return u.jsxDEV("div",{className:"perf-profiler-overlay",children:[u.jsxDEV("div",{className:"perf-profiler-header",children:[u.jsxDEV("div",{className:"perf-profiler-title",children:[u.jsxDEV(P.Activity,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:241,columnNumber:11},this),u.jsxDEV("span",{children:"Performance"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:242,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:240,columnNumber:9},this),u.jsxDEV("div",{className:"perf-profiler-actions",children:[u.jsxDEV("button",{onClick:w,title:o?"Expand":"Minimize",children:o?u.jsxDEV(P.Maximize2,{size:12},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:246,columnNumber:28},this):u.jsxDEV(P.Minimize2,{size:12},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:246,columnNumber:54},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:245,columnNumber:11},this),u.jsxDEV("button",{onClick:y,title:"Close profiler",children:u.jsxDEV(P.X,{size:12},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:249,columnNumber:13},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:248,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:244,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:239,columnNumber:7},this),!o&&u.jsxDEV("div",{className:"perf-profiler-body",children:[u.jsxDEV("div",{className:"perf-section",children:[u.jsxDEV("div",{className:"perf-row",children:[u.jsxDEV("span",{className:"perf-label",children:"FPS"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:259,columnNumber:15},this),u.jsxDEV("span",{className:"perf-value",style:{color:D(i.fps)},children:i.fps},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:258,columnNumber:13},this),S(N,70,D(i.fps))]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:257,columnNumber:11},this),u.jsxDEV("div",{className:"perf-section",children:[u.jsxDEV("div",{className:"perf-row",children:[u.jsxDEV("span",{className:"perf-label",children:"Frame Time"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:270,columnNumber:15},this),u.jsxDEV("span",{className:"perf-value",style:{color:k(i.frameTime)},children:[i.frameTime,"ms"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:271,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:269,columnNumber:13},this),u.jsxDEV("div",{className:"perf-row perf-row-sub",children:[u.jsxDEV("span",{className:"perf-label-sub",children:"Max"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:276,columnNumber:15},this),u.jsxDEV("span",{className:"perf-value-sub",style:{color:k(i.frameTimeMax)},children:[i.frameTimeMax,"ms"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:277,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:275,columnNumber:13},this),u.jsxDEV("div",{className:"perf-row perf-row-sub",children:[u.jsxDEV("span",{className:"perf-label-sub",children:["Jank (",">"," 16.7ms)"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:282,columnNumber:15},this),u.jsxDEV("span",{className:"perf-value-sub",style:{color:i.longFrames>3?"#f87171":"#4ade80"},children:[i.longFrames,"/s"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:283,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:281,columnNumber:13},this),S(b,50,k(i.frameTime))]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:268,columnNumber:11},this),u.jsxDEV("div",{className:"perf-section",children:[u.jsxDEV("div",{className:"perf-row",children:[u.jsxDEV("span",{className:"perf-label",children:"Renders/s"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:293,columnNumber:15},this),u.jsxDEV("span",{className:"perf-value",children:i.renderCount},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:294,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:292,columnNumber:13},this),u.jsxDEV("div",{className:"perf-row",children:[u.jsxDEV("span",{className:"perf-label",children:"Transactions/s"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:297,columnNumber:15},this),u.jsxDEV("span",{className:"perf-value",children:i.transactionCount},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:298,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:296,columnNumber:13},this),u.jsxDEV("div",{className:"perf-row perf-row-sub",children:[u.jsxDEV("span",{className:"perf-label-sub",children:"Last TX time"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:301,columnNumber:15},this),u.jsxDEV("span",{className:"perf-value-sub",children:[i.lastTransactionTime,"ms"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:302,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:300,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:291,columnNumber:11},this),u.jsxDEV("div",{className:"perf-section",children:[u.jsxDEV("div",{className:"perf-row",children:[u.jsxDEV("span",{className:"perf-label",children:"DOM Nodes"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:309,columnNumber:15},this),u.jsxDEV("span",{className:"perf-value",children:i.domNodes.toLocaleString()},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:310,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:308,columnNumber:13},this),i.memoryTotal>0&&u.jsxDEV("div",{className:"perf-row",children:[u.jsxDEV("span",{className:"perf-label",children:"Memory"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:314,columnNumber:17},this),u.jsxDEV("span",{className:"perf-value",children:[i.memoryUsed,"MB / ",i.memoryTotal,"MB"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:315,columnNumber:17},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:313,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:307,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:255,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/PerformanceProfiler.tsx",lineNumber:237,columnNumber:5},this)});class zx extends h.Component{constructor(t){super(t),this.handleRetry=()=>{this.setState(n=>({hasError:!1,error:null,errorInfo:null,showDetails:!1,retryCount:n.retryCount+1,copied:!1})),this.props.onRetry?.()},this.handleClearContent=()=>{this.setState({hasError:!1,error:null,errorInfo:null,showDetails:!1,retryCount:0,copied:!1}),this.props.onClearContent?.()},this.handleCopyError=()=>{const{error:n,errorInfo:r}=this.state;if(!n)return;const o=[`Error: ${n.message}`,"","Stack trace:",n.stack||"(no stack trace)","","Component stack:",r?.componentStack||"(no component stack)"].join(`
`);navigator.clipboard.writeText(o).then(()=>{this.setState({copied:!0}),setTimeout(()=>this.setState({copied:!1}),2e3)}).catch(()=>{})},this.toggleDetails=()=>{this.setState(n=>({showDetails:!n.showDetails}))},this.state={hasError:!1,error:null,errorInfo:null,showDetails:!1,retryCount:0,copied:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){this.setState({errorInfo:n}),console.error("[Paragon EditorErrorBoundary] Editor crashed:",t,n),this.props.onError?.(t,n)}componentDidUpdate(t){t.resetKey!==this.props.resetKey&&this.state.hasError&&this.setState({hasError:!1,error:null,errorInfo:null,showDetails:!1,retryCount:0,copied:!1})}render(){if(this.state.hasError){const{error:t,showDetails:n,retryCount:r,copied:o}=this.state,s=r>=2;return u.jsxDEV("div",{className:ie("flex-1 flex items-center justify-center p-6",this.props.className),children:u.jsxDEV("div",{className:"flex flex-col items-center max-w-md w-full text-center gap-4",children:[u.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center",children:u.jsxDEV(P.AlertTriangle,{className:"w-6 h-6 text-destructive"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:140,columnNumber:15},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:139,columnNumber:13},this),u.jsxDEV("div",{className:"space-y-1.5",children:[u.jsxDEV("h3",{className:"text-base font-semibold text-foreground",children:"Editor encountered an error"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:145,columnNumber:15},this),u.jsxDEV("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s?"The editor keeps crashing. The content may be malformed — try clearing it to recover.":"Something went wrong while rendering the editor. Your content is safe — try one of the recovery options below."},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:148,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:144,columnNumber:13},this),u.jsxDEV("div",{className:"flex flex-col gap-2 w-full max-w-xs",children:[u.jsxDEV(At,{variant:"default",size:"sm",className:"w-full gap-2",onClick:this.handleRetry,children:[u.jsxDEV(P.RotateCcw,{className:"w-4 h-4"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:164,columnNumber:17},this),"Retry ",r>0&&`(${r})`]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:158,columnNumber:15},this),s&&this.props.onClearContent&&u.jsxDEV(At,{variant:"ghost",size:"sm",className:"w-full gap-2 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:this.handleClearContent,children:[u.jsxDEV(P.Trash2,{className:"w-4 h-4"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:176,columnNumber:19},this),"Clear Content & Retry"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:170,columnNumber:17},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:156,columnNumber:13},this),t&&u.jsxDEV("div",{className:"w-full max-w-xs",children:[u.jsxDEV("button",{onClick:this.toggleDetails,className:ie("flex items-center gap-1.5 text-xs text-muted-foreground hover:text-foreground transition-colors mx-auto","cursor-pointer"),children:[n?u.jsxDEV(P.ChevronDown,{className:"w-3 h-3"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:193,columnNumber:21},this):u.jsxDEV(P.ChevronRight,{className:"w-3 h-3"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:195,columnNumber:21},this),"Error details"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:185,columnNumber:17},this),n&&u.jsxDEV("div",{className:"mt-2 p-3 rounded-md bg-muted/50 border border-border text-left overflow-auto max-h-40",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[u.jsxDEV("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground/60 font-medium",children:"Error"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:203,columnNumber:23},this),u.jsxDEV("button",{onClick:this.handleCopyError,className:"flex items-center gap-1 text-[10px] text-muted-foreground hover:text-foreground transition-colors cursor-pointer",children:o?u.jsxDEV(u.Fragment,{children:[u.jsxDEV(P.CheckCircle2,{className:"w-3 h-3 text-green-500"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:210,columnNumber:29},this),u.jsxDEV("span",{className:"text-green-500",children:"Copied"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:211,columnNumber:29},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:209,columnNumber:27},this):u.jsxDEV(u.Fragment,{children:[u.jsxDEV(P.Copy,{className:"w-3 h-3"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:215,columnNumber:29},this),u.jsxDEV("span",{children:"Copy"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:216,columnNumber:29},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:214,columnNumber:27},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:204,columnNumber:23},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:202,columnNumber:21},this),u.jsxDEV("p",{className:"text-xs font-mono text-muted-foreground break-all",children:t.message},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:221,columnNumber:21},this),t.stack&&u.jsxDEV("pre",{className:"text-[10px] font-mono text-muted-foreground/70 mt-2 whitespace-pre-wrap break-all",children:t.stack.split(`
`).slice(1,6).join(`
`)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:225,columnNumber:23},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:201,columnNumber:19},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:184,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:137,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/EditorErrorBoundary.tsx",lineNumber:136,columnNumber:9},this)}return this.props.children}}function Fx({scrollContainerRef:e,hideDelay:t=1200}){return null}function Hx(e,t){switch(t.type){case"start-streaming":return{status:"streaming",action:t.action,actionLabel:t.actionLabel,inputText:t.inputText,result:"",selectionRange:t.selectionRange};case"append-chunk":return e.status!=="streaming"?e:{...e,result:e.result+t.text};case"complete":return e.status!=="streaming"?e:{...e,status:"complete"};case"error":return{status:"error",message:t.message,action:e.status==="streaming"?e.action:void 0};case"reset":return{status:"idle"};default:return e}}function Ux(e){const[t,n]=h.useReducer(Hx,{status:"idle"}),r=h.useRef(null),o=h.useCallback(async(a,l,d,c,m)=>{if(e){n({type:"start-streaming",action:a,actionLabel:l,inputText:d,selectionRange:c});try{const f=e(a,d,m);if(Symbol.asyncIterator in Object(f))for await(const p of f)n({type:"append-chunk",text:p});else{const p=await f;n({type:"append-chunk",text:p})}n({type:"complete"})}catch(f){if(f instanceof DOMException&&f.name==="AbortError"){n({type:"reset"});return}const p=f instanceof Error?f.message:"AI action failed";n({type:"error",message:p})}}},[e]),s=h.useCallback(()=>{r.current?.(),n({type:"reset"})},[]),i=h.useCallback(()=>{n({type:"reset"})},[]);return{state:t,executeAction:o,abort:s,reset:i}}const jx={SpellCheck:P.SpellCheck,RefreshCw:P.RefreshCw,Minimize2:P.Minimize2,Maximize2:P.Maximize2,FileText:P.FileText,MessageSquare:P.MessageSquare,Sparkles:P.Sparkles};function Yx({actions:e,scope:t,onAction:n,onClose:r,position:o}){const[s,i]=h.useState(""),[a,l]=h.useState(!1),d=h.useRef(null),c=h.useRef(null),m=e.filter(b=>b.scope===t||b.scope==="both");h.useEffect(()=>{const b=y=>{d.current&&!d.current.contains(y.target)&&r()},v=setTimeout(()=>{document.addEventListener("mousedown",b)},50);return()=>{clearTimeout(v),document.removeEventListener("mousedown",b)}},[r]),h.useEffect(()=>{const b=v=>{v.key==="Escape"&&r()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),h.useEffect(()=>{a&&c.current&&c.current.focus()},[a]);const p=h.useCallback(()=>{const v=m.length*40+(a?56:0)+16,y=window.innerWidth,w=window.innerHeight;let D=o.top,k=o.left;return k+260>y-8&&(k=y-260-8),k<8&&(k=8),D+v>w-8&&(D=o.top-v-8),D<8&&(D=8),{top:D,left:k}},[o,m.length,a])(),N=()=>{s.trim()&&(n("custom",s.trim()),i(""),l(!1))},g=u.jsxDEV("div",{ref:d,className:"ai-dropdown-menu",style:{position:"fixed",top:p.top,left:p.left,zIndex:1e4},onMouseDown:b=>b.preventDefault(),children:u.jsxDEV("div",{className:`
          bg-popover text-popover-foreground border border-border
          rounded-lg shadow-lg overflow-hidden
          w-[260px] py-1
          animate-in fade-in-0 zoom-in-95 duration-100
        `,children:[u.jsxDEV("div",{className:"px-2 py-1.5",children:u.jsxDEV("div",{className:"flex items-center gap-2 bg-secondary/50 rounded-md px-2.5 py-1.5 border border-border/50",children:[u.jsxDEV(P.MessageSquare,{size:14,className:"text-muted-foreground shrink-0"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIDropdownMenu.tsx",lineNumber:144,columnNumber:13},this),u.jsxDEV("input",{ref:c,type:"text",placeholder:"Modify with prompt…",value:s,onChange:b=>i(b.target.value),onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),N()),b.stopPropagation()},onFocus:()=>l(!0),className:`
                flex-1 bg-transparent text-sm text-foreground
                placeholder:text-muted-foreground
                outline-none min-w-0
              `},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIDropdownMenu.tsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIDropdownMenu.tsx",lineNumber:143,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIDropdownMenu.tsx",lineNumber:142,columnNumber:9},this),u.jsxDEV("div",{className:"h-px bg-border mx-2 my-0.5"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIDropdownMenu.tsx",lineNumber:169,columnNumber:9},this),m.filter(b=>!b.showCustomPrompt).map(b=>{const v=b.icon?jx[b.icon]:P.Sparkles;return u.jsxDEV("button",{className:`
                  flex items-center gap-2.5 w-full px-3 py-2 text-sm text-left
                  hover:bg-secondary/80 transition-colors duration-75
                  text-foreground
                `,onMouseDown:y=>{y.preventDefault(),n(b.id)},children:[v&&u.jsxDEV(v,{size:15,className:"text-muted-foreground shrink-0"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIDropdownMenu.tsx",lineNumber:189,columnNumber:35},this),u.jsxDEV("span",{children:b.label},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIDropdownMenu.tsx",lineNumber:190,columnNumber:17},this)]},b.id,!0,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIDropdownMenu.tsx",lineNumber:177,columnNumber:15},this)})]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIDropdownMenu.tsx",lineNumber:133,columnNumber:7},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIDropdownMenu.tsx",lineNumber:122,columnNumber:5},this);return it.createPortal(g,document.body)}function qx({state:e,position:t,onReplace:n,onInsert:r,onRetry:o,onDiscard:s}){const i=h.useRef(null),a=h.useRef(null),[l,d]=h.useState(!1),[c,m]=h.useState(0);h.useEffect(()=>{if(i.current){const k=new ResizeObserver(S=>{for(const E of S)m(E.contentRect.height)});return k.observe(i.current),()=>k.disconnect()}},[]),h.useEffect(()=>{a.current&&e.status==="streaming"&&(a.current.scrollTop=a.current.scrollHeight)},[e.status==="streaming"?e.result:""]),h.useEffect(()=>{const k=S=>{S.key==="Escape"&&s()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[s]);const f=h.useMemo(()=>{const A=window.innerWidth,x=window.innerHeight;let T=t.selectionCenterX-380/2;T+380>A-8&&(T=A-380-8),T<8&&(T=8);const M=x-t.selectionBottom-8,O=t.selectionTop-8,I=c||200;let V,W=!1;return M>=I||M>=O?V=t.selectionBottom+8:(V=t.selectionTop-8-I,W=!0),V<8&&(V=8),V+I>x-8&&(V=x-I-8),{top:V,left:T,placedAbove:W}},[t,c]),p=e.status==="streaming"||e.status==="complete"?e.result:"",N=e.status==="streaming"||e.status==="complete"?e.actionLabel:"",g=e.status==="streaming",b=e.status==="complete",v=e.status==="error",y=h.useCallback(()=>{navigator.clipboard.writeText(p),d(!0),setTimeout(()=>d(!1),1500)},[p]);if(e.status==="idle")return null;const w=f.placedAbove?"animate-in fade-in-0 slide-in-from-bottom-2 duration-150":"animate-in fade-in-0 slide-in-from-top-2 duration-150",D=u.jsxDEV("div",{ref:i,className:"ai-result-popover",style:{position:"fixed",top:f.top,left:f.left,zIndex:10001},onMouseDown:k=>k.preventDefault(),children:u.jsxDEV("div",{className:`
          bg-popover text-popover-foreground border border-border
          rounded-lg shadow-xl overflow-hidden
          w-[380px] max-w-[calc(100vw-16px)]
          ${w}
        `,children:[u.jsxDEV("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border bg-secondary/30",children:[u.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[g&&u.jsxDEV(P.Loader2,{size:12,className:"animate-spin"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:175,columnNumber:29},this),u.jsxDEV("span",{className:"font-medium",children:v?"Error":N},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:176,columnNumber:13},this),g&&u.jsxDEV("span",{className:"opacity-60",children:"Generating…"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:179,columnNumber:29},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:174,columnNumber:11},this),u.jsxDEV("button",{className:"p-0.5 rounded hover:bg-secondary transition-colors",onMouseDown:k=>{k.preventDefault(),s()},title:"Discard",children:u.jsxDEV(P.X,{size:14,className:"text-muted-foreground"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:186,columnNumber:13},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:181,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:173,columnNumber:9},this),u.jsxDEV("div",{ref:a,className:"px-3 py-2.5 max-h-[200px] overflow-y-auto text-sm leading-relaxed",children:v?u.jsxDEV("div",{className:"text-destructive",children:e.message},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:196,columnNumber:13},this):u.jsxDEV("div",{className:"whitespace-pre-wrap",children:[p,g&&u.jsxDEV("span",{className:"inline-block w-0.5 h-4 bg-primary animate-pulse ml-0.5 align-text-bottom"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:203,columnNumber:17},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:200,columnNumber:13},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:191,columnNumber:9},this),u.jsxDEV("div",{className:"flex items-center gap-1.5 px-3 py-2 border-t border-border bg-secondary/20",children:[(b||v)&&u.jsxDEV(u.Fragment,{children:[b&&u.jsxDEV(u.Fragment,{children:[u.jsxDEV(En,{icon:P.Replace,label:"Replace",onClick:n,primary:!0},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:215,columnNumber:19},this),u.jsxDEV(En,{icon:P.Plus,label:"Insert",onClick:r},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:221,columnNumber:19},this),u.jsxDEV(En,{icon:l?P.Check:P.Copy,label:l?"Copied":"Copy",onClick:y},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:226,columnNumber:19},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:214,columnNumber:17},this),u.jsxDEV(En,{icon:P.RotateCcw,label:"Retry",onClick:o},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:233,columnNumber:15},this),u.jsxDEV("div",{className:"flex-1"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:238,columnNumber:15},this),u.jsxDEV(En,{icon:P.X,label:"Discard",onClick:s},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:239,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:212,columnNumber:13},this),g&&u.jsxDEV(u.Fragment,{children:[u.jsxDEV("div",{className:"flex-1"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:248,columnNumber:15},this),u.jsxDEV(En,{icon:P.X,label:"Stop",onClick:s},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:249,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:247,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:210,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:164,columnNumber:7},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:153,columnNumber:5},this);return it.createPortal(D,document.body)}function En({icon:e,label:t,onClick:n,primary:r=!1}){return u.jsxDEV("button",{className:`
        flex items-center gap-1 px-2 py-1 rounded text-xs font-medium
        transition-colors duration-75
        ${r?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}
      `,onMouseDown:o=>{o.preventDefault(),n()},children:[u.jsxDEV(e,{size:12},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:289,columnNumber:7},this),u.jsxDEV("span",{children:t},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:290,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/ai/AIResultPopover.tsx",lineNumber:278,columnNumber:5},this)}const Wu="paragon-editor-toc-width",Kx=280,zu=200,Fu=500;function Hu(){try{const e=localStorage.getItem(Wu);if(e){const t=parseInt(e,10);if(!isNaN(t)&&t>=zu&&t<=Fu)return t}}catch{}return Kx}function Gx(e){try{localStorage.setItem(Wu,String(e))}catch{}}function Zx(e,t,n){const r=[];return e.state.doc.descendants((s,i)=>{if(s.type.name==="heading"){const a=s.attrs.level;if(a>=t&&a<=n){const l=s.textContent;l.trim()&&r.push({id:`toc-heading-${i}`,text:l.trim(),level:a,pos:i})}}}),r}function Xx(e){if(e.length===0)return[];const t=[],n=[];for(const r of e){const o={...r,children:[]};for(;n.length>0&&n[n.length-1].level>=r.level;)n.pop();if(n.length===0)t.push(o);else{const s=n[n.length-1].item;s.children||(s.children=[]),s.children.push(o)}n.push({item:o,level:r.level})}return t}function Uu(e,t){try{const n=e.state.doc.resolve(t),r=e.view.nodeDOM(n.before(n.depth+1));if(r instanceof HTMLElement)return r;const o=e.view.nodeDOM(t);if(o instanceof HTMLElement)return o}catch{}return null}const Us=h.memo(function({editor:t,visible:n=!0,onVisibilityChange:r,title:o="",minLevel:s=1,maxLevel:i=4,showLevelIndicators:a=!1,highlightActive:l=!0,treeView:d=!1,className:c="",width:m,position:f="right",scrollOffset:p=20,onItemClick:N,renderItem:g,showToggleButton:b=!0,scrollContainerRef:v}){const[y,w]=h.useState([]),[D,k]=h.useState(null),[S,E]=h.useState(n),[A,x]=h.useState(new Set),[T,M]=h.useState(()=>{if(m){const Y=parseInt(m,10);return isNaN(Y)?Hu():Y}return Hu()}),O=h.useRef(null),I=h.useRef(null),V=h.useRef(!1),W=h.useRef(0),U=h.useRef(0);h.useEffect(()=>{E(n)},[n]);const K=h.useCallback(Y=>{Y.preventDefault(),Y.stopPropagation(),V.current=!0,W.current=Y.clientX,U.current=T,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[T]);h.useEffect(()=>{const Y=R=>{if(!V.current)return;const Ne=f==="right"?W.current-R.clientX:R.clientX-W.current,ke=Math.min(Fu,Math.max(zu,U.current+Ne));M(ke)},q=()=>{V.current&&(V.current=!1,document.body.style.cursor="",document.body.style.userSelect="",M(R=>(Gx(R),R)))};return document.addEventListener("mousemove",Y),document.addEventListener("mouseup",q),()=>{document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",q)}},[f]);const L=h.useCallback(()=>{if(!t||t.isDestroyed)return;const Y=Zx(t,s,i);w(Y),D&&!Y.find(q=>q.id===D)&&k(null)},[t,s,i,D]);h.useEffect(()=>{if(!t)return;const Y=()=>{I.current&&clearTimeout(I.current),I.current=setTimeout(()=>L(),300)};return L(),t.on("update",Y),t.on("create",Y),()=>{t.off("update",Y),t.off("create",Y),I.current&&clearTimeout(I.current)}},[t,L]),h.useEffect(()=>{if(!t||!l||!S||y.length===0)return;const Y=v?.current||t.view.dom.closest(".editor-content-wrapper");if(!Y)return;const q=()=>{const ke=Y.getBoundingClientRect();let Se=null;for(let Ve=y.length-1;Ve>=0;Ve--){const Je=y[Ve],Bt=Uu(t,Je.pos);if(Bt&&Bt.getBoundingClientRect().top-ke.top<=p+10){Se=Je.id;break}}!Se&&y.length>0&&(Se=y[0].id),k(Se)};let R;const Ne=()=>{cancelAnimationFrame(R),R=requestAnimationFrame(q)};return Y.addEventListener("scroll",Ne,{passive:!0}),q(),()=>{Y.removeEventListener("scroll",Ne),cancelAnimationFrame(R)}},[t,y,l,S,p,v]);const z=h.useCallback(Y=>{if(!t||t.isDestroyed)return;const q=Uu(t,Y.pos);if(q){const R=v?.current||t.view.dom.closest(".editor-content-wrapper");if(R){const Ne=R.getBoundingClientRect(),Se=q.getBoundingClientRect().top-Ne.top+R.scrollTop;R.scrollTo({top:Se-p,behavior:"smooth"})}else q.scrollIntoView({behavior:"smooth",block:"start"})}try{t.commands.setTextSelection(Y.pos+1)}catch{}k(Y.id),N?.(Y)},[t,p,N,v]),Q=h.useCallback(()=>{const Y=!S;E(Y),r?.(Y)},[S,r]),re=h.useCallback(Y=>{x(q=>{const R=new Set(q);return R.has(Y)?R.delete(Y):R.add(Y),R})},[]),oe=h.useCallback((Y,q,R=0)=>{if(g)return g(Y,q,()=>z(Y));const Ne=(Y.level-s)*14,ke=d&&Y.children&&Y.children.length>0,Se=A.has(Y.id);return u.jsxDEV("div",{className:`toc-item ${q?"toc-item-active":""} toc-level-${Y.level}`,style:{paddingLeft:`${Ne+10}px`},children:u.jsxDEV("button",{className:"toc-item-button",onClick:()=>z(Y),title:Y.text,children:[ke&&u.jsxDEV("span",{className:"toc-collapse-toggle",onClick:Ve=>{Ve.stopPropagation(),re(Y.id)},children:u.jsxDEV("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:Se?u.jsxDEV("path",{d:"M3.5 2L7 5L3.5 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:340,columnNumber:21},this):u.jsxDEV("path",{d:"M2 3.5L5 7L8 3.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:341,columnNumber:21},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:338,columnNumber:15},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:331,columnNumber:13},this),a&&u.jsxDEV("span",{className:"toc-level-indicator",children:["H",Y.level]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:347,columnNumber:13},this),u.jsxDEV("span",{className:"toc-item-text",children:Y.text},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:349,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:325,columnNumber:9},this)},Y.id,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:320,columnNumber:7},this)},[g,z,d,s,a,A,re]),te=h.useCallback((Y,q=0)=>Y.map(R=>{const Ne=D===R.id,ke=A.has(R.id),Se=R.children&&R.children.length>0;return u.jsxDEV("div",{children:[oe(R,Ne,q),Se&&!ke&&u.jsxDEV("div",{className:"toc-children",children:te(R.children,q+1)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:364,columnNumber:13},this)]},R.id,!0,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:361,columnNumber:9},this)}),[D,A,oe]),ne=h.useCallback(()=>y.map(Y=>{const q=D===Y.id;return oe(Y,q)}),[y,D,oe]);if(!t)return null;const B=d?Xx(y):[];return u.jsxDEV(u.Fragment,{children:[b&&u.jsxDEV("button",{className:`toc-toggle-button toc-toggle-${f}`,onClick:Q,title:S?"Hide Table of Contents":"Show Table of Contents",children:S?u.jsxDEV(P.PanelRightClose,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:393,columnNumber:24},this):u.jsxDEV(P.PanelRightOpen,{size:16},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:393,columnNumber:56},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:388,columnNumber:9},this),u.jsxDEV("div",{ref:O,className:`toc-sidebar ${S?"toc-visible":"toc-hidden"} toc-${f} ${c}`,style:{width:S?`${T}px`:"0px"},children:[S&&u.jsxDEV("div",{className:`toc-resize-handle toc-resize-${f}`,onMouseDown:K},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:405,columnNumber:11},this),u.jsxDEV("div",{className:"toc-inner",children:[o&&u.jsxDEV("div",{className:"toc-header",children:u.jsxDEV("span",{className:"toc-title",children:o},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:415,columnNumber:15},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:414,columnNumber:13},this),u.jsxDEV("div",{className:"toc-content toc-content-with-toggle",children:y.length===0?u.jsxDEV("div",{className:"toc-empty",children:[u.jsxDEV("p",{children:"No headings yet"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:423,columnNumber:17},this),u.jsxDEV("p",{className:"toc-empty-hint",children:"Add headings to see the outline."},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:424,columnNumber:17},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:422,columnNumber:15},this):u.jsxDEV("div",{className:"toc-list",children:d?te(B):ne()},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:427,columnNumber:15},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:420,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:411,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:398,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/TableOfContents.tsx",lineNumber:385,columnNumber:5},this)});function Qx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function js(e,t){return Array(t+1).join(e)}function ju(e){return e.replace(/^\n*/,"")}function Yu(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}function qu(e){return Yu(ju(e))}var Jx=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function Ys(e){return qs(e,Jx)}var Ku=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function Gu(e){return qs(e,Ku)}function Rx(e){return Xu(e,Ku)}var Zu=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function ev(e){return qs(e,Zu)}function tv(e){return Xu(e,Zu)}function qs(e,t){return t.indexOf(e.nodeName)>=0}function Xu(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var We={};We.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}},We.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}},We.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var o=js(r===1?"=":"-",e.length);return`

`+e+`
`+o+`

`}else return`

`+js("#",r)+" "+e+`

`}},We.blockquote={filter:"blockquote",replacement:function(e){return e=qu(e).replace(/^/gm,"> "),`

`+e+`

`}},We.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}},We.listItem={filter:"li",replacement:function(e,t,n){var r=n.bulletListMarker+"   ",o=t.parentNode;if(o.nodeName==="OL"){var s=o.getAttribute("start"),i=Array.prototype.indexOf.call(o.children,t);r=(s?Number(s)+i:i+1)+".  "}var a=/\n$/.test(e);return e=qu(e)+(a?`
`:""),e=e.replace(/\n/gm,`
`+" ".repeat(r.length)),r+e+(t.nextSibling?`
`:"")}},We.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},We.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",o=(r.match(/language-(\S+)/)||[null,""])[1],s=t.firstChild.textContent,i=n.fence.charAt(0),a=3,l=new RegExp("^"+i+"{3,}","gm"),d;d=l.exec(s);)d[0].length>=a&&(a=d[0].length+1);var c=js(i,a);return`

`+c+o+`
`+s.replace(/\n$/,"")+`
`+c+`

`}},We.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}},We.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=co(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+r+")"}},We.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),o=co(t.getAttribute("title"));o&&(o=' "'+o+'"');var s,i;switch(n.linkReferenceStyle){case"collapsed":s="["+e+"][]",i="["+e+"]: "+r+o;break;case"shortcut":s="["+e+"]",i="["+e+"]: "+r+o;break;default:var a=this.references.length+1;s="["+e+"]["+a+"]",i="["+a+"]: "+r+o}return this.references.push(i),s},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}},We.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},We.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},We.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}},We.image={filter:"img",replacement:function(e,t){var n=co(t.getAttribute("alt")),r=t.getAttribute("src")||"",o=co(t.getAttribute("title")),s=o?' "'+o+'"':"";return r?"!["+n+"]("+r+s+")":""}};function co(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function Qu(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}Qu.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=Ks(this.array,e,this.options))||(t=Ks(this._keep,e,this.options))||(t=Ks(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function Ks(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if(nv(o,t,n))return o}}function nv(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function rv(e){var t=e.element,n=e.isBlock,r=e.isVoid,o=e.isPre||function(m){return m.nodeName==="PRE"};if(!(!t.firstChild||o(t))){for(var s=null,i=!1,a=null,l=Ju(a,t,o);l!==t;){if(l.nodeType===3||l.nodeType===4){var d=l.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!i&&d[0]===" "&&(d=d.substr(1)),!d){l=Gs(l);continue}l.data=d,s=l}else if(l.nodeType===1)n(l)||l.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,i=!1):r(l)||o(l)?(s=null,i=!0):s&&(i=!1);else{l=Gs(l);continue}var c=Ju(a,l,o);a=l,l=c}s&&(s.data=s.data.replace(/ $/,""),s.data||Gs(s))}}function Gs(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function Ju(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var Zs=typeof window<"u"?window:{};function ov(){var e=Zs.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function sv(){var e=function(){};return iv()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function iv(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{Zs.ActiveXObject&&(e=!0)}return e}var av=ov()?Zs.DOMParser:sv();function lv(e,t){var n;if(typeof e=="string"){var r=cv().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return rv({element:n,isBlock:Ys,isVoid:Gu,isPre:t.preformattedCode?uv:null}),n}var Xs;function cv(){return Xs=Xs||new av,Xs}function uv(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function dv(e,t){return e.isBlock=Ys(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=mv(e),e.flankingWhitespace=fv(e,t),e}function mv(e){return!Gu(e)&&!ev(e)&&/^\s*$/i.test(e.textContent)&&!Rx(e)&&!tv(e)}function fv(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=pv(e.textContent);return n.leadingAscii&&Ru("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&Ru("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function pv(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function Ru(e,t,n){var r,o,s;return e==="left"?(r=t.previousSibling,o=/ $/):(r=t.nextSibling,o=/^ /),r&&(r.nodeType===3?s=o.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?s=!1:r.nodeType===1&&!Ys(r)&&(s=o.test(r.textContent))),s}var hv=Array.prototype.reduce,gv=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function uo(e){if(!(this instanceof uo))return new uo(e);var t={rules:We,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=Qx({},t,e),this.rules=new Qu(this.options)}uo.prototype={turndown:function(e){if(!yv(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=ed.call(this,new lv(e,this.options));return bv.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return gv.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function ed(e){var t=this;return hv.call(e.childNodes,function(n,r){r=new dv(r,t.options);var o="";return r.nodeType===3?o=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(o=Nv.call(t,r)),td(n,o)},"")}function bv(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=td(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Nv(e){var t=this.rules.forNode(e),n=ed.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function td(e,t){var n=Yu(e),r=ju(t),o=Math.max(e.length-n.length,t.length-r.length),s=`

`.substring(0,o);return n+s+r}function yv(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}var nd=/highlight-(?:text|source)-([a-z0-9]+)/;function xv(e){e.addRule("highlightedCodeBlock",{filter:function(t){var n=t.firstChild;return t.nodeName==="DIV"&&nd.test(t.className)&&n&&n.nodeName==="PRE"},replacement:function(t,n,r){var o=n.className||"",s=(o.match(nd)||[null,""])[1];return`

`+r.fence+s+`
`+n.firstChild.textContent+`
`+r.fence+`

`}})}function vv(e){e.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~"+t+"~"}})}var wv=Array.prototype.indexOf,kv=Array.prototype.every,Cn={};Cn.tableCell={filter:["th","td"],replacement:function(e,t){return rd(e,t)}},Cn.tableRow={filter:"tr",replacement:function(e,t){var n="",r={left:":--",right:"--:",center:":-:"};if(Qs(t))for(var o=0;o<t.childNodes.length;o++){var s="---",i=(t.childNodes[o].getAttribute("align")||"").toLowerCase();i&&(s=r[i]||s),n+=rd(s,t.childNodes[o])}return`
`+e+(n?`
`+n:"")}},Cn.table={filter:function(e){return e.nodeName==="TABLE"&&Qs(e.rows[0])},replacement:function(e){return e=e.replace(`

`,`
`),`

`+e+`

`}},Cn.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}};function Qs(e){var t=e.parentNode;return t.nodeName==="THEAD"||t.firstChild===e&&(t.nodeName==="TABLE"||Ev(t))&&kv.call(e.childNodes,function(n){return n.nodeName==="TH"})}function Ev(e){var t=e.previousSibling;return e.nodeName==="TBODY"&&(!t||t.nodeName==="THEAD"&&/^\s*$/i.test(t.textContent))}function rd(e,t){var n=wv.call(t.parentNode.childNodes,t),r=" ";return n===0&&(r="| "),r+e+" |"}function Cv(e){e.keep(function(n){return n.nodeName==="TABLE"&&!Qs(n.rows[0])});for(var t in Cn)e.addRule(t,Cn[t])}function Sv(e){e.addRule("taskListItems",{filter:function(t){return t.type==="checkbox"&&t.parentNode.nodeName==="LI"},replacement:function(t,n){return(n.checked?"[x]":"[ ]")+" "}})}function Tv(e){e.use([xv,vv,Cv,Sv])}function Mv(){return h.useMemo(()=>{const e=new uo({headingStyle:"atx",codeBlockStyle:"fenced",bulletListMarker:"-",emDelimiter:"*",strongDelimiter:"**",blankReplacement:(t,n)=>n.nodeName==="P"?`

​

`:n.isBlock?`

`:""});return e.use(Tv),e.addRule("highlight",{filter:t=>t.nodeName==="MARK",replacement:t=>`==${t}==`}),e.addRule("resizableImage",{filter:"img",replacement:(t,n)=>{const r=n,o=r.getAttribute("src")||"",i=(r.getAttribute("alt")||"").replace(/\s*\|\s*\d+\s*$/,"").trim(),a=r.getAttribute("width"),l=a?parseInt(a,10):null;return l&&l>0?`![${i}|${l}](${o})`:`![${i}](${o})`}}),e.addRule("taskListItem",{filter:t=>t.nodeName==="LI"&&t.getAttribute("data-type")==="taskItem",replacement:(t,n)=>{const r=n,o=r.querySelector('input[type="checkbox"]'),s=o?.hasAttribute("checked")||o?.checked||r.getAttribute("data-checked")==="true";return t=t.replace(/^\n+/,"").replace(/\n+$/,"").replace(/\n\n+/g,`

`),t=t.replace(/\n\n(- |\d+\. )/g,`
$1`),t=t.replace(/\u200B/g,"").trim(),`- [${s?"x":" "}] `+(t||"​").replace(/\n/gm,`
    `)+`
`}}),e.addRule("tightListParagraph",{filter:t=>t.nodeName==="P"&&t.parentNode!==null&&t.parentNode.nodeName==="LI",replacement:t=>t}),e.addRule("blankLinePreservation",{filter:t=>t.nodeName==="P"&&(t.textContent===""||t.textContent==="​")&&t.parentNode!==null&&t.parentNode.nodeName!=="LI",replacement:()=>`

​

`}),e.addRule("table",{filter:"table",replacement:function(t,n){const r=n,o=Array.from(r.querySelectorAll("tr"));if(o.length===0)return"";const s=[];return o.forEach((i,a)=>{const l=Array.from(i.querySelectorAll("th, td")),d=l.map(c=>(c.textContent?.trim()||"").replace(/\|/g,"\\|"));if(s.push("| "+d.join(" | ")+" |"),a===0){const c=l.map(()=>"---").join(" | ");s.push("| "+c+" |")}}),`

`+s.join(`
`)+`

`}}),e.addRule("tableCell",{filter:["th","td"],replacement:function(t){return t}}),e.addRule("datePill",{filter:t=>t.nodeName==="SPAN"&&t.getAttribute("data-type")==="date-pill",replacement:(t,n)=>{const r=n.getAttribute("data-date");return r?`@${wg(r)}@`:t}}),e.addRule("tagPill",{filter:t=>t.nodeName==="SPAN"&&t.getAttribute("data-type")==="tag-pill",replacement:(t,n)=>{const r=n.getAttribute("data-tag");return r?`#${r}`:t}}),e.addRule("wikiLink",{filter:t=>t.nodeName==="SPAN"&&t.hasAttribute("data-wiki-link"),replacement:(t,n)=>{const r=n.getAttribute("data-page-name");return r?`[[${r}]]`:t}}),e.addRule("callout",{filter:t=>t.nodeName==="DIV"&&t.hasAttribute("data-callout"),replacement:(t,n)=>{const r=n.getAttribute("data-type")||"info",o=t.trim().replace(/\n{3,}/g,`

`);return`

\`\`\`ad-${r}
${o}
\`\`\`

`}}),e},[])}function Js(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Zt=Js();function od(e){Zt=e}var ir={exec:()=>null};function he(e,t=""){let n=typeof e=="string"?e:e.source,r={replace:(o,s)=>{let i=typeof s=="string"?s:s.source;return i=i.replace(He.caret,"$1"),n=n.replace(o,i),r},getRegex:()=>new RegExp(n,t)};return r}var Dv=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),He={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Av=/^(?:[ \t]*(?:\n|$))+/,Pv=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Iv=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ar=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Lv=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Rs=/(?:[*+-]|\d{1,9}[.)])/,sd=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,id=he(sd).replace(/bull/g,Rs).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ov=he(sd).replace(/bull/g,Rs).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ei=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Vv=/^[^\n]+/,ti=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,_v=he(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ti).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Bv=he(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Rs).getRegex(),mo="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ni=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,$v=he("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ni).replace("tag",mo).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ad=he(ei).replace("hr",ar).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mo).getRegex(),Wv=he(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ad).getRegex(),ri={blockquote:Wv,code:Pv,def:_v,fences:Iv,heading:Lv,hr:ar,html:$v,lheading:id,list:Bv,newline:Av,paragraph:ad,table:ir,text:Vv},ld=he("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ar).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mo).getRegex(),zv={...ri,lheading:Ov,table:ld,paragraph:he(ei).replace("hr",ar).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ld).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mo).getRegex()},Fv={...ri,html:he(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ni).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ir,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:he(ei).replace("hr",ar).replace("heading",` *#{1,6} *[^
]`).replace("lheading",id).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Hv=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Uv=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,cd=/^( {2,}|\\)\n(?!\s*$)/,jv=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,fo=/[\p{P}\p{S}]/u,oi=/[\s\p{P}\p{S}]/u,ud=/[^\s\p{P}\p{S}]/u,Yv=he(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,oi).getRegex(),dd=/(?!~)[\p{P}\p{S}]/u,qv=/(?!~)[\s\p{P}\p{S}]/u,Kv=/(?:[^\s\p{P}\p{S}]|~)/u,Gv=he(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Dv?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),md=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Zv=he(md,"u").replace(/punct/g,fo).getRegex(),Xv=he(md,"u").replace(/punct/g,dd).getRegex(),fd="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Qv=he(fd,"gu").replace(/notPunctSpace/g,ud).replace(/punctSpace/g,oi).replace(/punct/g,fo).getRegex(),Jv=he(fd,"gu").replace(/notPunctSpace/g,Kv).replace(/punctSpace/g,qv).replace(/punct/g,dd).getRegex(),Rv=he("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ud).replace(/punctSpace/g,oi).replace(/punct/g,fo).getRegex(),ew=he(/\\(punct)/,"gu").replace(/punct/g,fo).getRegex(),tw=he(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),nw=he(ni).replace("(?:-->|$)","-->").getRegex(),rw=he("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",nw).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),po=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,ow=he(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",po).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),pd=he(/^!?\[(label)\]\[(ref)\]/).replace("label",po).replace("ref",ti).getRegex(),hd=he(/^!?\[(ref)\](?:\[\])?/).replace("ref",ti).getRegex(),sw=he("reflink|nolink(?!\\()","g").replace("reflink",pd).replace("nolink",hd).getRegex(),gd=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,si={_backpedal:ir,anyPunctuation:ew,autolink:tw,blockSkip:Gv,br:cd,code:Uv,del:ir,emStrongLDelim:Zv,emStrongRDelimAst:Qv,emStrongRDelimUnd:Rv,escape:Hv,link:ow,nolink:hd,punctuation:Yv,reflink:pd,reflinkSearch:sw,tag:rw,text:jv,url:ir},iw={...si,link:he(/^!?\[(label)\]\((.*?)\)/).replace("label",po).getRegex(),reflink:he(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",po).getRegex()},ii={...si,emStrongRDelimAst:Jv,emStrongLDelim:Xv,url:he(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",gd).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:he(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",gd).getRegex()},aw={...ii,br:he(cd).replace("{2,}","*").getRegex(),text:he(ii.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ho={normal:ri,gfm:zv,pedantic:Fv},lr={normal:si,gfm:ii,breaks:aw,pedantic:iw},lw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bd=e=>lw[e];function Et(e,t){if(t){if(He.escapeTest.test(e))return e.replace(He.escapeReplace,bd)}else if(He.escapeTestNoEncode.test(e))return e.replace(He.escapeReplaceNoEncode,bd);return e}function Nd(e){try{e=encodeURI(e).replace(He.percentDecode,"%")}catch{return null}return e}function yd(e,t){let n=e.replace(He.findPipe,(s,i,a)=>{let l=!1,d=i;for(;--d>=0&&a[d]==="\\";)l=!l;return l?"|":" |"}),r=n.split(He.splitPipe),o=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(He.slashPipe,"|");return r}function cr(e,t,n){let r=e.length;if(r===0)return"";let o=0;for(;o<r&&e.charAt(r-o-1)===t;)o++;return e.slice(0,r-o)}function cw(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function xd(e,t,n,r,o){let s=t.href,i=t.title||null,a=e[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:i,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function uw(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(r===null)return t;let o=r[1];return t.split(`
`).map(s=>{let i=s.match(n.other.beginningSpace);if(i===null)return s;let[a]=i;return a.length>=o.length?s.slice(o.length):s}).join(`
`)}var go=class{options;rules;lexer;constructor(e){this.options=e||Zt}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:cr(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=uw(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=cr(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:cr(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=cr(t[0],`
`).split(`
`),r="",o="",s=[];for(;n.length>0;){let i=!1,a=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),i=!0;else if(!i)a.push(n[l]);else break;n=n.slice(l);let d=a.join(`
`),c=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${d}`:d,o=o?`${o}
${c}`:c;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,s,!0),this.lexer.state.top=m,n.length===0)break;let f=s.at(-1);if(f?.type==="code")break;if(f?.type==="blockquote"){let p=f,N=p.raw+`
`+n.join(`
`),g=this.blockquote(N);s[s.length-1]=g,r=r.substring(0,r.length-p.raw.length)+g.raw,o=o.substring(0,o.length-p.text.length)+g.text;break}else if(f?.type==="list"){let p=f,N=p.raw+`
`+n.join(`
`),g=this.list(N);s[s.length-1]=g,r=r.substring(0,r.length-f.raw.length)+g.raw,o=o.substring(0,o.length-p.raw.length)+g.raw,n=N.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let s=this.rules.other.listItemRegex(n),i=!1;for(;e;){let l=!1,d="",c="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;d=t[0],e=e.substring(d.length);let m=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,g=>" ".repeat(3*g.length)),f=e.split(`
`,1)[0],p=!m.trim(),N=0;if(this.options.pedantic?(N=2,c=m.trimStart()):p?N=t[1].length+1:(N=t[2].search(this.rules.other.nonSpaceChar),N=N>4?1:N,c=m.slice(N),N+=t[1].length),p&&this.rules.other.blankLine.test(f)&&(d+=f+`
`,e=e.substring(f.length+1),l=!0),!l){let g=this.rules.other.nextBulletRegex(N),b=this.rules.other.hrRegex(N),v=this.rules.other.fencesBeginRegex(N),y=this.rules.other.headingBeginRegex(N),w=this.rules.other.htmlBeginRegex(N);for(;e;){let D=e.split(`
`,1)[0],k;if(f=D,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),k=f):k=f.replace(this.rules.other.tabCharGlobal,"    "),v.test(f)||y.test(f)||w.test(f)||g.test(f)||b.test(f))break;if(k.search(this.rules.other.nonSpaceChar)>=N||!f.trim())c+=`
`+k.slice(N);else{if(p||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||v.test(m)||y.test(m)||b.test(m))break;c+=`
`+f}!p&&!f.trim()&&(p=!0),d+=D+`
`,e=e.substring(D.length+1),m=k.slice(N)}}o.loose||(i?o.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(i=!0)),o.items.push({type:"list_item",raw:d,task:!!this.options.gfm&&this.rules.other.listIsTask.test(c),loose:!1,text:c,tokens:[]}),o.raw+=d}let a=o.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let l of o.items){if(this.lexer.state.top=!1,l.tokens=this.lexer.blockTokens(l.text,[]),l.task){if(l.text=l.text.replace(this.rules.other.listReplaceTask,""),l.tokens[0]?.type==="text"||l.tokens[0]?.type==="paragraph"){l.tokens[0].raw=l.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),l.tokens[0].text=l.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let c=this.lexer.inlineQueue.length-1;c>=0;c--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[c].src)){this.lexer.inlineQueue[c].src=this.lexer.inlineQueue[c].src.replace(this.rules.other.listReplaceTask,"");break}}let d=this.rules.other.listTaskCheckbox.exec(l.raw);if(d){let c={type:"checkbox",raw:d[0]+" ",checked:d[0]!=="[ ]"};l.checked=c.checked,o.loose?l.tokens[0]&&["paragraph","text"].includes(l.tokens[0].type)&&"tokens"in l.tokens[0]&&l.tokens[0].tokens?(l.tokens[0].raw=c.raw+l.tokens[0].raw,l.tokens[0].text=c.raw+l.tokens[0].text,l.tokens[0].tokens.unshift(c)):l.tokens.unshift({type:"paragraph",raw:c.raw,text:c.raw,tokens:[c]}):l.tokens.unshift(c)}}if(!o.loose){let d=l.tokens.filter(m=>m.type==="space"),c=d.length>0&&d.some(m=>this.rules.other.anyLine.test(m.raw));o.loose=c}}if(o.loose)for(let l of o.items){l.loose=!0;for(let d of l.tokens)d.type==="text"&&(d.type="paragraph")}return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:o}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=yd(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let i of r)this.rules.other.tableAlignRight.test(i)?s.align.push("right"):this.rules.other.tableAlignCenter.test(i)?s.align.push("center"):this.rules.other.tableAlignLeft.test(i)?s.align.push("left"):s.align.push(null);for(let i=0;i<n.length;i++)s.header.push({text:n[i],tokens:this.lexer.inline(n[i]),header:!0,align:s.align[i]});for(let i of o)s.rows.push(yd(i,s.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:s.align[l]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=cr(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=cw(t[2],"()");if(s===-2)return;if(s>-1){let i=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,i).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),xd(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[r.toLowerCase()];if(!o){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return xd(n,o,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let o=[...r[0]].length-1,s,i,a=o,l=0,d=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+o);(r=d.exec(t))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(i=[...s].length,r[3]||r[4]){a+=i;continue}else if((r[5]||r[6])&&o%3&&!((o+i)%3)){l+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a+l);let c=[...r[0]][0].length,m=e.slice(0,o+r.index+c+i);if(Math.min(o,i)%2){let p=m.slice(1,-1);return{type:"em",raw:m,text:p,tokens:this.lexer.inlineTokens(p)}}let f=m.slice(2,-2);return{type:"strong",raw:m,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]==="@")n=t[0],r="mailto:"+n;else{let o;do o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(o!==t[0]);n=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},ot=class Ci{tokens;options;state;inlineQueue;tokenizer;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Zt,this.options.tokenizer=this.options.tokenizer||new go,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:He,block:ho.normal,inline:lr.normal};this.options.pedantic?(n.block=ho.pedantic,n.inline=lr.pedantic):this.options.gfm&&(n.block=ho.gfm,this.options.breaks?n.inline=lr.breaks:n.inline=lr.gfm),this.tokenizer.rules=n}static get rules(){return{block:ho,inline:lr}}static lex(t,n){return new Ci(n).lex(t)}static lexInline(t,n){return new Ci(n).inlineTokens(t)}lex(t){t=t.replace(He.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){for(this.options.pedantic&&(t=t.replace(He.tabCharGlobal,"    ").replace(He.spaceLine,""));t;){let o;if(this.options.extensions?.block?.some(i=>(o=i.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);let i=n.at(-1);o.raw.length===1&&i!==void 0?i.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);let i=n.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+o.raw,i.text+=`
`+o.text,this.inlineQueue.at(-1).src=i.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);let i=n.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+o.raw,i.text+=`
`+o.raw,this.inlineQueue.at(-1).src=i.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}let s=t;if(this.options.extensions?.startBlock){let i=1/0,a=t.slice(1),l;this.options.extensions.startBlock.forEach(d=>{l=d.call({lexer:this},a),typeof l=="number"&&l>=0&&(i=Math.min(i,l))}),i<1/0&&i>=0&&(s=t.substring(0,i+1))}if(this.state.top&&(o=this.tokenizer.paragraph(s))){let i=n.at(-1);r&&i?.type==="paragraph"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):n.push(o),r=s.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);let i=n.at(-1);i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):n.push(o);continue}if(t){let i="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(i);break}else throw new Error(i)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r=t,o=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,o.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(o=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=o[2]?o[2].length:0,r=r.slice(0,o.index+s)+"["+"a".repeat(o[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let i=!1,a="";for(;t;){i||(a=""),i=!1;let l;if(this.options.extensions?.inline?.some(c=>(l=c.call({lexer:this},t,n))?(t=t.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.escape(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.tag(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.link(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(l.raw.length);let c=n.at(-1);l.type==="text"&&c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):n.push(l);continue}if(l=this.tokenizer.emStrong(t,r,a)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.codespan(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.br(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.del(t)){t=t.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.autolink(t)){t=t.substring(l.raw.length),n.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(t))){t=t.substring(l.raw.length),n.push(l);continue}let d=t;if(this.options.extensions?.startInline){let c=1/0,m=t.slice(1),f;this.options.extensions.startInline.forEach(p=>{f=p.call({lexer:this},m),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(d=t.substring(0,c+1))}if(l=this.tokenizer.inlineText(d)){t=t.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(a=l.raw.slice(-1)),i=!0;let c=n.at(-1);c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):n.push(l);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}},bo=class{options;parser;constructor(e){this.options=e||Zt}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(He.notSpaceStart)?.[0],o=e.replace(He.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Et(r)+'">'+(n?o:Et(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:Et(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,r="";for(let i=0;i<e.items.length;i++){let a=e.items[i];r+=this.listitem(a)}let o=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+o+s+`>
`+r+"</"+o+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);t+=this.tablerow({text:n});let r="";for(let o=0;o<e.rows.length;o++){let s=e.rows[o];n="";for(let i=0;i<s.length;i++)n+=this.tablecell(s[i]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Et(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),o=Nd(e);if(o===null)return r;e=o;let s='<a href="'+e+'"';return t&&(s+=' title="'+Et(t)+'"'),s+=">"+r+"</a>",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let o=Nd(e);if(o===null)return Et(n);e=o;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${Et(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Et(e.text)}},ai=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},st=class Si{options;renderer;textRenderer;constructor(t){this.options=t||Zt,this.options.renderer=this.options.renderer||new bo,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ai}static parse(t,n){return new Si(n).parse(t)}static parseInline(t,n){return new Si(n).parseInline(t)}parse(t){let n="";for(let r=0;r<t.length;r++){let o=t[r];if(this.options.extensions?.renderers?.[o.type]){let i=o,a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(i.type)){n+=a||"";continue}}let s=o;switch(s.type){case"space":{n+=this.renderer.space(s);break}case"hr":{n+=this.renderer.hr(s);break}case"heading":{n+=this.renderer.heading(s);break}case"code":{n+=this.renderer.code(s);break}case"table":{n+=this.renderer.table(s);break}case"blockquote":{n+=this.renderer.blockquote(s);break}case"list":{n+=this.renderer.list(s);break}case"checkbox":{n+=this.renderer.checkbox(s);break}case"html":{n+=this.renderer.html(s);break}case"def":{n+=this.renderer.def(s);break}case"paragraph":{n+=this.renderer.paragraph(s);break}case"text":{n+=this.renderer.text(s);break}default:{let i='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return n}parseInline(t,n=this.renderer){let r="";for(let o=0;o<t.length;o++){let s=t[o];if(this.options.extensions?.renderers?.[s.type]){let a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=a||"";continue}}let i=s;switch(i.type){case"escape":{r+=n.text(i);break}case"html":{r+=n.html(i);break}case"link":{r+=n.link(i);break}case"image":{r+=n.image(i);break}case"checkbox":{r+=n.checkbox(i);break}case"strong":{r+=n.strong(i);break}case"em":{r+=n.em(i);break}case"codespan":{r+=n.codespan(i);break}case"br":{r+=n.br(i);break}case"del":{r+=n.del(i);break}case"text":{r+=n.text(i);break}default:{let a='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},ur=class{options;block;constructor(e){this.options=e||Zt}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?ot.lex:ot.lexInline}provideParser(){return this.block?st.parse:st.parseInline}},dw=class{defaults=Js();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=st;Renderer=bo;TextRenderer=ai;Lexer=ot;Tokenizer=go;Hooks=ur;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let o=r;for(let s of o.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of o.rows)for(let i of s)n=n.concat(this.walkTokens(i.tokens,t));break}case"list":{let o=r;n=n.concat(this.walkTokens(o.items,t));break}default:{let o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(s=>{let i=o[s].flat(1/0);n=n.concat(this.walkTokens(i,t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let s=t.renderers[o.name];s?t.renderers[o.name]=function(...i){let a=o.renderer.apply(this,i);return a===!1&&(a=s.apply(this,i)),a}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),n.renderer){let o=this.defaults.renderer||new bo(this.defaults);for(let s in n.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let i=s,a=n.renderer[i],l=o[i];o[i]=(...d)=>{let c=a.apply(o,d);return c===!1&&(c=l.apply(o,d)),c||""}}r.renderer=o}if(n.tokenizer){let o=this.defaults.tokenizer||new go(this.defaults);for(let s in n.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let i=s,a=n.tokenizer[i],l=o[i];o[i]=(...d)=>{let c=a.apply(o,d);return c===!1&&(c=l.apply(o,d)),c}}r.tokenizer=o}if(n.hooks){let o=this.defaults.hooks||new ur;for(let s in n.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let i=s,a=n.hooks[i],l=o[i];ur.passThroughHooks.has(s)?o[i]=d=>{if(this.defaults.async&&ur.passThroughHooksRespectAsync.has(s))return(async()=>{let m=await a.call(o,d);return l.call(o,m)})();let c=a.call(o,d);return l.call(o,c)}:o[i]=(...d)=>{if(this.defaults.async)return(async()=>{let m=await a.apply(o,d);return m===!1&&(m=await l.apply(o,d)),m})();let c=a.apply(o,d);return c===!1&&(c=l.apply(o,d)),c}}r.hooks=o}if(n.walkTokens){let o=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(i){let a=[];return a.push(s.call(this,i)),o&&(a=a.concat(o.call(this,i))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ot.lex(e,t??this.defaults)}parser(e,t){return st.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},o={...this.defaults,...r},s=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&r.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(o.hooks&&(o.hooks.options=o,o.hooks.block=e),o.async)return(async()=>{let i=o.hooks?await o.hooks.preprocess(t):t,a=await(o.hooks?await o.hooks.provideLexer():e?ot.lex:ot.lexInline)(i,o),l=o.hooks?await o.hooks.processAllTokens(a):a;o.walkTokens&&await Promise.all(this.walkTokens(l,o.walkTokens));let d=await(o.hooks?await o.hooks.provideParser():e?st.parse:st.parseInline)(l,o);return o.hooks?await o.hooks.postprocess(d):d})().catch(s);try{o.hooks&&(t=o.hooks.preprocess(t));let i=(o.hooks?o.hooks.provideLexer():e?ot.lex:ot.lexInline)(t,o);o.hooks&&(i=o.hooks.processAllTokens(i)),o.walkTokens&&this.walkTokens(i,o.walkTokens);let a=(o.hooks?o.hooks.provideParser():e?st.parse:st.parseInline)(i,o);return o.hooks&&(a=o.hooks.postprocess(a)),a}catch(i){return s(i)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+Et(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},Xt=new dw;function be(e,t){return Xt.parse(e,t)}be.options=be.setOptions=function(e){return Xt.setOptions(e),be.defaults=Xt.defaults,od(be.defaults),be},be.getDefaults=Js,be.defaults=Zt,be.use=function(...e){return Xt.use(...e),be.defaults=Xt.defaults,od(be.defaults),be},be.walkTokens=function(e,t){return Xt.walkTokens(e,t)},be.parseInline=Xt.parseInline,be.Parser=st,be.parser=st.parse,be.Renderer=bo,be.TextRenderer=ai,be.Lexer=ot,be.lexer=ot.lex,be.Tokenizer=go,be.Hooks=ur,be.parse=be,be.options,be.setOptions,be.use,be.walkTokens,be.parseInline,st.parse,ot.lex;const mw=()=>{if(typeof window>"u")return!1;const e="ontouchstart"in window,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),n=window.innerWidth<768;return e&&(t||n)||t&&n},fw=h.forwardRef(function({content:t="",onChange:n,onHTMLChange:r,onMarkdownChange:o,placeholder:s='Start writing... Use "/" for commands',editable:i=!0,autofocus:a=!1,className:l="",showToolbar:d=!0,showWordCount:c=!0,theme:m,autoSave:f=!0,autoSaveKey:p="paragon-editor-content",autoSaveDelay:N=1e3,showRecoveryBanner:g=!0,showFloatingToolbar:b=!0,maxImageSize:v=5*1024*1024,onImageUploadStart:y,onImageUploadComplete:w,onImageUploadError:D,onImageUpload:k,resolveImageSrc:S,showModeToggle:E=!0,initialMode:A="wysiwyg",onModeChange:x,onReady:T,onFocus:M,onBlur:O,onSelectionChange:I,onDestroy:V,onSave:W,onRecover:U,onWikiLinkClick:K,validateWikiLink:L,onWikiLinkSearch:z,onLinkClick:Q,findReplaceOpen:re,onFindReplaceChange:oe,renderToolbar:te,renderFooter:ne,disabledFeatures:B={},minHeight:Y="200px",maxHeight:q,spellCheck:R=!0,headingLevels:Ne=[1,2,3,4,5,6],collapsibleHeadingLevels:ke=[1,2,3],showTableOfContents:Se=!1,tocVisible:Ve=!0,onTocVisibilityChange:Je,tocTitle:Bt="",tocMinLevel:dr=1,tocMaxLevel:mr=4,tocShowLevelIndicators:No=!1,tocHighlightActive:yo=!0,tocTreeView:xo=!1,tocWidth:vo="240px",tocPosition:Tn="right",tocScrollOffset:fr=20,onTocItemClick:Mn,renderTocItem:Dn,tocShowToggleButton:wo=!0,showPerformanceProfiler:ci=!1,onPerformanceProfilerClose:ui,autoReorderChecklist:di=!1,onEditorError:mi,aiActions:Ct,onAIAction:An,onAISetupRequired:Pn},fi){const[Re]=h.useState(()=>mw()),[$t,ko]=h.useState(A),[Eo,le]=h.useState(""),de=h.useRef(A),ee=h.useRef(""),ge=h.useRef(null),[Ue,fe]=h.useState(0),In=!!(Ct&&Ct.length>0&&An),{state:je,executeAction:Ln,abort:pr,reset:et}=Ux(An),[pi,hi]=h.useState(null),[yw,xw]=h.useState({selectionTop:0,selectionBottom:0,selectionCenterX:0}),vw=h.useRef(An);vw.current=An;const Td=h.useRef(Pn);Td.current=Pn;const[ww,kw]=h.useState([]),[Ew,Cw]=h.useState(0),Sw=h.useCallback(($,j)=>{kw($),Cw(j)},[]),gi=h.useRef(y),bi=h.useRef(w),Ni=h.useRef(D),yi=h.useRef(k),xi=h.useRef(S),Md=h.useRef(K),vi=h.useRef(L),wi=h.useRef(z);gi.current=y,bi.current=w,Ni.current=D,yi.current=k,xi.current=S,Md.current=K,vi.current=L,wi.current=z;const Tw=h.useMemo(()=>{const $=[Od.configure({heading:{levels:Ne},codeBlock:!1,dropcursor:{color:"var(--primary)",width:2},bulletList:!1,orderedList:!1,listItem:!1,link:!1,underline:!1,bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}}}),Wi,zi,Ui,Vd.configure({placeholder:s,emptyEditorClass:"is-editor-empty"}),_d.configure({types:["heading","paragraph"]}),Bd.configure({multicolor:!0}),$d.configure({openOnClick:!1,autolink:!0,linkOnPaste:!0,HTMLAttributes:{rel:"noopener noreferrer",target:"_blank"}}),Gd,Zd,Xd,Qd,Su,Mu,Pu,Du];return B.tables||$.push(Wd.Table.configure({resizable:!Re,HTMLAttributes:{class:"editor-table"}}),zd,fm,pm,vm),B.taskLists||$.push(Fi.configure({HTMLAttributes:{class:"task-list"}}),Hi.configure({nested:!0,HTMLAttributes:{class:"task-item"}})),Re||$.push(Yi.configure({listItemTypes:["listItem","taskItem"]})),B.codeBlocks||$.push(Em),B.callouts||$.push(Dm,Tu),B.collapsibleHeadings||$.push(Cu.configure({levels:ke})),B.images||$.push(Zi.configure({allowBase64:!0,HTMLAttributes:{class:"editor-image"},onImageClick:j=>{So({isOpen:!0,src:j.src,alt:j.alt,pos:j.pos,position:{x:j.rect.left+j.rect.width/2,y:j.rect.bottom}})},resolveImageSrc:xi.current?((...j)=>xi.current(...j)):void 0}),Ou.configure({maxFileSize:v,onUploadStart:gi.current?((...j)=>gi.current(...j)):void 0,onUploadComplete:bi.current?((...j)=>bi.current(...j)):void 0,onUploadError:Ni.current?((...j)=>Ni.current(...j)):void 0,onImageUpload:yi.current?((j,J)=>yi.current(j,J)):void 0})),!Re&&!B.datePills&&$.push(rl.configure({HTMLAttributes:{class:"date-pill"}})),B.tagPills||$.push(ol.configure({HTMLAttributes:{class:"tag-pill"}})),B.wikiLinks||$.push(vu.configure({onWikiLinkClick:j=>{console.log("WikiLink clicked:",j),Md.current?.(j)},validateLink:j=>vi.current?vi.current(j):!0})),B.markdownPaste||$.push(ku.configure({enableMarkdownPaste:!0})),$},[s,Re,v,Ne,ke,B]),St=h.useRef(null),Qt=h.useRef(n),Jt=h.useRef(r),ki=h.useRef(o),hr=h.useRef(null);Qt.current=n,Jt.current=r,ki.current=o;const _=_e.useEditor({immediatelyRender:!1,shouldRerenderOnTransaction:!1,onCreate:({editor:$})=>{window.__tiptapEditor=$,T?.($)},onDestroy:()=>{V?.()},extensions:Tw,content:t,editable:i,autofocus:a,editorProps:{attributes:{class:"tiptap-editor outline-none min-h-full",spellcheck:R?"true":"false"},handleClick:($,j,J)=>{if(Q){const ce=J.target.closest("a");if(ce){const se=ce.getAttribute("href");if(se&&Q(se,J)===!1)return J.preventDefault(),!0}}return!1}},onUpdate:({editor:$})=>{St.current&&clearTimeout(St.current),St.current=setTimeout(()=>{if($.isDestroyed)return;const j=$.getHTML();(Qt.current||Jt.current)&&(Qt.current?.(j),Jt.current?.(j))},150)},onFocus:()=>{M?.()},onBlur:()=>{if(St.current&&(clearTimeout(St.current),St.current=null,_&&!_.isDestroyed)){const $=_.getHTML();if((Qt.current||Jt.current)&&(Qt.current?.($),Jt.current?.($)),de.current==="wysiwyg"&&hr.current){const j=hr.current.turndown($);ee.current=j,ki.current?.(j)}}O?.()},onSelectionUpdate:({editor:$})=>{if(I){const{from:j,to:J,empty:ve}=$.state.selection;I({from:j,to:J,empty:ve})}}});h.useEffect(()=>()=>{if(St.current&&(clearTimeout(St.current),St.current=null,_&&!_.isDestroyed)){const $=_.getHTML();if((Qt.current||Jt.current)&&(Qt.current?.($),Jt.current?.($)),de.current==="wysiwyg"&&hr.current){const j=hr.current.turndown($);ee.current=j,ki.current?.(j)}}},[]);const[Dd,Co]=h.useState(!1),[On,So]=h.useState(null),[Mw,Dw]=h.useState(!1),Aw=re!==void 0?re:Mw,Wt=h.useCallback($=>{Dw($),oe?.($)},[oe]),[Pw,Ei]=h.useState(0),[Iw,Lw]=h.useState(""),Tt=bu(_,{storageKey:p,debounceMs:N,enabled:f,onSave:$=>{W?.($)},onRecover:$=>{U?.($)}}),gr=Mv();hr.current=gr;const ht=h.useCallback($=>{if(_){if($==="markdown"&&de.current==="wysiwyg"){const j=_.getHTML(),J=gr.turndown(j);le(J),ee.current=J}else if($==="wysiwyg"&&de.current==="markdown"){const j=["info","note","prompt","resources","todo"];let J=ee.current;j.forEach(se=>{const De=new RegExp(`\`\`\`ad-${se}\\s*\\n([\\s\\S]*?)\`\`\``,"g");J=J.replace(De,(ze,Ze)=>{const br=be.parse(Ze.trim(),{async:!1});return`<div data-callout="" data-type="${se}" class="callout callout-${se}">${br}</div>`})}),j.forEach(se=>{const De=new RegExp(`\`\`\`${se}\\s*\\n([\\s\\S]*?)\`\`\``,"g");J=J.replace(De,(ze,Ze)=>{const br=be.parse(Ze.trim(),{async:!1});return`<div data-callout="" data-type="${se}" class="callout callout-${se}">${br}</div>`})}),J=J.replace(/!\[([^\]]*?)\s*\|\s*(\d+)\]\(([^)]+)\)/g,(se,De,ze,Ze)=>`<img src="${Ze.trim()}" alt="${De.trim()}" width="${ze.trim()}" style="width: ${ze.trim()}px" />`),J=J.replace(new RegExp("(?<!`)==((?:(?!==)[^\\n])+)==(?!`)","g"),"<mark>$1</mark>"),J=J.replace(/@([^@\n]+)@/g,(se,De)=>{const ze=Pt(De);if(ze){const Ze=Mr(ze);return`<span data-type="date-pill" data-date="${ze}" class="date-pill ${Ze}"><span class="date-icon">📅</span><span class="date-text">${De.trim()}</span></span>`}return se}),J=J.replace(new RegExp("(?:^|(?<=\\s))#([a-zA-Z][a-zA-Z0-9_-]*|[a-zA-Z0-9_-]*[a-zA-Z][a-zA-Z0-9_-]*)(?=\\s|$|[.,;:!?)\\]])","gm"),(se,De)=>{const ze=Gn(De);return dn(ze)?`<span data-type="tag-pill" data-tag="${ze}" class="tag-pill"><span class="tag-icon">#</span><span class="tag-text">${ze}</span></span>`:se}),J=J.split(/(```[\s\S]*?```|`[^`\n]+`)/g).map((se,De)=>De%2===1?se:se.replace(/\[\[([^\[\]]+)\]\]/g,(ze,Ze)=>`<span data-wiki-link data-page-name="${Ze.trim()}" class="wiki-link">${Ze.trim()}</span>`)).join("");const ce=be.parse(J,{async:!1});queueMicrotask(()=>{_.isDestroyed||_.commands.setContent(ce)})}ko($),de.current=$,x?.($)}},[_,gr,x]),Ad=h.useCallback($=>{le($),ee.current=$,o?.($)},[o]),Rt=Nu(_,{debounceMs:500,extendedStats:!1,enabled:c});h.useImperativeHandle(fi,()=>({getEditor:()=>_,getHTML:()=>_?.getHTML()||"",getMarkdown:()=>_?gr.turndown(_.getHTML()):"",getText:()=>_?.getText()||"",setContent:$=>{_&&!_.isDestroyed&&queueMicrotask(()=>{_.commands.setContent($)})},clearContent:()=>{_&&!_.isDestroyed&&_.commands.clearContent()},focus:$=>{_&&!_.isDestroyed&&_.commands.focus($)},blur:()=>{_&&!_.isDestroyed&&_.commands.blur()},isEmpty:()=>_?.isEmpty||!0,isFocused:()=>_?.isFocused||!1,getMode:()=>de.current,setMode:$=>ht($),toggleMode:()=>{const $=de.current==="wysiwyg"?"markdown":"wysiwyg";return ht($),$},getWordCount:()=>({words:Rt.words,characters:Rt.characters,charactersWithSpaces:Rt.charactersWithSpaces}),undo:()=>_?.commands.undo(),redo:()=>_?.commands.redo(),canUndo:()=>_?.can().undo()||!1,canRedo:()=>_?.can().redo()||!1,insertContent:$=>_?.commands.insertContent($),insertImage:($,j="")=>_?.commands.setImage({src:$,alt:j}),insertTable:($=3,j=3)=>_?.commands.insertTable({rows:$,cols:j,withHeaderRow:!0}),insertCodeBlock:$=>{$?_?.commands.setCodeBlock({language:$}):_?.commands.setCodeBlock()},insertCallout:($="info")=>_?.commands.insertCallout?.({type:$}),insertHorizontalRule:()=>_?.commands.setHorizontalRule(),toggleBold:()=>_?.commands.toggleBold(),toggleItalic:()=>_?.commands.toggleItalic(),toggleUnderline:()=>_?.commands.toggleUnderline(),toggleStrike:()=>_?.commands.toggleStrike(),toggleCode:()=>_?.commands.toggleCode(),toggleHighlight:()=>_?.commands.toggleHighlight(),setHeading:$=>{$===0?_?.commands.setParagraph():_?.commands.setHeading({level:$})},toggleBulletList:()=>_?.commands.toggleBulletList(),toggleOrderedList:()=>_?.commands.toggleOrderedList(),toggleTaskList:()=>_?.commands.toggleTaskList(),toggleBlockquote:()=>_?.commands.toggleBlockquote(),setLink:$=>_?.commands.setLink({href:$}),unsetLink:()=>_?.commands.unsetLink(),openFindReplace:()=>{Wt(!0),Ei($=>$+1)},closeFindReplace:()=>Wt(!1),save:()=>Tt.save(),clearSavedContent:()=>Tt.clear(),getSelectedText:()=>{if(!_)return"";const{from:$,to:j}=_.state.selection;return _.state.doc.textBetween($,j," ")},isEditable:()=>_?.isEditable||!1,setEditable:$=>_?.setEditable($),getTableOfContents:()=>{if(!_)return[];const $=[];return _.state.doc.descendants((j,J)=>{if(j.type.name==="heading"){const ve=j.attrs.level,ce=j.textContent.trim();ce&&$.push({id:`toc-heading-${J}`,text:ce,level:ve,pos:J})}}),$},scrollToHeading:$=>{if(!(!_||_.isDestroyed))try{const j=_.state.doc.resolve($),J=_.view.nodeDOM(j.before(j.depth+1));if(J instanceof HTMLElement){const ve=_.view.dom.closest(".editor-content-wrapper");if(ve){const ce=ve.getBoundingClientRect(),De=J.getBoundingClientRect().top-ce.top+ve.scrollTop;ve.scrollTo({top:De-20,behavior:"smooth"})}else J.scrollIntoView({behavior:"smooth",block:"start"})}_.commands.setTextSelection($+1)}catch{}}}),[_,gr,ht,Rt,Tt,Wt]),h.useEffect(()=>{const $={getMode:()=>de.current,setMode:j=>{if(j!=="wysiwyg"&&j!=="markdown"){console.error('Invalid mode. Use "wysiwyg" or "markdown"');return}ht(j)},toggleMode:()=>{const j=de.current==="wysiwyg"?"markdown":"wysiwyg";return ht(j),j},switchToVisual:()=>{ht("wysiwyg")},switchToMarkdown:()=>{ht("markdown")},isVisualMode:()=>de.current==="wysiwyg",isMarkdownMode:()=>de.current==="markdown",getRawMarkdown:()=>de.current==="markdown"?ee.current:null,onModeChange:j=>{const J=ve=>{j(ve.detail.mode)};return window.addEventListener("paragon-editor-mode-change",J),()=>window.removeEventListener("paragon-editor-mode-change",J)}};return window.__paragonEditorModeAPI=$,console.log("Paragon Editor Mode API exposed globally as window.__paragonEditorModeAPI"),console.log("Available methods: getMode(), setMode(mode), toggleMode(), switchToVisual(), switchToMarkdown(), isVisualMode(), isMarkdownMode(), getRawMarkdown(), onModeChange(callback)"),()=>{delete window.__paragonEditorModeAPI}},[ht]),h.useEffect(()=>{window.dispatchEvent(new CustomEvent("paragon-editor-mode-change",{detail:{mode:$t}}))},[$t]),h.useEffect(()=>{if(!_||_.isDestroyed)return;const $=j=>{if(!_.isDestroyed){if((j.metaKey||j.ctrlKey)&&j.key==="k"){j.preventDefault(),Co(!0);return}if(!Re&&(j.metaKey||j.ctrlKey)&&j.key==="f"){if(j.preventDefault(),_){const{state:J}=_,{from:ve,to:ce}=J.selection;if(ve!==ce){const se=J.doc.textBetween(ve,ce," ");se.trim()&&Lw(se.trim())}}Wt(!0),Ei(J=>J+1);return}if(!Re&&(j.metaKey||j.ctrlKey)&&j.key==="h"){j.preventDefault(),Wt(!0);return}if(j.key===" ")try{const{state:J}=_,{selection:ve}=J,{$from:ce}=ve,se=ce.nodeBefore?.textContent||"";if(se==="#"){j.preventDefault(),_.chain().focus().deleteRange({from:ce.pos-1,to:ce.pos}).setHeading({level:1}).run();return}if(se==="##"){j.preventDefault(),_.chain().focus().deleteRange({from:ce.pos-2,to:ce.pos}).setHeading({level:2}).run();return}if(se==="###"){j.preventDefault(),_.chain().focus().deleteRange({from:ce.pos-3,to:ce.pos}).setHeading({level:3}).run();return}if(se==="-"||se==="*"){j.preventDefault(),_.chain().focus().deleteRange({from:ce.pos-1,to:ce.pos}).toggleBulletList().run();return}if(/^\d+\.$/.test(se)){j.preventDefault(),_.chain().focus().deleteRange({from:ce.pos-se.length,to:ce.pos}).toggleOrderedList().run();return}if(se==="[]"||se==="[ ]"){j.preventDefault(),_.chain().focus().deleteRange({from:ce.pos-se.length,to:ce.pos}).toggleTaskList().run();return}if(se===">"){j.preventDefault(),_.chain().focus().deleteRange({from:ce.pos-1,to:ce.pos}).toggleBlockquote().run();return}if(se==="```"){j.preventDefault(),_.chain().focus().deleteRange({from:ce.pos-3,to:ce.pos}).toggleCodeBlock().run();return}if(se==="---"||se==="***"){j.preventDefault(),_.chain().focus().deleteRange({from:ce.pos-3,to:ce.pos}).setHorizontalRule().run();return}}catch(J){console.warn("Space shortcut error:",J)}}};return document.addEventListener("keydown",$,!0),()=>document.removeEventListener("keydown",$,!0)},[_,Re,Wt]);const Pd=h.useCallback(($,j)=>{if(!In){Td.current?.();return}if(!_)return;let J={top:0,left:0};if(j){const ve=j.getBoundingClientRect();J={top:ve.bottom+4,left:ve.left}}else{const{from:ve,to:ce}=_.state.selection,se=_.view.coordsAtPos(ve),De=_.view.coordsAtPos(ce);J={top:De.bottom+8,left:(se.left+De.left)/2}}hi({scope:$,position:J})},[In,_]),Ow=h.useCallback(($,j)=>{if(!_||!Ct)return;const J=Ct.find(br=>br.id===$);if(!J)return;const{from:ve,to:ce}=_.state.selection,se=ve!==ce?_.state.doc.textBetween(ve,ce,`
`):"",De=J.scope==="document"||!se?_.getText():se,ze=_.view.coordsAtPos(ve),Ze=_.view.coordsAtPos(ce);xw({selectionTop:ze.top,selectionBottom:Ze.bottom,selectionCenterX:(ze.left+Ze.right)/2}),hi(null),Ln($,J.label,De,{from:ve,to:ce},j)},[_,Ct,Ln]),Vw=h.useCallback(()=>{if(!_||je.status!=="complete")return;const{selectionRange:$,result:j}=je;_.chain().focus().setTextSelection($).deleteSelection().insertContent(j).run(),et()},[_,je,et]),_w=h.useCallback(()=>{if(!_||je.status!=="complete")return;const{selectionRange:$,result:j}=je;_.chain().focus().setTextSelection($.to).insertContent(`
`+j).run(),et()},[_,je,et]),Bw=h.useCallback(()=>{if(!(je.status!=="complete"&&je.status!=="error"))if(je.status==="complete"){const{action:$,actionLabel:j,inputText:J,selectionRange:ve}=je;et(),Ln($,j,J,ve)}else et()},[je,et,Ln]);if(!_)return u.jsxDEV("div",{className:`markdown-editor-container ${l}`,"data-theme":m,children:u.jsxDEV("div",{className:"editor-loading",style:{padding:"1.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxDEV("div",{style:{height:"1rem",width:"100%",borderRadius:"0.25rem",background:"var(--color-muted, #e5e7eb)",opacity:.5,animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1454,columnNumber:11},this),u.jsxDEV("div",{style:{height:"1rem",width:"83%",borderRadius:"0.25rem",background:"var(--color-muted, #e5e7eb)",opacity:.5,animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1455,columnNumber:11},this),u.jsxDEV("div",{style:{height:"1rem",width:"66%",borderRadius:"0.25rem",background:"var(--color-muted, #e5e7eb)",opacity:.5,animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1456,columnNumber:11},this),u.jsxDEV("div",{style:{height:"0.75rem"}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1457,columnNumber:11},this),u.jsxDEV("div",{style:{height:"1rem",width:"100%",borderRadius:"0.25rem",background:"var(--color-muted, #e5e7eb)",opacity:.5,animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1458,columnNumber:11},this),u.jsxDEV("div",{style:{height:"1rem",width:"75%",borderRadius:"0.25rem",background:"var(--color-muted, #e5e7eb)",opacity:.5,animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1459,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1453,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1452,columnNumber:7},this);const Id=u.jsxDEV(pu,{editor:_,onOpenLinkPopover:()=>Co(!0),className:"flex-1",onOpenFindReplace:()=>{Wt(!0),Ei($=>$+1)},disabledFeatures:B,autoReorderChecklist:di,aiEnabled:In||!!Pn,onAISparklesClick:$=>Pd("document",$)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1467,columnNumber:5},this),Ld=u.jsxDEV("div",{className:"editor-footer",children:[f&&u.jsxDEV(yu,{status:Tt.status,lastSaved:Tt.lastSaved},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1486,columnNumber:9},this),u.jsxDEV("div",{className:"word-count",children:u.jsxDEV("span",{children:[Rt.words," words"]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1492,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1491,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1484,columnNumber:5},this),$w={minHeight:Y,...q&&{maxHeight:q,overflowY:"auto"}};return u.jsxDEV("div",{className:`markdown-editor-container ${l}`,"data-theme":m,children:[f&&g&&Tt.hasRecoverableContent&&u.jsxDEV(xu,{onRecover:()=>{Tt.recover()},onDismiss:Tt.dismissRecovery},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1507,columnNumber:9},this),d&&u.jsxDEV("div",{className:"flex items-center bg-card/50",children:[te?te(_,Id):Id,E&&u.jsxDEV("div",{className:"editor-mode-toggle mr-2 sm:mr-3",children:[u.jsxDEV("button",{onClick:()=>ht("wysiwyg"),className:`editor-mode-toggle-btn ${$t==="wysiwyg"?"active":""}`,title:"Visual Editor",children:u.jsxDEV(P.Eye,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1526,columnNumber:17},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1521,columnNumber:15},this),u.jsxDEV("button",{onClick:()=>ht("markdown"),className:`editor-mode-toggle-btn ${$t==="markdown"?"active":""}`,title:"Raw Markdown",children:u.jsxDEV(P.FileText,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1533,columnNumber:17},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1528,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1520,columnNumber:13},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1517,columnNumber:9},this),!Re&&u.jsxDEV(hu,{editor:_,isOpen:Aw,onClose:()=>Wt(!1),focusTrigger:Pw,initialSearchQuery:Iw,editorMode:$t,rawMarkdown:Eo,onRawMarkdownChange:Ad,onMatchesChange:Sw},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1542,columnNumber:9},this),u.jsxDEV(gu,{editor:_},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1556,columnNumber:7},this),u.jsxDEV("div",{className:`editor-main-area ${Se?"editor-with-toc":""}`,children:[Se&&Tn==="left"&&u.jsxDEV(Us,{editor:_,visible:Ve,onVisibilityChange:Je,title:Bt,minLevel:dr,maxLevel:mr,showLevelIndicators:No,highlightActive:yo,treeView:xo,width:vo,position:Tn,scrollOffset:fr,onItemClick:Mn,renderItem:Dn,showToggleButton:wo,scrollContainerRef:ge},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1562,columnNumber:9},this),u.jsxDEV(zx,{resetKey:`${t}-${Ue}`,onRetry:()=>fe($=>$+1),onClearContent:()=>{_&&_.commands.clearContent(),n?.(""),r?.(""),o?.(""),fe($=>$+1)},onError:mi,children:[u.jsxDEV("div",{className:"editor-content-wrapper",ref:ge,style:$w,children:$t==="wysiwyg"?u.jsxDEV(u.Fragment,{children:[u.jsxDEV(_e.EditorContent,{editor:_,className:"editor-content"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1599,columnNumber:13},this),!B.images&&!B.dragAndDrop&&u.jsxDEV(Vu,{containerRef:ge,enabled:i},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1603,columnNumber:15},this),!Re&&b&&u.jsxDEV(Gi,{editor:_,suppressWhenLinkPopoverOpen:Dd,aiEnabled:In||!!Pn,onAISparklesClick:$=>Pd("selection",$)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1609,columnNumber:50},this),pi&&Ct&&u.jsxDEV(Yx,{actions:Ct,scope:pi.scope,position:pi.position,onAction:Ow,onClose:()=>hi(null)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1613,columnNumber:15},this),je.status!=="idle"&&u.jsxDEV(qx,{state:je,position:yw,onReplace:Vw,onInsert:_w,onRetry:Bw,onDiscard:()=>{pr(),et()}},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1624,columnNumber:15},this),!B.slashCommands&&u.jsxDEV(al,{editor:_,disabledFeatures:B},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1635,columnNumber:49},this),!B.wikiLinks&&wi.current&&u.jsxDEV(Vg,{editor:_,onSearch:wi.current},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1639,columnNumber:15},this),u.jsxDEV(Cm,{editor:_,isOpen:Dd,onClose:()=>Co(!1)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1646,columnNumber:13},this),!Re&&u.jsxDEV(Sm,{editor:_,onEditLink:()=>Co(!0)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1654,columnNumber:15},this),!B.images&&On?.isOpen&&u.jsxDEV(_x,{src:On.src,alt:On.alt,position:On.position,onSave:($,j)=>{_.chain().focus().setNodeSelection(On.pos).updateAttributes("resizableImage",{src:$,alt:j}).run(),So(null)},onDelete:()=>{_.chain().focus().setNodeSelection(On.pos).deleteSelection().run(),So(null)},onClose:()=>So(null)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1662,columnNumber:15},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1598,columnNumber:11},this):u.jsxDEV(Bx,{content:Eo,onChange:Ad,placeholder:"Write your markdown here...",editable:i,autofocus:!0,searchMatches:ww,currentMatchIndex:Ew},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1684,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1596,columnNumber:7},this),u.jsxDEV(Fx,{scrollContainerRef:ge},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1695,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1581,columnNumber:7},this),Se&&Tn==="right"&&u.jsxDEV(Us,{editor:_,visible:Ve,onVisibilityChange:Je,title:Bt,minLevel:dr,maxLevel:mr,showLevelIndicators:No,highlightActive:yo,treeView:xo,width:vo,position:Tn,scrollOffset:fr,onItemClick:Mn,renderItem:Dn,showToggleButton:wo,scrollContainerRef:ge},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1699,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1559,columnNumber:7},this),c&&(ne?ne({words:Rt.words,characters:Rt.characters},Tt.status,Ld):Ld),u.jsxDEV(Wx,{visible:ci,onClose:ui,editor:_},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1732,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/MarkdownEditor.tsx",lineNumber:1504,columnNumber:5},this)}),pw=me.Node.create({name:"callout",addOptions(){return{HTMLAttributes:{},types:["info","note","prompt","resources","todo"]}},content:"block+",group:"block",defining:!0,addAttributes(){return{type:{default:"info",parseHTML:e=>e.getAttribute("data-type")||"info",renderHTML:e=>({"data-type":e.type})}}},parseHTML(){return[{tag:"div[data-callout]"}]},renderHTML({node:e,HTMLAttributes:t}){const n=e.attrs.type;return["div",me.mergeAttributes(this.options.HTMLAttributes,t,{"data-callout":"","data-type":n,class:`callout callout-${n}`}),0]},addCommands(){return{setCallout:e=>({commands:t})=>t.wrapIn(this.name,e),toggleCallout:e=>({commands:t})=>t.toggleWrap(this.name,e),unsetCallout:()=>({commands:e})=>e.lift(this.name),insertCallout:e=>({chain:t})=>{const n=e?.type||"info";return t().insertContent({type:this.name,attrs:{type:n},content:[{type:"paragraph"}]}).focus().run()}}},addKeyboardShortcuts(){return{"Mod-Shift-c":()=>this.editor.commands.toggleCallout({type:"info"})}}}),li={name:"dark",description:"Dark theme inspired by VS Code and GitHub Dark",variables:{"--editor-bg":"oklch(0.13 0.01 250)","--editor-fg":"oklch(0.93 0.01 250)","--editor-border":"oklch(0.28 0.01 250)","--editor-primary":"oklch(0.7 0.15 220)","--editor-primary-fg":"oklch(0.13 0.01 250)","--editor-secondary":"oklch(0.22 0.01 250)","--editor-secondary-fg":"oklch(0.75 0.02 250)","--editor-muted":"oklch(0.25 0.01 250)","--editor-muted-fg":"oklch(0.6 0.02 250)","--editor-selection":"oklch(0.35 0.08 220 / 0.4)","--editor-cursor":"oklch(0.7 0.15 220)","--editor-code-bg":"oklch(0.17 0.01 250)","--editor-line-number":"oklch(0.45 0.02 250)","--editor-callout-info":"oklch(0.5 0.12 220)","--editor-callout-warning":"oklch(0.6 0.15 70)","--editor-callout-error":"oklch(0.5 0.15 25)","--editor-callout-success":"oklch(0.5 0.12 160)","--editor-callout-note":"oklch(0.5 0.12 280)","--syntax-keyword":"oklch(0.7 0.18 320)","--syntax-string":"oklch(0.7 0.12 160)","--syntax-number":"oklch(0.75 0.12 70)","--syntax-comment":"oklch(0.5 0.02 250)","--syntax-function":"oklch(0.75 0.15 280)","--syntax-variable":"oklch(0.8 0.1 220)"}},vd={name:"light",description:"Light theme for bright environments",variables:{"--editor-bg":"oklch(0.99 0.005 250)","--editor-fg":"oklch(0.2 0.01 250)","--editor-border":"oklch(0.88 0.01 250)","--editor-primary":"oklch(0.55 0.2 220)","--editor-primary-fg":"oklch(0.99 0.005 250)","--editor-secondary":"oklch(0.95 0.01 250)","--editor-secondary-fg":"oklch(0.4 0.02 250)","--editor-muted":"oklch(0.92 0.01 250)","--editor-muted-fg":"oklch(0.5 0.02 250)","--editor-selection":"oklch(0.7 0.12 220 / 0.3)","--editor-cursor":"oklch(0.55 0.2 220)","--editor-code-bg":"oklch(0.96 0.005 250)","--editor-line-number":"oklch(0.6 0.02 250)","--editor-callout-info":"oklch(0.6 0.15 220)","--editor-callout-warning":"oklch(0.7 0.18 70)","--editor-callout-error":"oklch(0.6 0.18 25)","--editor-callout-success":"oklch(0.6 0.15 160)","--editor-callout-note":"oklch(0.6 0.15 280)","--syntax-keyword":"oklch(0.5 0.2 320)","--syntax-string":"oklch(0.45 0.15 160)","--syntax-number":"oklch(0.5 0.15 70)","--syntax-comment":"oklch(0.55 0.02 250)","--syntax-function":"oklch(0.5 0.18 280)","--syntax-variable":"oklch(0.45 0.12 220)"}},wd={name:"sepia",description:"Warm sepia tones for comfortable reading",variables:{"--editor-bg":"oklch(0.95 0.02 80)","--editor-fg":"oklch(0.25 0.02 60)","--editor-border":"oklch(0.85 0.03 70)","--editor-primary":"oklch(0.55 0.15 50)","--editor-primary-fg":"oklch(0.98 0.01 80)","--editor-secondary":"oklch(0.9 0.025 75)","--editor-secondary-fg":"oklch(0.4 0.02 60)","--editor-muted":"oklch(0.88 0.02 75)","--editor-muted-fg":"oklch(0.5 0.02 60)","--editor-selection":"oklch(0.7 0.1 50 / 0.3)","--editor-cursor":"oklch(0.55 0.15 50)","--editor-code-bg":"oklch(0.92 0.02 75)","--editor-line-number":"oklch(0.6 0.02 60)","--editor-callout-info":"oklch(0.55 0.12 220)","--editor-callout-warning":"oklch(0.65 0.15 50)","--editor-callout-error":"oklch(0.55 0.15 25)","--editor-callout-success":"oklch(0.55 0.12 160)","--editor-callout-note":"oklch(0.55 0.12 280)","--syntax-keyword":"oklch(0.5 0.15 320)","--syntax-string":"oklch(0.45 0.12 160)","--syntax-number":"oklch(0.5 0.12 50)","--syntax-comment":"oklch(0.55 0.02 60)","--syntax-function":"oklch(0.5 0.15 280)","--syntax-variable":"oklch(0.45 0.1 220)"}},kd={name:"nord",description:"Arctic, north-bluish color palette",variables:{"--editor-bg":"oklch(0.23 0.02 240)","--editor-fg":"oklch(0.9 0.01 230)","--editor-border":"oklch(0.32 0.02 240)","--editor-primary":"oklch(0.72 0.1 210)","--editor-primary-fg":"oklch(0.23 0.02 240)","--editor-secondary":"oklch(0.28 0.02 240)","--editor-secondary-fg":"oklch(0.75 0.01 230)","--editor-muted":"oklch(0.35 0.02 240)","--editor-muted-fg":"oklch(0.6 0.01 230)","--editor-selection":"oklch(0.5 0.08 210 / 0.4)","--editor-cursor":"oklch(0.72 0.1 210)","--editor-code-bg":"oklch(0.26 0.02 240)","--editor-line-number":"oklch(0.5 0.01 230)","--editor-callout-info":"oklch(0.68 0.12 210)","--editor-callout-warning":"oklch(0.75 0.12 80)","--editor-callout-error":"oklch(0.65 0.15 15)","--editor-callout-success":"oklch(0.7 0.12 150)","--editor-callout-note":"oklch(0.7 0.1 280)","--syntax-keyword":"oklch(0.7 0.12 280)","--syntax-string":"oklch(0.7 0.1 150)","--syntax-number":"oklch(0.75 0.1 280)","--syntax-comment":"oklch(0.55 0.01 230)","--syntax-function":"oklch(0.72 0.1 210)","--syntax-variable":"oklch(0.9 0.01 230)"}},Sn={dark:li,light:vd,sepia:wd,nord:kd};function Ed(e,t){Object.entries(t.variables).forEach(([n,r])=>{e.style.setProperty(n,r)})}function hw(e,t,n,r){const o=Sn[e]||li;return{name:t,description:n,variables:{...o.variables,...r}}}const Cd=h.createContext(null);function gw({children:e,defaultTheme:t="dark",containerRef:n}){const[r,o]=h.useState(t),s=Sn[r]||Sn.dark,i=h.useCallback(l=>{Sn[l]&&o(l)},[]);h.useEffect(()=>{n?.current&&Ed(n.current,s)},[s,n]);const a={theme:s,themeName:r,setTheme:i,availableThemes:Object.keys(Sn)};return u.jsxDEV(Cd.Provider,{value:a,children:e},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/ThemeProvider.tsx",lineNumber:54,columnNumber:5},this)}function bw(){const e=h.useContext(Cd);if(!e)throw new Error("useEditorTheme must be used within an EditorThemeProvider");return e}const Sd=[{value:"plaintext",label:"Plain Text"},{value:"javascript",label:"JavaScript"},{value:"typescript",label:"TypeScript"},{value:"jsx",label:"JSX"},{value:"tsx",label:"TSX"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"cpp",label:"C++"},{value:"c",label:"C"},{value:"csharp",label:"C#"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"ruby",label:"Ruby"},{value:"php",label:"PHP"},{value:"swift",label:"Swift"},{value:"kotlin",label:"Kotlin"},{value:"html",label:"HTML"},{value:"css",label:"CSS"},{value:"scss",label:"SCSS"},{value:"json",label:"JSON"},{value:"yaml",label:"YAML"},{value:"markdown",label:"Markdown"},{value:"sql",label:"SQL"},{value:"bash",label:"Bash"},{value:"shell",label:"Shell"}];function Nw({node:e,updateAttributes:t}){const[n,r]=h.useState(!1),o=e.attrs.language||"plaintext";Sd.find(i=>i.value===o)?.label;const s=h.useCallback(()=>{const i=e.textContent;navigator.clipboard.writeText(i).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})},[e.textContent]);return u.jsxDEV(_e.NodeViewWrapper,{className:"code-block-wrapper",children:[u.jsxDEV("div",{className:"code-block-controls",contentEditable:!1,children:[u.jsxDEV("div",{className:"code-block-language-wrapper",children:[u.jsxDEV("select",{value:o,onChange:i=>t({language:i.target.value}),className:"code-block-language-select",children:Sd.map(({value:i,label:a})=>u.jsxDEV("option",{value:i,children:a},i,!1,{fileName:"/tmp/paragon/client/src/components/editor/CodeBlockComponent.tsx",lineNumber:64,columnNumber:15},this))},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/CodeBlockComponent.tsx",lineNumber:58,columnNumber:11},this),u.jsxDEV(P.ChevronDown,{size:12,className:"code-block-language-chevron"},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/CodeBlockComponent.tsx",lineNumber:69,columnNumber:11},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/CodeBlockComponent.tsx",lineNumber:57,columnNumber:9},this),u.jsxDEV("button",{onClick:s,className:`code-block-copy-btn ${n?"copied":""}`,title:n?"Copied!":"Copy code",children:n?u.jsxDEV(P.Check,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/CodeBlockComponent.tsx",lineNumber:76,columnNumber:21},this):u.jsxDEV(P.Copy,{size:14},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/CodeBlockComponent.tsx",lineNumber:76,columnNumber:43},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/CodeBlockComponent.tsx",lineNumber:71,columnNumber:9},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/CodeBlockComponent.tsx",lineNumber:56,columnNumber:7},this),u.jsxDEV("pre",{className:"code-block-pre",children:u.jsxDEV("code",{children:u.jsxDEV(_e.NodeViewContent,{},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/CodeBlockComponent.tsx",lineNumber:83,columnNumber:11},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/CodeBlockComponent.tsx",lineNumber:82,columnNumber:9},this)},void 0,!1,{fileName:"/tmp/paragon/client/src/components/editor/CodeBlockComponent.tsx",lineNumber:81,columnNumber:7},this)]},void 0,!0,{fileName:"/tmp/paragon/client/src/components/editor/CodeBlockComponent.tsx",lineNumber:54,columnNumber:5},this)}H.AutoSaveIndicator=yu,H.Callout=pw,H.CalloutInputRule=Tu,H.CodeBlockComponent=Nw,H.CollapsibleHeading=Cu,H.CollapsibleList=Yi,H.DatePill=rl,H.EditorThemeProvider=gw,H.EditorToolbar=pu,H.FindReplace=hu,H.FloatingToolbar=Gi,H.ImageDropZone=Vu,H.ImageUpload=Ou,H.MarkdownEditor=fw,H.MarkdownLinkInputRule=Su,H.MarkdownPasteSafe=ku,H.MixedBulletList=Wi,H.MixedListItem=Ui,H.MixedOrderedList=zi,H.MixedTaskItem=Hi,H.MixedTaskList=Fi,H.RecoveryBanner=xu,H.ResizableImage=Zi,H.SearchHighlight=Mu,H.SelectAllActionBar=gu,H.SelectAllOccurrences=Pu,H.SlashCommands=al,H.TabIndent=Du,H.TableOfContents=Us,H.TagPill=ol,H.WikiLinkSafe=vu,H.applyTheme=Ed,H.createCustomTheme=hw,H.darkTheme=li,H.getDateVariant=Mr,H.isValidTag=dn,H.lightTheme=vd,H.lowlight=pe,H.nordTheme=kd,H.normalizeTag=Gn,H.parseDateFromMarkdown=Pt,H.sepiaTheme=wd,H.themes=Sn,H.useAutoSave=bu,H.useEditorTheme=bw,H.useWordCount=Nu,Object.defineProperty(H,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=paragon.umd.cjs.map
